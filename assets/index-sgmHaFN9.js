var BM=Object.defineProperty;var lS=n=>{throw TypeError(n)};var jM=(n,t,e)=>t in n?BM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var I=(n,t,e)=>jM(n,typeof t!="symbol"?t+"":t,e),Tv=(n,t,e)=>t.has(n)||lS("Cannot "+e);var l=(n,t,e)=>(Tv(n,t,"read from private field"),e?e.call(n):t.get(n)),b=(n,t,e)=>t.has(n)?lS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),g=(n,t,e,i)=>(Tv(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),S=(n,t,e)=>(Tv(n,t,"access private method"),e);var Ee=(n,t,e,i)=>({set _(s){g(n,t,s,e)},get _(){return l(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function VC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zC={exports:{}},Uy={},UC={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=Symbol.for("react.element"),VM=Symbol.for("react.portal"),zM=Symbol.for("react.fragment"),UM=Symbol.for("react.strict_mode"),HM=Symbol.for("react.profiler"),$M=Symbol.for("react.provider"),WM=Symbol.for("react.context"),GM=Symbol.for("react.forward_ref"),XM=Symbol.for("react.suspense"),KM=Symbol.for("react.memo"),YM=Symbol.for("react.lazy"),cS=Symbol.iterator;function qM(n){return n===null||typeof n!="object"?null:(n=cS&&n[cS]||n["@@iterator"],typeof n=="function"?n:null)}var HC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$C=Object.assign,WC={};function rd(n,t,e){this.props=n,this.context=t,this.refs=WC,this.updater=e||HC}rd.prototype.isReactComponent={};rd.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};rd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function GC(){}GC.prototype=rd.prototype;function cb(n,t,e){this.props=n,this.context=t,this.refs=WC,this.updater=e||HC}var ub=cb.prototype=new GC;ub.constructor=cb;$C(ub,rd.prototype);ub.isPureReactComponent=!0;var uS=Array.isArray,XC=Object.prototype.hasOwnProperty,hb={current:null},KC={key:!0,ref:!0,__self:!0,__source:!0};function YC(n,t,e){var i,s={},r=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)XC.call(t,i)&&!KC.hasOwnProperty(i)&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=e;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Rm,type:n,key:r,ref:o,props:s,_owner:hb.current}}function QM(n,t){return{$$typeof:Rm,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function db(n){return typeof n=="object"&&n!==null&&n.$$typeof===Rm}function ZM(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var hS=/\/+/g;function kv(n,t){return typeof n=="object"&&n!==null&&n.key!=null?ZM(""+n.key):t.toString(36)}function Mg(n,t,e,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Rm:case VM:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+kv(o,0):i,uS(s)?(e="",n!=null&&(e=n.replace(hS,"$&/")+"/"),Mg(s,t,e,"",function(u){return u})):s!=null&&(db(s)&&(s=QM(s,e+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hS,"$&/")+"/")+n)),t.push(s)),1;if(o=0,i=i===""?".":i+":",uS(n))for(var a=0;a<n.length;a++){r=n[a];var c=i+kv(r,a);o+=Mg(r,t,e,c,s)}else if(c=qM(n),typeof c=="function")for(n=c.call(n),a=0;!(r=n.next()).done;)r=r.value,c=i+kv(r,a++),o+=Mg(r,t,e,c,s);else if(r==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jm(n,t,e){if(n==null)return n;var i=[],s=0;return Mg(n,i,"","",function(r){return t.call(e,r,s++)}),i}function JM(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Pn={current:null},Dg={transition:null},tD={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Dg,ReactCurrentOwner:hb};function qC(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:Jm,forEach:function(n,t,e){Jm(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Jm(n,function(){t++}),t},toArray:function(n){return Jm(n,function(t){return t})||[]},only:function(n){if(!db(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ut.Component=rd;ut.Fragment=zM;ut.Profiler=HM;ut.PureComponent=cb;ut.StrictMode=UM;ut.Suspense=XM;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tD;ut.act=qC;ut.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=$C({},n.props),s=n.key,r=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=hb.current),t.key!==void 0&&(s=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in t)XC.call(t,c)&&!KC.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=e;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Rm,type:n.type,key:s,ref:r,props:i,_owner:o}};ut.createContext=function(n){return n={$$typeof:WM,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:$M,_context:n},n.Consumer=n};ut.createElement=YC;ut.createFactory=function(n){var t=YC.bind(null,n);return t.type=n,t};ut.createRef=function(){return{current:null}};ut.forwardRef=function(n){return{$$typeof:GM,render:n}};ut.isValidElement=db;ut.lazy=function(n){return{$$typeof:YM,_payload:{_status:-1,_result:n},_init:JM}};ut.memo=function(n,t){return{$$typeof:KM,type:n,compare:t===void 0?null:t}};ut.startTransition=function(n){var t=Dg.transition;Dg.transition={};try{n()}finally{Dg.transition=t}};ut.unstable_act=qC;ut.useCallback=function(n,t){return Pn.current.useCallback(n,t)};ut.useContext=function(n){return Pn.current.useContext(n)};ut.useDebugValue=function(){};ut.useDeferredValue=function(n){return Pn.current.useDeferredValue(n)};ut.useEffect=function(n,t){return Pn.current.useEffect(n,t)};ut.useId=function(){return Pn.current.useId()};ut.useImperativeHandle=function(n,t,e){return Pn.current.useImperativeHandle(n,t,e)};ut.useInsertionEffect=function(n,t){return Pn.current.useInsertionEffect(n,t)};ut.useLayoutEffect=function(n,t){return Pn.current.useLayoutEffect(n,t)};ut.useMemo=function(n,t){return Pn.current.useMemo(n,t)};ut.useReducer=function(n,t,e){return Pn.current.useReducer(n,t,e)};ut.useRef=function(n){return Pn.current.useRef(n)};ut.useState=function(n){return Pn.current.useState(n)};ut.useSyncExternalStore=function(n,t,e){return Pn.current.useSyncExternalStore(n,t,e)};ut.useTransition=function(){return Pn.current.useTransition()};ut.version="18.3.1";UC.exports=ut;var k=UC.exports;const xa=VC(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD=k,nD=Symbol.for("react.element"),iD=Symbol.for("react.fragment"),sD=Object.prototype.hasOwnProperty,rD=eD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oD={key:!0,ref:!0,__self:!0,__source:!0};function QC(n,t,e){var i,s={},r=null,o=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)sD.call(t,i)&&!oD.hasOwnProperty(i)&&(s[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:nD,type:n,key:r,ref:o,props:s,_owner:rD.current}}Uy.Fragment=iD;Uy.jsx=QC;Uy.jsxs=QC;zC.exports=Uy;var P=zC.exports,Cw={},ZC={exports:{}},Ai={},JC={exports:{}},tT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(N,z){var Y=N.length;N.push(z);t:for(;0<Y;){var dt=Y-1>>>1,Q=N[dt];if(0<s(Q,z))N[dt]=z,N[Y]=Q,Y=dt;else break t}}function e(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var z=N[0],Y=N.pop();if(Y!==z){N[0]=Y;t:for(var dt=0,Q=N.length,lt=Q>>>1;dt<lt;){var Lt=2*(dt+1)-1,de=N[Lt],$t=Lt+1,yt=N[$t];if(0>s(de,Y))$t<Q&&0>s(yt,de)?(N[dt]=yt,N[$t]=Y,dt=$t):(N[dt]=de,N[Lt]=Y,dt=Lt);else if($t<Q&&0>s(yt,Y))N[dt]=yt,N[$t]=Y,dt=$t;else break t}}return z}function s(N,z){var Y=N.sortIndex-z.sortIndex;return Y!==0?Y:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,d=null,f=3,p=!1,y=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var z=e(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=N)i(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=e(u)}}function E(N){if(v=!1,x(N),!y)if(e(c)!==null)y=!0,V(C);else{var z=e(u);z!==null&&F(E,z.startTime-N)}}function C(N,z){y=!1,v&&(v=!1,m(R),R=-1),p=!0;var Y=f;try{for(x(z),d=e(c);d!==null&&(!(d.expirationTime>z)||N&&!D());){var dt=d.callback;if(typeof dt=="function"){d.callback=null,f=d.priorityLevel;var Q=dt(d.expirationTime<=z);z=n.unstable_now(),typeof Q=="function"?d.callback=Q:d===e(c)&&i(c),x(z)}else i(c);d=e(c)}if(d!==null)var lt=!0;else{var Lt=e(u);Lt!==null&&F(E,Lt.startTime-z),lt=!1}return lt}finally{d=null,f=Y,p=!1}}var T=!1,_=null,R=-1,M=5,L=-1;function D(){return!(n.unstable_now()-L<M)}function B(){if(_!==null){var N=n.unstable_now();L=N;var z=!0;try{z=_(!0,N)}finally{z?K():(T=!1,_=null)}}else T=!1}var K;if(typeof w=="function")K=function(){w(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Z=U.port2;U.port1.onmessage=B,K=function(){Z.postMessage(null)}}else K=function(){A(B,0)};function V(N){_=N,T||(T=!0,K())}function F(N,z){R=A(function(){N(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,V(C))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return e(c)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Y=f;f=z;try{return N()}finally{f=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=f;f=N;try{return z()}finally{f=Y}},n.unstable_scheduleCallback=function(N,z,Y){var dt=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?dt+Y:dt):Y=dt,N){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,N={id:h++,callback:z,priorityLevel:N,startTime:Y,expirationTime:Q,sortIndex:-1},Y>dt?(N.sortIndex=Y,t(u,N),e(c)===null&&N===e(u)&&(v?(m(R),R=-1):v=!0,F(E,Y-dt))):(N.sortIndex=Q,t(c,N),y||p||(y=!0,V(C))),N},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(N){var z=f;return function(){var Y=f;f=z;try{return N.apply(this,arguments)}finally{f=Y}}}})(tT);JC.exports=tT;var aD=JC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD=k,wi=aD;function O(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eT=new Set,xf={};function kc(n,t){Xh(n,t),Xh(n+"Capture",t)}function Xh(n,t){for(xf[n]=t,n=0;n<t.length;n++)eT.add(t[n])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tw=Object.prototype.hasOwnProperty,cD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dS={},fS={};function uD(n){return Tw.call(fS,n)?!0:Tw.call(dS,n)?!1:cD.test(n)?fS[n]=!0:(dS[n]=!0,!1)}function hD(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function dD(n,t,e,i){if(t===null||typeof t>"u"||hD(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _n(n,t,e,i,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){en[n]=new _n(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];en[t]=new _n(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){en[n]=new _n(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){en[n]=new _n(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){en[n]=new _n(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){en[n]=new _n(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){en[n]=new _n(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){en[n]=new _n(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){en[n]=new _n(n,5,!1,n.toLowerCase(),null,!1,!1)});var fb=/[\-:]([a-z])/g;function pb(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(fb,pb);en[t]=new _n(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(fb,pb);en[t]=new _n(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(fb,pb);en[t]=new _n(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){en[n]=new _n(n,1,!1,n.toLowerCase(),null,!1,!1)});en.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){en[n]=new _n(n,1,!1,n.toLowerCase(),null,!0,!0)});function mb(n,t,e,i){var s=en.hasOwnProperty(t)?en[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dD(t,e,s,i)&&(e=null),i||s===null?uD(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):s.mustUseProperty?n[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,i=s.attributeNamespace,e===null?n.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var ho=lD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tg=Symbol.for("react.element"),$c=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),kw=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),iT=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),Pw=Symbol.for("react.suspense"),_w=Symbol.for("react.suspense_list"),vb=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),sT=Symbol.for("react.offscreen"),pS=Symbol.iterator;function md(n){return n===null||typeof n!="object"?null:(n=pS&&n[pS]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,Pv;function Rd(n){if(Pv===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Pv=t&&t[1]||""}return`
`+Pv+n}var _v=!1;function Rv(n,t){if(!n||_v)return"";_v=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){i=u}n.call(t.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var c=`
`+s[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{_v=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Rd(n):""}function fD(n){switch(n.tag){case 5:return Rd(n.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return n=Rv(n.type,!1),n;case 11:return n=Rv(n.type.render,!1),n;case 1:return n=Rv(n.type,!0),n;default:return""}}function Rw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Wc:return"Fragment";case $c:return"Portal";case kw:return"Profiler";case gb:return"StrictMode";case Pw:return"Suspense";case _w:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case iT:return(n.displayName||"Context")+".Consumer";case nT:return(n._context.displayName||"Context")+".Provider";case yb:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case vb:return t=n.displayName||null,t!==null?t:Rw(n.type)||"Memo";case xo:t=n._payload,n=n._init;try{return Rw(n(t))}catch{}}return null}function pD(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rw(t);case 8:return t===gb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ra(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rT(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mD(n){var t=rT(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,r=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function eg(n){n._valueTracker||(n._valueTracker=mD(n))}function oT(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=rT(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function R0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Lw(n,t){var e=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function mS(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=Ra(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aT(n,t){t=t.checked,t!=null&&mb(n,"checked",t,!1)}function Mw(n,t){aT(n,t);var e=Ra(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Dw(n,t.type,e):t.hasOwnProperty("defaultValue")&&Dw(n,t.type,Ra(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function gS(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Dw(n,t,e){(t!=="number"||R0(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Ld=Array.isArray;function du(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+Ra(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function Nw(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yS(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(O(92));if(Ld(e)){if(1<e.length)throw Error(O(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Ra(e)}}function lT(n,t){var e=Ra(t.value),i=Ra(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function vS(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function cT(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iw(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?cT(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ng,uT=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,s)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(ng=ng||document.createElement("div"),ng.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ng.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function bf(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var rf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gD=["Webkit","ms","Moz","O"];Object.keys(rf).forEach(function(n){gD.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),rf[t]=rf[n]})});function hT(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||rf.hasOwnProperty(n)&&rf[n]?(""+t).trim():t+"px"}function dT(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,s=hT(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,s):n[e]=s}}var yD=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fw(n,t){if(t){if(yD[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Ow(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bw=null;function wb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jw=null,fu=null,pu=null;function wS(n){if(n=Dm(n)){if(typeof jw!="function")throw Error(O(280));var t=n.stateNode;t&&(t=Xy(t),jw(n.stateNode,n.type,t))}}function fT(n){fu?pu?pu.push(n):pu=[n]:fu=n}function pT(){if(fu){var n=fu,t=pu;if(pu=fu=null,wS(n),t)for(n=0;n<t.length;n++)wS(t[n])}}function mT(n,t){return n(t)}function gT(){}var Lv=!1;function yT(n,t,e){if(Lv)return n(t,e);Lv=!0;try{return mT(n,t,e)}finally{Lv=!1,(fu!==null||pu!==null)&&(gT(),pT())}}function Af(n,t){var e=n.stateNode;if(e===null)return null;var i=Xy(e);if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(O(231,t,typeof e));return e}var Vw=!1;if(no)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){Vw=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{Vw=!1}function vD(n,t,e,i,s,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(h){this.onError(h)}}var of=!1,L0=null,M0=!1,zw=null,wD={onError:function(n){of=!0,L0=n}};function xD(n,t,e,i,s,r,o,a,c){of=!1,L0=null,vD.apply(wD,arguments)}function bD(n,t,e,i,s,r,o,a,c){if(xD.apply(this,arguments),of){if(of){var u=L0;of=!1,L0=null}else throw Error(O(198));M0||(M0=!0,zw=u)}}function Pc(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function vT(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function xS(n){if(Pc(n)!==n)throw Error(O(188))}function AD(n){var t=n.alternate;if(!t){if(t=Pc(n),t===null)throw Error(O(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===e)return xS(s),n;if(r===i)return xS(s),t;r=r.sibling}throw Error(O(188))}if(e.return!==i.return)e=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===e){o=!0,e=s,i=r;break}if(a===i){o=!0,i=s,e=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===e){o=!0,e=r,i=s;break}if(a===i){o=!0,i=r,e=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(e.alternate!==i)throw Error(O(190))}if(e.tag!==3)throw Error(O(188));return e.stateNode.current===e?n:t}function wT(n){return n=AD(n),n!==null?xT(n):null}function xT(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=xT(n);if(t!==null)return t;n=n.sibling}return null}var bT=wi.unstable_scheduleCallback,bS=wi.unstable_cancelCallback,SD=wi.unstable_shouldYield,ED=wi.unstable_requestPaint,ye=wi.unstable_now,CD=wi.unstable_getCurrentPriorityLevel,xb=wi.unstable_ImmediatePriority,AT=wi.unstable_UserBlockingPriority,D0=wi.unstable_NormalPriority,TD=wi.unstable_LowPriority,ST=wi.unstable_IdlePriority,Hy=null,Zs=null;function kD(n){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(Hy,n,void 0,(n.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:RD,PD=Math.log,_D=Math.LN2;function RD(n){return n>>>=0,n===0?32:31-(PD(n)/_D|0)|0}var ig=64,sg=4194304;function Md(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function N0(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=e&268435455;if(o!==0){var a=o&~s;a!==0?i=Md(a):(r&=o,r!==0&&(i=Md(r)))}else o=e&~s,o!==0?i=Md(o):r!==0&&(i=Md(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-fs(t),s=1<<e,i|=n[e],t&=~s;return i}function LD(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MD(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-fs(r),a=1<<o,c=s[o];c===-1?(!(a&e)||a&i)&&(s[o]=LD(a,t)):c<=t&&(n.expiredLanes|=a),r&=~a}}function Uw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ET(){var n=ig;return ig<<=1,!(ig&4194240)&&(ig=64),n}function Mv(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Lm(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-fs(t),n[t]=e}function DD(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var s=31-fs(e),r=1<<s;t[s]=0,i[s]=-1,n[s]=-1,e&=~r}}function bb(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-fs(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}var Ct=0;function CT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var TT,Ab,kT,PT,_T,Hw=!1,rg=[],ba=null,Aa=null,Sa=null,Sf=new Map,Ef=new Map,Ao=[],ND="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AS(n,t){switch(n){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ef.delete(t.pointerId)}}function yd(n,t,e,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Dm(t),t!==null&&Ab(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function ID(n,t,e,i,s){switch(t){case"focusin":return ba=yd(ba,n,t,e,i,s),!0;case"dragenter":return Aa=yd(Aa,n,t,e,i,s),!0;case"mouseover":return Sa=yd(Sa,n,t,e,i,s),!0;case"pointerover":var r=s.pointerId;return Sf.set(r,yd(Sf.get(r)||null,n,t,e,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Ef.set(r,yd(Ef.get(r)||null,n,t,e,i,s)),!0}return!1}function RT(n){var t=tl(n.target);if(t!==null){var e=Pc(t);if(e!==null){if(t=e.tag,t===13){if(t=vT(e),t!==null){n.blockedOn=t,_T(n.priority,function(){kT(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ng(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=$w(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);Bw=i,e.target.dispatchEvent(i),Bw=null}else return t=Dm(e),t!==null&&Ab(t),n.blockedOn=e,!1;t.shift()}return!0}function SS(n,t,e){Ng(n)&&e.delete(t)}function FD(){Hw=!1,ba!==null&&Ng(ba)&&(ba=null),Aa!==null&&Ng(Aa)&&(Aa=null),Sa!==null&&Ng(Sa)&&(Sa=null),Sf.forEach(SS),Ef.forEach(SS)}function vd(n,t){n.blockedOn===t&&(n.blockedOn=null,Hw||(Hw=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,FD)))}function Cf(n){function t(s){return vd(s,n)}if(0<rg.length){vd(rg[0],n);for(var e=1;e<rg.length;e++){var i=rg[e];i.blockedOn===n&&(i.blockedOn=null)}}for(ba!==null&&vd(ba,n),Aa!==null&&vd(Aa,n),Sa!==null&&vd(Sa,n),Sf.forEach(t),Ef.forEach(t),e=0;e<Ao.length;e++)i=Ao[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ao.length&&(e=Ao[0],e.blockedOn===null);)RT(e),e.blockedOn===null&&Ao.shift()}var mu=ho.ReactCurrentBatchConfig,I0=!0;function OD(n,t,e,i){var s=Ct,r=mu.transition;mu.transition=null;try{Ct=1,Sb(n,t,e,i)}finally{Ct=s,mu.transition=r}}function BD(n,t,e,i){var s=Ct,r=mu.transition;mu.transition=null;try{Ct=4,Sb(n,t,e,i)}finally{Ct=s,mu.transition=r}}function Sb(n,t,e,i){if(I0){var s=$w(n,t,e,i);if(s===null)Uv(n,t,i,F0,e),AS(n,i);else if(ID(s,n,t,e,i))i.stopPropagation();else if(AS(n,i),t&4&&-1<ND.indexOf(n)){for(;s!==null;){var r=Dm(s);if(r!==null&&TT(r),r=$w(n,t,e,i),r===null&&Uv(n,t,i,F0,e),r===s)break;s=r}s!==null&&i.stopPropagation()}else Uv(n,t,i,null,e)}}var F0=null;function $w(n,t,e,i){if(F0=null,n=wb(i),n=tl(n),n!==null)if(t=Pc(n),t===null)n=null;else if(e=t.tag,e===13){if(n=vT(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return F0=n,null}function LT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CD()){case xb:return 1;case AT:return 4;case D0:case TD:return 16;case ST:return 536870912;default:return 16}default:return 16}}var va=null,Eb=null,Ig=null;function MT(){if(Ig)return Ig;var n,t=Eb,e=t.length,i,s="value"in va?va.value:va.textContent,r=s.length;for(n=0;n<e&&t[n]===s[n];n++);var o=e-n;for(i=1;i<=o&&t[e-i]===s[r-i];i++);return Ig=s.slice(n,1<i?1-i:void 0)}function Fg(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function og(){return!0}function ES(){return!1}function Si(n){function t(e,i,s,r,o){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?og:ES,this.isPropagationStopped=ES,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=og)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=og)},persist:function(){},isPersistent:og}),t}var od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cb=Si(od),Mm=se({},od,{view:0,detail:0}),jD=Si(Mm),Dv,Nv,wd,$y=se({},Mm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tb,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wd&&(wd&&n.type==="mousemove"?(Dv=n.screenX-wd.screenX,Nv=n.screenY-wd.screenY):Nv=Dv=0,wd=n),Dv)},movementY:function(n){return"movementY"in n?n.movementY:Nv}}),CS=Si($y),VD=se({},$y,{dataTransfer:0}),zD=Si(VD),UD=se({},Mm,{relatedTarget:0}),Iv=Si(UD),HD=se({},od,{animationName:0,elapsedTime:0,pseudoElement:0}),$D=Si(HD),WD=se({},od,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),GD=Si(WD),XD=se({},od,{data:0}),TS=Si(XD),KD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QD(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=qD[n])?!!t[n]:!1}function Tb(){return QD}var ZD=se({},Mm,{key:function(n){if(n.key){var t=KD[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Fg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?YD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tb,charCode:function(n){return n.type==="keypress"?Fg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),JD=Si(ZD),t3=se({},$y,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kS=Si(t3),e3=se({},Mm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tb}),n3=Si(e3),i3=se({},od,{propertyName:0,elapsedTime:0,pseudoElement:0}),s3=Si(i3),r3=se({},$y,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),o3=Si(r3),a3=[9,13,27,32],kb=no&&"CompositionEvent"in window,af=null;no&&"documentMode"in document&&(af=document.documentMode);var l3=no&&"TextEvent"in window&&!af,DT=no&&(!kb||af&&8<af&&11>=af),PS=" ",_S=!1;function NT(n,t){switch(n){case"keyup":return a3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gc=!1;function c3(n,t){switch(n){case"compositionend":return IT(t);case"keypress":return t.which!==32?null:(_S=!0,PS);case"textInput":return n=t.data,n===PS&&_S?null:n;default:return null}}function u3(n,t){if(Gc)return n==="compositionend"||!kb&&NT(n,t)?(n=MT(),Ig=Eb=va=null,Gc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DT&&t.locale!=="ko"?null:t.data;default:return null}}var h3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RS(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!h3[n.type]:t==="textarea"}function FT(n,t,e,i){fT(i),t=O0(t,"onChange"),0<t.length&&(e=new Cb("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var lf=null,Tf=null;function d3(n){XT(n,0)}function Wy(n){var t=Yc(n);if(oT(t))return n}function f3(n,t){if(n==="change")return t}var OT=!1;if(no){var Fv;if(no){var Ov="oninput"in document;if(!Ov){var LS=document.createElement("div");LS.setAttribute("oninput","return;"),Ov=typeof LS.oninput=="function"}Fv=Ov}else Fv=!1;OT=Fv&&(!document.documentMode||9<document.documentMode)}function MS(){lf&&(lf.detachEvent("onpropertychange",BT),Tf=lf=null)}function BT(n){if(n.propertyName==="value"&&Wy(Tf)){var t=[];FT(t,Tf,n,wb(n)),yT(d3,t)}}function p3(n,t,e){n==="focusin"?(MS(),lf=t,Tf=e,lf.attachEvent("onpropertychange",BT)):n==="focusout"&&MS()}function m3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wy(Tf)}function g3(n,t){if(n==="click")return Wy(t)}function y3(n,t){if(n==="input"||n==="change")return Wy(t)}function v3(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var ms=typeof Object.is=="function"?Object.is:v3;function kf(n,t){if(ms(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!Tw.call(t,s)||!ms(n[s],t[s]))return!1}return!0}function DS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function NS(n,t){var e=DS(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=DS(e)}}function jT(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?jT(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function VT(){for(var n=window,t=R0();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=R0(n.document)}return t}function Pb(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function w3(n){var t=VT(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&jT(e.ownerDocument.documentElement,e)){if(i!==null&&Pb(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var s=e.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=NS(e,r);var o=NS(e,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var x3=no&&"documentMode"in document&&11>=document.documentMode,Xc=null,Ww=null,cf=null,Gw=!1;function IS(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Gw||Xc==null||Xc!==R0(i)||(i=Xc,"selectionStart"in i&&Pb(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),cf&&kf(cf,i)||(cf=i,i=O0(Ww,"onSelect"),0<i.length&&(t=new Cb("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=Xc)))}function ag(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Kc={animationend:ag("Animation","AnimationEnd"),animationiteration:ag("Animation","AnimationIteration"),animationstart:ag("Animation","AnimationStart"),transitionend:ag("Transition","TransitionEnd")},Bv={},zT={};no&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function Gy(n){if(Bv[n])return Bv[n];if(!Kc[n])return n;var t=Kc[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in zT)return Bv[n]=t[e];return n}var UT=Gy("animationend"),HT=Gy("animationiteration"),$T=Gy("animationstart"),WT=Gy("transitionend"),GT=new Map,FS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(n,t){GT.set(n,t),kc(t,[n])}for(var jv=0;jv<FS.length;jv++){var Vv=FS[jv],b3=Vv.toLowerCase(),A3=Vv[0].toUpperCase()+Vv.slice(1);Oa(b3,"on"+A3)}Oa(UT,"onAnimationEnd");Oa(HT,"onAnimationIteration");Oa($T,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(WT,"onTransitionEnd");Xh("onMouseEnter",["mouseout","mouseover"]);Xh("onMouseLeave",["mouseout","mouseover"]);Xh("onPointerEnter",["pointerout","pointerover"]);Xh("onPointerLeave",["pointerout","pointerover"]);kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dd));function OS(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,bD(i,t,void 0,n),n.currentTarget=null}function XT(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&s.isPropagationStopped())break t;OS(s,a,u),r=c}else for(o=0;o<i.length;o++){if(a=i[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&s.isPropagationStopped())break t;OS(s,a,u),r=c}}}if(M0)throw n=zw,M0=!1,zw=null,n}function zt(n,t){var e=t[Qw];e===void 0&&(e=t[Qw]=new Set);var i=n+"__bubble";e.has(i)||(KT(t,n,2,!1),e.add(i))}function zv(n,t,e){var i=0;t&&(i|=4),KT(e,n,i,t)}var lg="_reactListening"+Math.random().toString(36).slice(2);function Pf(n){if(!n[lg]){n[lg]=!0,eT.forEach(function(e){e!=="selectionchange"&&(S3.has(e)||zv(e,!1,n),zv(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[lg]||(t[lg]=!0,zv("selectionchange",!1,t))}}function KT(n,t,e,i){switch(LT(t)){case 1:var s=OD;break;case 4:s=BD;break;default:s=Sb}e=s.bind(null,t,e,n),s=void 0,!Vw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function Uv(n,t,e,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=tl(a),o===null)return;if(c=o.tag,c===5||c===6){i=r=o;continue t}a=a.parentNode}}i=i.return}yT(function(){var u=r,h=wb(e),d=[];t:{var f=GT.get(n);if(f!==void 0){var p=Cb,y=n;switch(n){case"keypress":if(Fg(e)===0)break t;case"keydown":case"keyup":p=JD;break;case"focusin":y="focus",p=Iv;break;case"focusout":y="blur",p=Iv;break;case"beforeblur":case"afterblur":p=Iv;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=n3;break;case UT:case HT:case $T:p=$D;break;case WT:p=s3;break;case"scroll":p=jD;break;case"wheel":p=o3;break;case"copy":case"cut":case"paste":p=GD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kS}var v=(t&4)!==0,A=!v&&n==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,x;w!==null;){x=w;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,m!==null&&(E=Af(w,m),E!=null&&v.push(_f(w,E,x)))),A)break;w=w.return}0<v.length&&(f=new p(f,y,null,e,h),d.push({event:f,listeners:v}))}}if(!(t&7)){t:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&e!==Bw&&(y=e.relatedTarget||e.fromElement)&&(tl(y)||y[io]))break t;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=e.relatedTarget||e.toElement,p=u,y=y?tl(y):null,y!==null&&(A=Pc(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=CS,E="onMouseLeave",m="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=kS,E="onPointerLeave",m="onPointerEnter",w="pointer"),A=p==null?f:Yc(p),x=y==null?f:Yc(y),f=new v(E,w+"leave",p,e,h),f.target=A,f.relatedTarget=x,E=null,tl(h)===u&&(v=new v(m,w+"enter",y,e,h),v.target=x,v.relatedTarget=A,E=v),A=E,p&&y)e:{for(v=p,m=y,w=0,x=v;x;x=Nc(x))w++;for(x=0,E=m;E;E=Nc(E))x++;for(;0<w-x;)v=Nc(v),w--;for(;0<x-w;)m=Nc(m),x--;for(;w--;){if(v===m||m!==null&&v===m.alternate)break e;v=Nc(v),m=Nc(m)}v=null}else v=null;p!==null&&BS(d,f,p,v,!1),y!==null&&A!==null&&BS(d,A,y,v,!0)}}t:{if(f=u?Yc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=f3;else if(RS(f))if(OT)C=y3;else{C=m3;var T=p3}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=g3);if(C&&(C=C(n,u))){FT(d,C,e,h);break t}T&&T(n,f,u),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Dw(f,"number",f.value)}switch(T=u?Yc(u):window,n){case"focusin":(RS(T)||T.contentEditable==="true")&&(Xc=T,Ww=u,cf=null);break;case"focusout":cf=Ww=Xc=null;break;case"mousedown":Gw=!0;break;case"contextmenu":case"mouseup":case"dragend":Gw=!1,IS(d,e,h);break;case"selectionchange":if(x3)break;case"keydown":case"keyup":IS(d,e,h)}var _;if(kb)t:{switch(n){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else Gc?NT(n,e)&&(R="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(R="onCompositionStart");R&&(DT&&e.locale!=="ko"&&(Gc||R!=="onCompositionStart"?R==="onCompositionEnd"&&Gc&&(_=MT()):(va=h,Eb="value"in va?va.value:va.textContent,Gc=!0)),T=O0(u,R),0<T.length&&(R=new TS(R,n,null,e,h),d.push({event:R,listeners:T}),_?R.data=_:(_=IT(e),_!==null&&(R.data=_)))),(_=l3?c3(n,e):u3(n,e))&&(u=O0(u,"onBeforeInput"),0<u.length&&(h=new TS("onBeforeInput","beforeinput",null,e,h),d.push({event:h,listeners:u}),h.data=_))}XT(d,t)})}function _f(n,t,e){return{instance:n,listener:t,currentTarget:e}}function O0(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Af(n,e),r!=null&&i.unshift(_f(n,r,s)),r=Af(n,t),r!=null&&i.push(_f(n,r,s))),n=n.return}return i}function Nc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function BS(n,t,e,i,s){for(var r=t._reactName,o=[];e!==null&&e!==i;){var a=e,c=a.alternate,u=a.stateNode;if(c!==null&&c===i)break;a.tag===5&&u!==null&&(a=u,s?(c=Af(e,r),c!=null&&o.unshift(_f(e,c,a))):s||(c=Af(e,r),c!=null&&o.push(_f(e,c,a)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var E3=/\r\n?/g,C3=/\u0000|\uFFFD/g;function jS(n){return(typeof n=="string"?n:""+n).replace(E3,`
`).replace(C3,"")}function cg(n,t,e){if(t=jS(t),jS(n)!==t&&e)throw Error(O(425))}function B0(){}var Xw=null,Kw=null;function Yw(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qw=typeof setTimeout=="function"?setTimeout:void 0,T3=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,k3=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(n){return VS.resolve(null).then(n).catch(P3)}:qw;function P3(n){setTimeout(function(){throw n})}function Hv(n,t){var e=t,i=0;do{var s=e.nextSibling;if(n.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(i===0){n.removeChild(s),Cf(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=s}while(e);Cf(t)}function Ea(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function zS(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var ad=Math.random().toString(36).slice(2),Ks="__reactFiber$"+ad,Rf="__reactProps$"+ad,io="__reactContainer$"+ad,Qw="__reactEvents$"+ad,_3="__reactListeners$"+ad,R3="__reactHandles$"+ad;function tl(n){var t=n[Ks];if(t)return t;for(var e=n.parentNode;e;){if(t=e[io]||e[Ks]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=zS(n);n!==null;){if(e=n[Ks])return e;n=zS(n)}return t}n=e,e=n.parentNode}return null}function Dm(n){return n=n[Ks]||n[io],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(O(33))}function Xy(n){return n[Rf]||null}var Zw=[],qc=-1;function Ba(n){return{current:n}}function Ht(n){0>qc||(n.current=Zw[qc],Zw[qc]=null,qc--)}function jt(n,t){qc++,Zw[qc]=n.current,n.current=t}var La={},gn=Ba(La),Un=Ba(!1),wc=La;function Kh(n,t){var e=n.type.contextTypes;if(!e)return La;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in e)s[r]=t[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=s),s}function Hn(n){return n=n.childContextTypes,n!=null}function j0(){Ht(Un),Ht(gn)}function US(n,t,e){if(gn.current!==La)throw Error(O(168));jt(gn,t),jt(Un,e)}function YT(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(O(108,pD(n)||"Unknown",s));return se({},e,i)}function V0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||La,wc=gn.current,jt(gn,n),jt(Un,Un.current),!0}function HS(n,t,e){var i=n.stateNode;if(!i)throw Error(O(169));e?(n=YT(n,t,wc),i.__reactInternalMemoizedMergedChildContext=n,Ht(Un),Ht(gn),jt(gn,n)):Ht(Un),jt(Un,e)}var fr=null,Ky=!1,$v=!1;function qT(n){fr===null?fr=[n]:fr.push(n)}function L3(n){Ky=!0,qT(n)}function ja(){if(!$v&&fr!==null){$v=!0;var n=0,t=Ct;try{var e=fr;for(Ct=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}fr=null,Ky=!1}catch(s){throw fr!==null&&(fr=fr.slice(n+1)),bT(xb,ja),s}finally{Ct=t,$v=!1}}return null}var Qc=[],Zc=0,z0=null,U0=0,ji=[],Vi=0,xc=null,Kr=1,Yr="";function $a(n,t){Qc[Zc++]=U0,Qc[Zc++]=z0,z0=n,U0=t}function QT(n,t,e){ji[Vi++]=Kr,ji[Vi++]=Yr,ji[Vi++]=xc,xc=n;var i=Kr;n=Yr;var s=32-fs(i)-1;i&=~(1<<s),e+=1;var r=32-fs(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Kr=1<<32-fs(t)+s|e<<s|i,Yr=r+n}else Kr=1<<r|e<<s|i,Yr=n}function _b(n){n.return!==null&&($a(n,1),QT(n,1,0))}function Rb(n){for(;n===z0;)z0=Qc[--Zc],Qc[Zc]=null,U0=Qc[--Zc],Qc[Zc]=null;for(;n===xc;)xc=ji[--Vi],ji[Vi]=null,Yr=ji[--Vi],ji[Vi]=null,Kr=ji[--Vi],ji[Vi]=null}var yi=null,gi=null,Yt=!1,hs=null;function ZT(n,t){var e=Ui(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function $S(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,yi=n,gi=Ea(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,yi=n,gi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=xc!==null?{id:Kr,overflow:Yr}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ui(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,yi=n,gi=null,!0):!1;default:return!1}}function Jw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function t1(n){if(Yt){var t=gi;if(t){var e=t;if(!$S(n,t)){if(Jw(n))throw Error(O(418));t=Ea(e.nextSibling);var i=yi;t&&$S(n,t)?ZT(i,e):(n.flags=n.flags&-4097|2,Yt=!1,yi=n)}}else{if(Jw(n))throw Error(O(418));n.flags=n.flags&-4097|2,Yt=!1,yi=n}}}function WS(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;yi=n}function ug(n){if(n!==yi)return!1;if(!Yt)return WS(n),Yt=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Yw(n.type,n.memoizedProps)),t&&(t=gi)){if(Jw(n))throw JT(),Error(O(418));for(;t;)ZT(n,t),t=Ea(t.nextSibling)}if(WS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(O(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){gi=Ea(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}gi=null}}else gi=yi?Ea(n.stateNode.nextSibling):null;return!0}function JT(){for(var n=gi;n;)n=Ea(n.nextSibling)}function Yh(){gi=yi=null,Yt=!1}function Lb(n){hs===null?hs=[n]:hs.push(n)}var M3=ho.ReactCurrentBatchConfig;function xd(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(O(309));var i=e.stateNode}if(!i)throw Error(O(147,n));var s=i,r=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},t._stringRef=r,t)}if(typeof n!="string")throw Error(O(284));if(!e._owner)throw Error(O(290,n))}return n}function hg(n,t){throw n=Object.prototype.toString.call(t),Error(O(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function GS(n){var t=n._init;return t(n._payload)}function tk(n){function t(m,w){if(n){var x=m.deletions;x===null?(m.deletions=[w],m.flags|=16):x.push(w)}}function e(m,w){if(!n)return null;for(;w!==null;)t(m,w),w=w.sibling;return null}function i(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function s(m,w){return m=Pa(m,w),m.index=0,m.sibling=null,m}function r(m,w,x){return m.index=x,n?(x=m.alternate,x!==null?(x=x.index,x<w?(m.flags|=2,w):x):(m.flags|=2,w)):(m.flags|=1048576,w)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,w,x,E){return w===null||w.tag!==6?(w=Qv(x,m.mode,E),w.return=m,w):(w=s(w,x),w.return=m,w)}function c(m,w,x,E){var C=x.type;return C===Wc?h(m,w,x.props.children,E,x.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xo&&GS(C)===w.type)?(E=s(w,x.props),E.ref=xd(m,w,x),E.return=m,E):(E=Hg(x.type,x.key,x.props,null,m.mode,E),E.ref=xd(m,w,x),E.return=m,E)}function u(m,w,x,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Zv(x,m.mode,E),w.return=m,w):(w=s(w,x.children||[]),w.return=m,w)}function h(m,w,x,E,C){return w===null||w.tag!==7?(w=yc(x,m.mode,E,C),w.return=m,w):(w=s(w,x),w.return=m,w)}function d(m,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qv(""+w,m.mode,x),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tg:return x=Hg(w.type,w.key,w.props,null,m.mode,x),x.ref=xd(m,null,w),x.return=m,x;case $c:return w=Zv(w,m.mode,x),w.return=m,w;case xo:var E=w._init;return d(m,E(w._payload),x)}if(Ld(w)||md(w))return w=yc(w,m.mode,x,null),w.return=m,w;hg(m,w)}return null}function f(m,w,x,E){var C=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(m,w,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tg:return x.key===C?c(m,w,x,E):null;case $c:return x.key===C?u(m,w,x,E):null;case xo:return C=x._init,f(m,w,C(x._payload),E)}if(Ld(x)||md(x))return C!==null?null:h(m,w,x,E,null);hg(m,x)}return null}function p(m,w,x,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(x)||null,a(w,m,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case tg:return m=m.get(E.key===null?x:E.key)||null,c(w,m,E,C);case $c:return m=m.get(E.key===null?x:E.key)||null,u(w,m,E,C);case xo:var T=E._init;return p(m,w,x,T(E._payload),C)}if(Ld(E)||md(E))return m=m.get(x)||null,h(w,m,E,C,null);hg(w,E)}return null}function y(m,w,x,E){for(var C=null,T=null,_=w,R=w=0,M=null;_!==null&&R<x.length;R++){_.index>R?(M=_,_=null):M=_.sibling;var L=f(m,_,x[R],E);if(L===null){_===null&&(_=M);break}n&&_&&L.alternate===null&&t(m,_),w=r(L,w,R),T===null?C=L:T.sibling=L,T=L,_=M}if(R===x.length)return e(m,_),Yt&&$a(m,R),C;if(_===null){for(;R<x.length;R++)_=d(m,x[R],E),_!==null&&(w=r(_,w,R),T===null?C=_:T.sibling=_,T=_);return Yt&&$a(m,R),C}for(_=i(m,_);R<x.length;R++)M=p(_,m,R,x[R],E),M!==null&&(n&&M.alternate!==null&&_.delete(M.key===null?R:M.key),w=r(M,w,R),T===null?C=M:T.sibling=M,T=M);return n&&_.forEach(function(D){return t(m,D)}),Yt&&$a(m,R),C}function v(m,w,x,E){var C=md(x);if(typeof C!="function")throw Error(O(150));if(x=C.call(x),x==null)throw Error(O(151));for(var T=C=null,_=w,R=w=0,M=null,L=x.next();_!==null&&!L.done;R++,L=x.next()){_.index>R?(M=_,_=null):M=_.sibling;var D=f(m,_,L.value,E);if(D===null){_===null&&(_=M);break}n&&_&&D.alternate===null&&t(m,_),w=r(D,w,R),T===null?C=D:T.sibling=D,T=D,_=M}if(L.done)return e(m,_),Yt&&$a(m,R),C;if(_===null){for(;!L.done;R++,L=x.next())L=d(m,L.value,E),L!==null&&(w=r(L,w,R),T===null?C=L:T.sibling=L,T=L);return Yt&&$a(m,R),C}for(_=i(m,_);!L.done;R++,L=x.next())L=p(_,m,R,L.value,E),L!==null&&(n&&L.alternate!==null&&_.delete(L.key===null?R:L.key),w=r(L,w,R),T===null?C=L:T.sibling=L,T=L);return n&&_.forEach(function(B){return t(m,B)}),Yt&&$a(m,R),C}function A(m,w,x,E){if(typeof x=="object"&&x!==null&&x.type===Wc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case tg:t:{for(var C=x.key,T=w;T!==null;){if(T.key===C){if(C=x.type,C===Wc){if(T.tag===7){e(m,T.sibling),w=s(T,x.props.children),w.return=m,m=w;break t}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xo&&GS(C)===T.type){e(m,T.sibling),w=s(T,x.props),w.ref=xd(m,T,x),w.return=m,m=w;break t}e(m,T);break}else t(m,T);T=T.sibling}x.type===Wc?(w=yc(x.props.children,m.mode,E,x.key),w.return=m,m=w):(E=Hg(x.type,x.key,x.props,null,m.mode,E),E.ref=xd(m,w,x),E.return=m,m=E)}return o(m);case $c:t:{for(T=x.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){e(m,w.sibling),w=s(w,x.children||[]),w.return=m,m=w;break t}else{e(m,w);break}else t(m,w);w=w.sibling}w=Zv(x,m.mode,E),w.return=m,m=w}return o(m);case xo:return T=x._init,A(m,w,T(x._payload),E)}if(Ld(x))return y(m,w,x,E);if(md(x))return v(m,w,x,E);hg(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(e(m,w.sibling),w=s(w,x),w.return=m,m=w):(e(m,w),w=Qv(x,m.mode,E),w.return=m,m=w),o(m)):e(m,w)}return A}var qh=tk(!0),ek=tk(!1),H0=Ba(null),$0=null,Jc=null,Mb=null;function Db(){Mb=Jc=$0=null}function Nb(n){var t=H0.current;Ht(H0),n._currentValue=t}function e1(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function gu(n,t){$0=n,Mb=Jc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(zn=!0),n.firstContext=null)}function Wi(n){var t=n._currentValue;if(Mb!==n)if(n={context:n,memoizedValue:t,next:null},Jc===null){if($0===null)throw Error(O(308));Jc=n,$0.dependencies={lanes:0,firstContext:n}}else Jc=Jc.next=n;return t}var el=null;function Ib(n){el===null?el=[n]:el.push(n)}function nk(n,t,e,i){var s=t.interleaved;return s===null?(e.next=e,Ib(t)):(e.next=s.next,s.next=e),t.interleaved=e,so(n,i)}function so(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var bo=!1;function Fb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ik(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function qr(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,pt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,so(n,e)}return s=i.interleaved,s===null?(t.next=t,Ib(i)):(t.next=s.next,s.next=t),i.interleaved=t,so(n,e)}function Og(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,bb(n,e)}}function XS(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?s=r=o:r=r.next=o,e=e.next}while(e!==null);r===null?s=r=t:r=r.next=t}else s=r=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function W0(n,t,e,i){var s=n.updateQueue;bo=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(r!==null){var d=s.baseState;o=0,h=u=c=null,a=r;do{var f=a.lane,p=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var y=n,v=a;switch(f=t,p=e,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,f);break t}d=y;break t;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break t;d=se({},d,f);break t;case 2:bo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,c=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);Ac|=o,n.lanes=o,n.memoizedState=d}}function KS(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],s=i.callback;if(s!==null){if(i.callback=null,i=e,typeof s!="function")throw Error(O(191,s));s.call(i)}}}var Nm={},Js=Ba(Nm),Lf=Ba(Nm),Mf=Ba(Nm);function nl(n){if(n===Nm)throw Error(O(174));return n}function Ob(n,t){switch(jt(Mf,t),jt(Lf,n),jt(Js,Nm),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iw(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Iw(t,n)}Ht(Js),jt(Js,t)}function Qh(){Ht(Js),Ht(Lf),Ht(Mf)}function sk(n){nl(Mf.current);var t=nl(Js.current),e=Iw(t,n.type);t!==e&&(jt(Lf,n),jt(Js,e))}function Bb(n){Lf.current===n&&(Ht(Js),Ht(Lf))}var Zt=Ba(0);function G0(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wv=[];function jb(){for(var n=0;n<Wv.length;n++)Wv[n]._workInProgressVersionPrimary=null;Wv.length=0}var Bg=ho.ReactCurrentDispatcher,Gv=ho.ReactCurrentBatchConfig,bc=0,ee=null,_e=null,Ve=null,X0=!1,uf=!1,Df=0,D3=0;function nn(){throw Error(O(321))}function Vb(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!ms(n[e],t[e]))return!1;return!0}function zb(n,t,e,i,s,r){if(bc=r,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bg.current=n===null||n.memoizedState===null?O3:B3,n=e(i,s),uf){r=0;do{if(uf=!1,Df=0,25<=r)throw Error(O(301));r+=1,Ve=_e=null,t.updateQueue=null,Bg.current=j3,n=e(i,s)}while(uf)}if(Bg.current=K0,t=_e!==null&&_e.next!==null,bc=0,Ve=_e=ee=null,X0=!1,t)throw Error(O(300));return n}function Ub(){var n=Df!==0;return Df=0,n}function Es(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ee.memoizedState=Ve=n:Ve=Ve.next=n,Ve}function Gi(){if(_e===null){var n=ee.alternate;n=n!==null?n.memoizedState:null}else n=_e.next;var t=Ve===null?ee.memoizedState:Ve.next;if(t!==null)Ve=t,_e=n;else{if(n===null)throw Error(O(310));_e=n,n={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ve===null?ee.memoizedState=Ve=n:Ve=Ve.next=n}return Ve}function Nf(n,t){return typeof t=="function"?t(n):t}function Xv(n){var t=Gi(),e=t.queue;if(e===null)throw Error(O(311));e.lastRenderedReducer=n;var i=_e,s=i.baseQueue,r=e.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,e.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,c=null,u=r;do{var h=u.lane;if((bc&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=i):c=c.next=d,ee.lanes|=h,Ac|=h}u=u.next}while(u!==null&&u!==r);c===null?o=i:c.next=a,ms(i,t.memoizedState)||(zn=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,e.lastRenderedState=i}if(n=e.interleaved,n!==null){s=n;do r=s.lane,ee.lanes|=r,Ac|=r,s=s.next;while(s!==n)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Kv(n){var t=Gi(),e=t.queue;if(e===null)throw Error(O(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,r=t.memoizedState;if(s!==null){e.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);ms(r,t.memoizedState)||(zn=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,i]}function rk(){}function ok(n,t){var e=ee,i=Gi(),s=t(),r=!ms(i.memoizedState,s);if(r&&(i.memoizedState=s,zn=!0),i=i.queue,Hb(ck.bind(null,e,i,n),[n]),i.getSnapshot!==t||r||Ve!==null&&Ve.memoizedState.tag&1){if(e.flags|=2048,If(9,lk.bind(null,e,i,s,t),void 0,null),Ue===null)throw Error(O(349));bc&30||ak(e,t,s)}return s}function ak(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function lk(n,t,e,i){t.value=e,t.getSnapshot=i,uk(t)&&hk(n)}function ck(n,t,e){return e(function(){uk(t)&&hk(n)})}function uk(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!ms(n,e)}catch{return!0}}function hk(n){var t=so(n,1);t!==null&&ps(t,n,1,-1)}function YS(n){var t=Es();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:n},t.queue=n,n=n.dispatch=F3.bind(null,ee,n),[t.memoizedState,n]}function If(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function dk(){return Gi().memoizedState}function jg(n,t,e,i){var s=Es();ee.flags|=n,s.memoizedState=If(1|t,e,void 0,i===void 0?null:i)}function Yy(n,t,e,i){var s=Gi();i=i===void 0?null:i;var r=void 0;if(_e!==null){var o=_e.memoizedState;if(r=o.destroy,i!==null&&Vb(i,o.deps)){s.memoizedState=If(t,e,r,i);return}}ee.flags|=n,s.memoizedState=If(1|t,e,r,i)}function qS(n,t){return jg(8390656,8,n,t)}function Hb(n,t){return Yy(2048,8,n,t)}function fk(n,t){return Yy(4,2,n,t)}function pk(n,t){return Yy(4,4,n,t)}function mk(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function gk(n,t,e){return e=e!=null?e.concat([n]):null,Yy(4,4,mk.bind(null,t,n),e)}function $b(){}function yk(n,t){var e=Gi();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&Vb(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function vk(n,t){var e=Gi();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&Vb(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function wk(n,t,e){return bc&21?(ms(e,t)||(e=ET(),ee.lanes|=e,Ac|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,zn=!0),n.memoizedState=e)}function N3(n,t){var e=Ct;Ct=e!==0&&4>e?e:4,n(!0);var i=Gv.transition;Gv.transition={};try{n(!1),t()}finally{Ct=e,Gv.transition=i}}function xk(){return Gi().memoizedState}function I3(n,t,e){var i=ka(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},bk(n))Ak(t,e);else if(e=nk(n,t,e,i),e!==null){var s=Cn();ps(e,n,i,s),Sk(e,t,i)}}function F3(n,t,e){var i=ka(n),s={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(bk(n))Ak(t,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,a=r(o,e);if(s.hasEagerState=!0,s.eagerState=a,ms(a,o)){var c=t.interleaved;c===null?(s.next=s,Ib(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}e=nk(n,t,s,i),e!==null&&(s=Cn(),ps(e,n,i,s),Sk(e,t,i))}}function bk(n){var t=n.alternate;return n===ee||t!==null&&t===ee}function Ak(n,t){uf=X0=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function Sk(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,bb(n,e)}}var K0={readContext:Wi,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},O3={readContext:Wi,useCallback:function(n,t){return Es().memoizedState=[n,t===void 0?null:t],n},useContext:Wi,useEffect:qS,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,jg(4194308,4,mk.bind(null,t,n),e)},useLayoutEffect:function(n,t){return jg(4194308,4,n,t)},useInsertionEffect:function(n,t){return jg(4,2,n,t)},useMemo:function(n,t){var e=Es();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=Es();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=I3.bind(null,ee,n),[i.memoizedState,n]},useRef:function(n){var t=Es();return n={current:n},t.memoizedState=n},useState:YS,useDebugValue:$b,useDeferredValue:function(n){return Es().memoizedState=n},useTransition:function(){var n=YS(!1),t=n[0];return n=N3.bind(null,n[1]),Es().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=ee,s=Es();if(Yt){if(e===void 0)throw Error(O(407));e=e()}else{if(e=t(),Ue===null)throw Error(O(349));bc&30||ak(i,t,e)}s.memoizedState=e;var r={value:e,getSnapshot:t};return s.queue=r,qS(ck.bind(null,i,r,n),[n]),i.flags|=2048,If(9,lk.bind(null,i,r,e,t),void 0,null),e},useId:function(){var n=Es(),t=Ue.identifierPrefix;if(Yt){var e=Yr,i=Kr;e=(i&~(1<<32-fs(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=Df++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=D3++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},B3={readContext:Wi,useCallback:yk,useContext:Wi,useEffect:Hb,useImperativeHandle:gk,useInsertionEffect:fk,useLayoutEffect:pk,useMemo:vk,useReducer:Xv,useRef:dk,useState:function(){return Xv(Nf)},useDebugValue:$b,useDeferredValue:function(n){var t=Gi();return wk(t,_e.memoizedState,n)},useTransition:function(){var n=Xv(Nf)[0],t=Gi().memoizedState;return[n,t]},useMutableSource:rk,useSyncExternalStore:ok,useId:xk,unstable_isNewReconciler:!1},j3={readContext:Wi,useCallback:yk,useContext:Wi,useEffect:Hb,useImperativeHandle:gk,useInsertionEffect:fk,useLayoutEffect:pk,useMemo:vk,useReducer:Kv,useRef:dk,useState:function(){return Kv(Nf)},useDebugValue:$b,useDeferredValue:function(n){var t=Gi();return _e===null?t.memoizedState=n:wk(t,_e.memoizedState,n)},useTransition:function(){var n=Kv(Nf)[0],t=Gi().memoizedState;return[n,t]},useMutableSource:rk,useSyncExternalStore:ok,useId:xk,unstable_isNewReconciler:!1};function Qi(n,t){if(n&&n.defaultProps){t=se({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function n1(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:se({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var qy={isMounted:function(n){return(n=n._reactInternals)?Pc(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=Cn(),s=ka(n),r=qr(i,s);r.payload=t,e!=null&&(r.callback=e),t=Ca(n,r,s),t!==null&&(ps(t,n,s,i),Og(t,n,s))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=Cn(),s=ka(n),r=qr(i,s);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=Ca(n,r,s),t!==null&&(ps(t,n,s,i),Og(t,n,s))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Cn(),i=ka(n),s=qr(e,i);s.tag=2,t!=null&&(s.callback=t),t=Ca(n,s,i),t!==null&&(ps(t,n,i,e),Og(t,n,i))}};function QS(n,t,e,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):t.prototype&&t.prototype.isPureReactComponent?!kf(e,i)||!kf(s,r):!0}function Ek(n,t,e){var i=!1,s=La,r=t.contextType;return typeof r=="object"&&r!==null?r=Wi(r):(s=Hn(t)?wc:gn.current,i=t.contextTypes,r=(i=i!=null)?Kh(n,s):La),t=new t(e,r),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qy,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),t}function ZS(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&qy.enqueueReplaceState(t,t.state,null)}function i1(n,t,e,i){var s=n.stateNode;s.props=e,s.state=n.memoizedState,s.refs={},Fb(n);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Wi(r):(r=Hn(t)?wc:gn.current,s.context=Kh(n,r)),s.state=n.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(n1(n,t,r,e),s.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qy.enqueueReplaceState(s,s.state,null),W0(n,e,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Zh(n,t){try{var e="",i=t;do e+=fD(i),i=i.return;while(i);var s=e}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:t,stack:s,digest:null}}function Yv(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function s1(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var V3=typeof WeakMap=="function"?WeakMap:Map;function Ck(n,t,e){e=qr(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){q0||(q0=!0,p1=i),s1(n,t)},e}function Tk(n,t,e){e=qr(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;e.payload=function(){return i(s)},e.callback=function(){s1(n,t)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){s1(n,t),typeof i!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function JS(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new V3;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(s.add(e),n=t4.bind(null,n,t,e),t.then(n,n))}function tE(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function eE(n,t,e,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=qr(-1,1),t.tag=2,Ca(e,t,1))),e.lanes|=1),n)}var z3=ho.ReactCurrentOwner,zn=!1;function Sn(n,t,e,i){t.child=n===null?ek(t,null,e,i):qh(t,n.child,e,i)}function nE(n,t,e,i,s){e=e.render;var r=t.ref;return gu(t,s),i=zb(n,t,e,i,r,s),e=Ub(),n!==null&&!zn?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,ro(n,t,s)):(Yt&&e&&_b(t),t.flags|=1,Sn(n,t,i,s),t.child)}function iE(n,t,e,i,s){if(n===null){var r=e.type;return typeof r=="function"&&!Zb(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,kk(n,t,r,i,s)):(n=Hg(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(e=e.compare,e=e!==null?e:kf,e(o,i)&&n.ref===t.ref)return ro(n,t,s)}return t.flags|=1,n=Pa(r,i),n.ref=t.ref,n.return=t,t.child=n}function kk(n,t,e,i,s){if(n!==null){var r=n.memoizedProps;if(kf(r,i)&&n.ref===t.ref)if(zn=!1,t.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(zn=!0);else return t.lanes=n.lanes,ro(n,t,s)}return r1(n,t,e,i,s)}function Pk(n,t,e){var i=t.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(eu,di),di|=e;else{if(!(e&1073741824))return n=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,jt(eu,di),di|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:e,jt(eu,di),di|=i}else r!==null?(i=r.baseLanes|e,t.memoizedState=null):i=e,jt(eu,di),di|=i;return Sn(n,t,s,e),t.child}function _k(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function r1(n,t,e,i,s){var r=Hn(e)?wc:gn.current;return r=Kh(t,r),gu(t,s),e=zb(n,t,e,i,r,s),i=Ub(),n!==null&&!zn?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,ro(n,t,s)):(Yt&&i&&_b(t),t.flags|=1,Sn(n,t,e,s),t.child)}function sE(n,t,e,i,s){if(Hn(e)){var r=!0;V0(t)}else r=!1;if(gu(t,s),t.stateNode===null)Vg(n,t),Ek(t,e,i),i1(t,e,i,s),i=!0;else if(n===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=Wi(u):(u=Hn(e)?wc:gn.current,u=Kh(t,u));var h=e.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||c!==u)&&ZS(t,o,i,u),bo=!1;var f=t.memoizedState;o.state=f,W0(t,i,o,s),c=t.memoizedState,a!==i||f!==c||Un.current||bo?(typeof h=="function"&&(n1(t,e,h,i),c=t.memoizedState),(a=bo||QS(t,e,a,i,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,ik(n,t),a=t.memoizedProps,u=t.type===t.elementType?a:Qi(t.type,a),o.props=u,d=t.pendingProps,f=o.context,c=e.contextType,typeof c=="object"&&c!==null?c=Wi(c):(c=Hn(e)?wc:gn.current,c=Kh(t,c));var p=e.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&ZS(t,o,i,c),bo=!1,f=t.memoizedState,o.state=f,W0(t,i,o,s);var y=t.memoizedState;a!==d||f!==y||Un.current||bo?(typeof p=="function"&&(n1(t,e,p,i),y=t.memoizedState),(u=bo||QS(t,e,u,i,f,y,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),o.props=i,o.state=y,o.context=c,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),i=!1)}return o1(n,t,e,i,r,s)}function o1(n,t,e,i,s,r){_k(n,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&HS(t,e,!1),ro(n,t,r);i=t.stateNode,z3.current=t;var a=o&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&o?(t.child=qh(t,n.child,null,r),t.child=qh(t,null,a,r)):Sn(n,t,a,r),t.memoizedState=i.state,s&&HS(t,e,!0),t.child}function Rk(n){var t=n.stateNode;t.pendingContext?US(n,t.pendingContext,t.pendingContext!==t.context):t.context&&US(n,t.context,!1),Ob(n,t.containerInfo)}function rE(n,t,e,i,s){return Yh(),Lb(s),t.flags|=256,Sn(n,t,e,i),t.child}var a1={dehydrated:null,treeContext:null,retryLane:0};function l1(n){return{baseLanes:n,cachePool:null,transitions:null}}function Lk(n,t,e){var i=t.pendingProps,s=Zt.current,r=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(r=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),jt(Zt,s&1),n===null)return t1(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,n=i.fallback,r?(i=t.mode,r=t.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Jy(o,i,0,null),n=yc(n,i,e,null),r.return=t,n.return=t,r.sibling=n,t.child=r,t.child.memoizedState=l1(e),t.memoizedState=a1,n):Wb(t,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return U3(n,t,o,i,a,s,e);if(r){r=i.fallback,o=t.mode,s=n.child,a=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pa(s,c),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Pa(a,r):(r=yc(r,o,e,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=n.child.memoizedState,o=o===null?l1(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~e,t.memoizedState=a1,i}return r=n.child,n=r.sibling,i=Pa(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function Wb(n,t){return t=Jy({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function dg(n,t,e,i){return i!==null&&Lb(i),qh(t,n.child,null,e),n=Wb(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function U3(n,t,e,i,s,r,o){if(e)return t.flags&256?(t.flags&=-257,i=Yv(Error(O(422))),dg(n,t,o,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=Jy({mode:"visible",children:i.children},s,0,null),r=yc(r,s,o,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&qh(t,n.child,null,o),t.child.memoizedState=l1(o),t.memoizedState=a1,r);if(!(t.mode&1))return dg(n,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(O(419)),i=Yv(r,i,void 0),dg(n,t,o,i)}if(a=(o&n.childLanes)!==0,zn||a){if(i=Ue,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,so(n,s),ps(i,n,s,-1))}return Qb(),i=Yv(Error(O(421))),dg(n,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=n.child,t=e4.bind(null,n),s._reactRetry=t,null):(n=r.treeContext,gi=Ea(s.nextSibling),yi=t,Yt=!0,hs=null,n!==null&&(ji[Vi++]=Kr,ji[Vi++]=Yr,ji[Vi++]=xc,Kr=n.id,Yr=n.overflow,xc=t),t=Wb(t,i.children),t.flags|=4096,t)}function oE(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),e1(n.return,t,e)}function qv(n,t,e,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=e,r.tailMode=s)}function Mk(n,t,e){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(Sn(n,t,i.children,e),i=Zt.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&oE(n,e,t);else if(n.tag===19)oE(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(jt(Zt,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&G0(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),qv(t,!1,s,e,r);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&G0(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}qv(t,!0,e,null,r);break;case"together":qv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vg(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function ro(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Ac|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(O(153));if(t.child!==null){for(n=t.child,e=Pa(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Pa(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function H3(n,t,e){switch(t.tag){case 3:Rk(t),Yh();break;case 5:sk(t);break;case 1:Hn(t.type)&&V0(t);break;case 4:Ob(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;jt(H0,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(jt(Zt,Zt.current&1),t.flags|=128,null):e&t.child.childLanes?Lk(n,t,e):(jt(Zt,Zt.current&1),n=ro(n,t,e),n!==null?n.sibling:null);jt(Zt,Zt.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return Mk(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(Zt,Zt.current),i)break;return null;case 22:case 23:return t.lanes=0,Pk(n,t,e)}return ro(n,t,e)}var Dk,c1,Nk,Ik;Dk=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};c1=function(){};Nk=function(n,t,e,i){var s=n.memoizedProps;if(s!==i){n=t.stateNode,nl(Js.current);var r=null;switch(e){case"input":s=Lw(n,s),i=Lw(n,i),r=[];break;case"select":s=se({},s,{value:void 0}),i=se({},i,{value:void 0}),r=[];break;case"textarea":s=Nw(n,s),i=Nw(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=B0)}Fw(e,i);var o;e=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xf.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var c=i[u];if(a=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(e||(e={}),e[o]=c[o])}else e||(r||(r=[]),r.push(u,e)),e=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&zt("scroll",n),r||a===c||(r=[])):(r=r||[]).push(u,c))}e&&(r=r||[]).push("style",e);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};Ik=function(n,t,e,i){e!==i&&(t.flags|=4)};function bd(n,t){if(!Yt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function sn(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function $3(n,t,e){var i=t.pendingProps;switch(Rb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Hn(t.type)&&j0(),sn(t),null;case 3:return i=t.stateNode,Qh(),Ht(Un),Ht(gn),jb(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(ug(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hs!==null&&(y1(hs),hs=null))),c1(n,t),sn(t),null;case 5:Bb(t);var s=nl(Mf.current);if(e=t.type,n!==null&&t.stateNode!=null)Nk(n,t,e,i,s),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(O(166));return sn(t),null}if(n=nl(Js.current),ug(t)){i=t.stateNode,e=t.type;var r=t.memoizedProps;switch(i[Ks]=t,i[Rf]=r,n=(t.mode&1)!==0,e){case"dialog":zt("cancel",i),zt("close",i);break;case"iframe":case"object":case"embed":zt("load",i);break;case"video":case"audio":for(s=0;s<Dd.length;s++)zt(Dd[s],i);break;case"source":zt("error",i);break;case"img":case"image":case"link":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"input":mS(i,r),zt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},zt("invalid",i);break;case"textarea":yS(i,r),zt("invalid",i)}Fw(e,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&cg(i.textContent,a,n),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&cg(i.textContent,a,n),s=["children",""+a]):xf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&zt("scroll",i)}switch(e){case"input":eg(i),gS(i,r,!0);break;case"textarea":eg(i),vS(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=B0)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=cT(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(e,{is:i.is}):(n=o.createElement(e),e==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,e),n[Ks]=t,n[Rf]=i,Dk(n,t,!1,!1),t.stateNode=n;t:{switch(o=Ow(e,i),e){case"dialog":zt("cancel",n),zt("close",n),s=i;break;case"iframe":case"object":case"embed":zt("load",n),s=i;break;case"video":case"audio":for(s=0;s<Dd.length;s++)zt(Dd[s],n);s=i;break;case"source":zt("error",n),s=i;break;case"img":case"image":case"link":zt("error",n),zt("load",n),s=i;break;case"details":zt("toggle",n),s=i;break;case"input":mS(n,i),s=Lw(n,i),zt("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=se({},i,{value:void 0}),zt("invalid",n);break;case"textarea":yS(n,i),s=Nw(n,i),zt("invalid",n);break;default:s=i}Fw(e,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?dT(n,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uT(n,c)):r==="children"?typeof c=="string"?(e!=="textarea"||c!=="")&&bf(n,c):typeof c=="number"&&bf(n,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(xf.hasOwnProperty(r)?c!=null&&r==="onScroll"&&zt("scroll",n):c!=null&&mb(n,r,c,o))}switch(e){case"input":eg(n),gS(n,i,!1);break;case"textarea":eg(n),vS(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ra(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?du(n,!!i.multiple,r,!1):i.defaultValue!=null&&du(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=B0)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(n&&t.stateNode!=null)Ik(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(O(166));if(e=nl(Mf.current),nl(Js.current),ug(t)){if(i=t.stateNode,e=t.memoizedProps,i[Ks]=t,(r=i.nodeValue!==e)&&(n=yi,n!==null))switch(n.tag){case 3:cg(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&cg(i.nodeValue,e,(n.mode&1)!==0)}r&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[Ks]=t,t.stateNode=i}return sn(t),null;case 13:if(Ht(Zt),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Yt&&gi!==null&&t.mode&1&&!(t.flags&128))JT(),Yh(),t.flags|=98560,r=!1;else if(r=ug(t),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(O(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(O(317));r[Ks]=t}else Yh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),r=!1}else hs!==null&&(y1(hs),hs=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||Zt.current&1?Re===0&&(Re=3):Qb())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return Qh(),c1(n,t),n===null&&Pf(t.stateNode.containerInfo),sn(t),null;case 10:return Nb(t.type._context),sn(t),null;case 17:return Hn(t.type)&&j0(),sn(t),null;case 19:if(Ht(Zt),r=t.memoizedState,r===null)return sn(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)bd(r,!1);else{if(Re!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=G0(n),o!==null){for(t.flags|=128,bd(r,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)r=e,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return jt(Zt,Zt.current&1|2),t.child}n=n.sibling}r.tail!==null&&ye()>Jh&&(t.flags|=128,i=!0,bd(r,!1),t.lanes=4194304)}else{if(!i)if(n=G0(o),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),bd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Yt)return sn(t),null}else 2*ye()-r.renderingStartTime>Jh&&e!==1073741824&&(t.flags|=128,i=!0,bd(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ye(),t.sibling=null,e=Zt.current,jt(Zt,i?e&1|2:e&1),t):(sn(t),null);case 22:case 23:return qb(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?di&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function W3(n,t){switch(Rb(t),t.tag){case 1:return Hn(t.type)&&j0(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Qh(),Ht(Un),Ht(gn),jb(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return Bb(t),null;case 13:if(Ht(Zt),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Yh()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Ht(Zt),null;case 4:return Qh(),null;case 10:return Nb(t.type._context),null;case 22:case 23:return qb(),null;case 24:return null;default:return null}}var fg=!1,pn=!1,G3=typeof WeakSet=="function"?WeakSet:Set,G=null;function tu(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){he(n,t,i)}else e.current=null}function u1(n,t,e){try{e()}catch(i){he(n,t,i)}}var aE=!1;function X3(n,t){if(Xw=I0,n=VT(),Pb(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var o=0,a=-1,c=-1,u=0,h=0,d=n,f=null;e:for(;;){for(var p;d!==e||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(c=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break e;if(f===e&&++u===s&&(a=o),f===r&&++h===i&&(c=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}e=a===-1||c===-1?null:{start:a,end:c}}else e=null}e=e||{start:0,end:0}}else e=null;for(Kw={focusedElem:n,selectionRange:e},I0=!1,G=t;G!==null;)if(t=G,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,G=n;else for(;G!==null;){t=G;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,A=y.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Qi(t.type,v),A);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(E){he(t,t.return,E)}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}return y=aE,aE=!1,y}function hf(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&u1(t,e,r)}s=s.next}while(s!==i)}}function Qy(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function h1(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function Fk(n){var t=n.alternate;t!==null&&(n.alternate=null,Fk(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Ks],delete t[Rf],delete t[Qw],delete t[_3],delete t[R3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Ok(n){return n.tag===5||n.tag===3||n.tag===4}function lE(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Ok(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function d1(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=B0));else if(i!==4&&(n=n.child,n!==null))for(d1(n,t,e),n=n.sibling;n!==null;)d1(n,t,e),n=n.sibling}function f1(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(f1(n,t,e),n=n.sibling;n!==null;)f1(n,t,e),n=n.sibling}var qe=null,us=!1;function go(n,t,e){for(e=e.child;e!==null;)Bk(n,t,e),e=e.sibling}function Bk(n,t,e){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(Hy,e)}catch{}switch(e.tag){case 5:pn||tu(e,t);case 6:var i=qe,s=us;qe=null,go(n,t,e),qe=i,us=s,qe!==null&&(us?(n=qe,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):qe.removeChild(e.stateNode));break;case 18:qe!==null&&(us?(n=qe,e=e.stateNode,n.nodeType===8?Hv(n.parentNode,e):n.nodeType===1&&Hv(n,e),Cf(n)):Hv(qe,e.stateNode));break;case 4:i=qe,s=us,qe=e.stateNode.containerInfo,us=!0,go(n,t,e),qe=i,us=s;break;case 0:case 11:case 14:case 15:if(!pn&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&u1(e,t,o),s=s.next}while(s!==i)}go(n,t,e);break;case 1:if(!pn&&(tu(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(a){he(e,t,a)}go(n,t,e);break;case 21:go(n,t,e);break;case 22:e.mode&1?(pn=(i=pn)||e.memoizedState!==null,go(n,t,e),pn=i):go(n,t,e);break;default:go(n,t,e)}}function cE(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new G3),t.forEach(function(i){var s=n4.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}}function Xi(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];try{var r=n,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,us=!1;break t;case 3:qe=a.stateNode.containerInfo,us=!0;break t;case 4:qe=a.stateNode.containerInfo,us=!0;break t}a=a.return}if(qe===null)throw Error(O(160));Bk(r,o,s),qe=null,us=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){he(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jk(t,n),t=t.sibling}function jk(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xi(t,n),xs(n),i&4){try{hf(3,n,n.return),Qy(3,n)}catch(v){he(n,n.return,v)}try{hf(5,n,n.return)}catch(v){he(n,n.return,v)}}break;case 1:Xi(t,n),xs(n),i&512&&e!==null&&tu(e,e.return);break;case 5:if(Xi(t,n),xs(n),i&512&&e!==null&&tu(e,e.return),n.flags&32){var s=n.stateNode;try{bf(s,"")}catch(v){he(n,n.return,v)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=e!==null?e.memoizedProps:r,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&aT(s,r),Ow(a,o);var u=Ow(a,r);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?dT(s,d):h==="dangerouslySetInnerHTML"?uT(s,d):h==="children"?bf(s,d):mb(s,h,d,u)}switch(a){case"input":Mw(s,r);break;case"textarea":lT(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?du(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?du(s,!!r.multiple,r.defaultValue,!0):du(s,!!r.multiple,r.multiple?[]:"",!1))}s[Rf]=r}catch(v){he(n,n.return,v)}}break;case 6:if(Xi(t,n),xs(n),i&4){if(n.stateNode===null)throw Error(O(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(v){he(n,n.return,v)}}break;case 3:if(Xi(t,n),xs(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{Cf(t.containerInfo)}catch(v){he(n,n.return,v)}break;case 4:Xi(t,n),xs(n);break;case 13:Xi(t,n),xs(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Kb=ye())),i&4&&cE(n);break;case 22:if(h=e!==null&&e.memoizedState!==null,n.mode&1?(pn=(u=pn)||h,Xi(t,n),pn=u):Xi(t,n),xs(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(G=n,h=n.child;h!==null;){for(d=G=h;G!==null;){switch(f=G,p=f.child,f.tag){case 0:case 11:case 14:case 15:hf(4,f,f.return);break;case 1:tu(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){i=f,e=f.return;try{t=i,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){he(i,e,v)}}break;case 5:tu(f,f.return);break;case 22:if(f.memoizedState!==null){hE(d);continue}}p!==null?(p.return=f,G=p):hE(d)}h=h.sibling}t:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=hT("display",o))}catch(v){he(n,n.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){he(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xi(t,n),xs(n),i&4&&cE(n);break;case 21:break;default:Xi(t,n),xs(n)}}function xs(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(Ok(e)){var i=e;break t}e=e.return}throw Error(O(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(bf(s,""),i.flags&=-33);var r=lE(n);f1(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=lE(n);d1(n,a,o);break;default:throw Error(O(161))}}catch(c){he(n,n.return,c)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function K3(n,t,e){G=n,Vk(n)}function Vk(n,t,e){for(var i=(n.mode&1)!==0;G!==null;){var s=G,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||fg;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||pn;a=fg;var u=pn;if(fg=o,(pn=c)&&!u)for(G=s;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?dE(s):c!==null?(c.return=o,G=c):dE(s);for(;r!==null;)G=r,Vk(r),r=r.sibling;G=s,fg=a,pn=u}uE(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,G=r):uE(n)}}function uE(n){for(;G!==null;){var t=G;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||Qy(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!pn)if(e===null)i.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:Qi(t.type,e.memoizedProps);i.componentDidUpdate(s,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&KS(t,r,i);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}KS(t,o,e)}break;case 5:var a=t.stateNode;if(e===null&&t.flags&4){e=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&e.focus();break;case"img":c.src&&(e.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Cf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}pn||t.flags&512&&h1(t)}catch(f){he(t,t.return,f)}}if(t===n){G=null;break}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}}function hE(n){for(;G!==null;){var t=G;if(t===n){G=null;break}var e=t.sibling;if(e!==null){e.return=t.return,G=e;break}G=t.return}}function dE(n){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Qy(4,t)}catch(c){he(t,e,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(c){he(t,s,c)}}var r=t.return;try{h1(t)}catch(c){he(t,r,c)}break;case 5:var o=t.return;try{h1(t)}catch(c){he(t,o,c)}}}catch(c){he(t,t.return,c)}if(t===n){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var Y3=Math.ceil,Y0=ho.ReactCurrentDispatcher,Gb=ho.ReactCurrentOwner,Hi=ho.ReactCurrentBatchConfig,pt=0,Ue=null,xe=null,tn=0,di=0,eu=Ba(0),Re=0,Ff=null,Ac=0,Zy=0,Xb=0,df=null,Vn=null,Kb=0,Jh=1/0,ur=null,q0=!1,p1=null,Ta=null,pg=!1,wa=null,Q0=0,ff=0,m1=null,zg=-1,Ug=0;function Cn(){return pt&6?ye():zg!==-1?zg:zg=ye()}function ka(n){return n.mode&1?pt&2&&tn!==0?tn&-tn:M3.transition!==null?(Ug===0&&(Ug=ET()),Ug):(n=Ct,n!==0||(n=window.event,n=n===void 0?16:LT(n.type)),n):1}function ps(n,t,e,i){if(50<ff)throw ff=0,m1=null,Error(O(185));Lm(n,e,i),(!(pt&2)||n!==Ue)&&(n===Ue&&(!(pt&2)&&(Zy|=e),Re===4&&So(n,tn)),$n(n,i),e===1&&pt===0&&!(t.mode&1)&&(Jh=ye()+500,Ky&&ja()))}function $n(n,t){var e=n.callbackNode;MD(n,t);var i=N0(n,n===Ue?tn:0);if(i===0)e!==null&&bS(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&bS(e),t===1)n.tag===0?L3(fE.bind(null,n)):qT(fE.bind(null,n)),k3(function(){!(pt&6)&&ja()}),e=null;else{switch(CT(i)){case 1:e=xb;break;case 4:e=AT;break;case 16:e=D0;break;case 536870912:e=ST;break;default:e=D0}e=Kk(e,zk.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function zk(n,t){if(zg=-1,Ug=0,pt&6)throw Error(O(327));var e=n.callbackNode;if(yu()&&n.callbackNode!==e)return null;var i=N0(n,n===Ue?tn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=Z0(n,i);else{t=i;var s=pt;pt|=2;var r=Hk();(Ue!==n||tn!==t)&&(ur=null,Jh=ye()+500,gc(n,t));do try{Z3();break}catch(a){Uk(n,a)}while(!0);Db(),Y0.current=r,pt=s,xe!==null?t=0:(Ue=null,tn=0,t=Re)}if(t!==0){if(t===2&&(s=Uw(n),s!==0&&(i=s,t=g1(n,s))),t===1)throw e=Ff,gc(n,0),So(n,i),$n(n,ye()),e;if(t===6)So(n,i);else{if(s=n.current.alternate,!(i&30)&&!q3(s)&&(t=Z0(n,i),t===2&&(r=Uw(n),r!==0&&(i=r,t=g1(n,r))),t===1))throw e=Ff,gc(n,0),So(n,i),$n(n,ye()),e;switch(n.finishedWork=s,n.finishedLanes=i,t){case 0:case 1:throw Error(O(345));case 2:Wa(n,Vn,ur);break;case 3:if(So(n,i),(i&130023424)===i&&(t=Kb+500-ye(),10<t)){if(N0(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){Cn(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=qw(Wa.bind(null,n,Vn,ur),t);break}Wa(n,Vn,ur);break;case 4:if(So(n,i),(i&4194240)===i)break;for(t=n.eventTimes,s=-1;0<i;){var o=31-fs(i);r=1<<o,o=t[o],o>s&&(s=o),i&=~r}if(i=s,i=ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Y3(i/1960))-i,10<i){n.timeoutHandle=qw(Wa.bind(null,n,Vn,ur),i);break}Wa(n,Vn,ur);break;case 5:Wa(n,Vn,ur);break;default:throw Error(O(329))}}}return $n(n,ye()),n.callbackNode===e?zk.bind(null,n):null}function g1(n,t){var e=df;return n.current.memoizedState.isDehydrated&&(gc(n,t).flags|=256),n=Z0(n,t),n!==2&&(t=Vn,Vn=e,t!==null&&y1(t)),n}function y1(n){Vn===null?Vn=n:Vn.push.apply(Vn,n)}function q3(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var s=e[i],r=s.getSnapshot;s=s.value;try{if(!ms(r(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function So(n,t){for(t&=~Xb,t&=~Zy,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-fs(t),i=1<<e;n[e]=-1,t&=~i}}function fE(n){if(pt&6)throw Error(O(327));yu();var t=N0(n,0);if(!(t&1))return $n(n,ye()),null;var e=Z0(n,t);if(n.tag!==0&&e===2){var i=Uw(n);i!==0&&(t=i,e=g1(n,i))}if(e===1)throw e=Ff,gc(n,0),So(n,t),$n(n,ye()),e;if(e===6)throw Error(O(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Wa(n,Vn,ur),$n(n,ye()),null}function Yb(n,t){var e=pt;pt|=1;try{return n(t)}finally{pt=e,pt===0&&(Jh=ye()+500,Ky&&ja())}}function Sc(n){wa!==null&&wa.tag===0&&!(pt&6)&&yu();var t=pt;pt|=1;var e=Hi.transition,i=Ct;try{if(Hi.transition=null,Ct=1,n)return n()}finally{Ct=i,Hi.transition=e,pt=t,!(pt&6)&&ja()}}function qb(){di=eu.current,Ht(eu)}function gc(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,T3(e)),xe!==null)for(e=xe.return;e!==null;){var i=e;switch(Rb(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&j0();break;case 3:Qh(),Ht(Un),Ht(gn),jb();break;case 5:Bb(i);break;case 4:Qh();break;case 13:Ht(Zt);break;case 19:Ht(Zt);break;case 10:Nb(i.type._context);break;case 22:case 23:qb()}e=e.return}if(Ue=n,xe=n=Pa(n.current,null),tn=di=t,Re=0,Ff=null,Xb=Zy=Ac=0,Vn=df=null,el!==null){for(t=0;t<el.length;t++)if(e=el[t],i=e.interleaved,i!==null){e.interleaved=null;var s=i.next,r=e.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}e.pending=i}el=null}return n}function Uk(n,t){do{var e=xe;try{if(Db(),Bg.current=K0,X0){for(var i=ee.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}X0=!1}if(bc=0,Ve=_e=ee=null,uf=!1,Df=0,Gb.current=null,e===null||e.return===null){Re=1,Ff=t,xe=null;break}t:{var r=n,o=e.return,a=e,c=t;if(t=tn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=tE(o);if(p!==null){p.flags&=-257,eE(p,o,a,r,t),p.mode&1&&JS(r,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break t}else{if(!(t&1)){JS(r,u,t),Qb();break t}c=Error(O(426))}}else if(Yt&&a.mode&1){var A=tE(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),eE(A,o,a,r,t),Lb(Zh(c,a));break t}}r=c=Zh(c,a),Re!==4&&(Re=2),df===null?df=[r]:df.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var m=Ck(r,c,t);XS(r,m);break t;case 1:a=c;var w=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ta===null||!Ta.has(x)))){r.flags|=65536,t&=-t,r.lanes|=t;var E=Tk(r,a,t);XS(r,E);break t}}r=r.return}while(r!==null)}Wk(e)}catch(C){t=C,xe===e&&e!==null&&(xe=e=e.return);continue}break}while(!0)}function Hk(){var n=Y0.current;return Y0.current=K0,n===null?K0:n}function Qb(){(Re===0||Re===3||Re===2)&&(Re=4),Ue===null||!(Ac&268435455)&&!(Zy&268435455)||So(Ue,tn)}function Z0(n,t){var e=pt;pt|=2;var i=Hk();(Ue!==n||tn!==t)&&(ur=null,gc(n,t));do try{Q3();break}catch(s){Uk(n,s)}while(!0);if(Db(),pt=e,Y0.current=i,xe!==null)throw Error(O(261));return Ue=null,tn=0,Re}function Q3(){for(;xe!==null;)$k(xe)}function Z3(){for(;xe!==null&&!SD();)$k(xe)}function $k(n){var t=Xk(n.alternate,n,di);n.memoizedProps=n.pendingProps,t===null?Wk(n):xe=t,Gb.current=null}function Wk(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=W3(e,t),e!==null){e.flags&=32767,xe=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Re=6,xe=null;return}}else if(e=$3(e,t,di),e!==null){xe=e;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=n}while(t!==null);Re===0&&(Re=5)}function Wa(n,t,e){var i=Ct,s=Hi.transition;try{Hi.transition=null,Ct=1,J3(n,t,e,i)}finally{Hi.transition=s,Ct=i}return null}function J3(n,t,e,i){do yu();while(wa!==null);if(pt&6)throw Error(O(327));e=n.finishedWork;var s=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(O(177));n.callbackNode=null,n.callbackPriority=0;var r=e.lanes|e.childLanes;if(DD(n,r),n===Ue&&(xe=Ue=null,tn=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||pg||(pg=!0,Kk(D0,function(){return yu(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Hi.transition,Hi.transition=null;var o=Ct;Ct=1;var a=pt;pt|=4,Gb.current=null,X3(n,e),jk(e,n),w3(Kw),I0=!!Xw,Kw=Xw=null,n.current=e,K3(e),ED(),pt=a,Ct=o,Hi.transition=r}else n.current=e;if(pg&&(pg=!1,wa=n,Q0=s),r=n.pendingLanes,r===0&&(Ta=null),kD(e.stateNode),$n(n,ye()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)s=t[e],i(s.value,{componentStack:s.stack,digest:s.digest});if(q0)throw q0=!1,n=p1,p1=null,n;return Q0&1&&n.tag!==0&&yu(),r=n.pendingLanes,r&1?n===m1?ff++:(ff=0,m1=n):ff=0,ja(),null}function yu(){if(wa!==null){var n=CT(Q0),t=Hi.transition,e=Ct;try{if(Hi.transition=null,Ct=16>n?16:n,wa===null)var i=!1;else{if(n=wa,wa=null,Q0=0,pt&6)throw Error(O(331));var s=pt;for(pt|=4,G=n.current;G!==null;){var r=G,o=r.child;if(G.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:hf(8,h,r)}var d=h.child;if(d!==null)d.return=h,G=d;else for(;G!==null;){h=G;var f=h.sibling,p=h.return;if(Fk(h),h===u){G=null;break}if(f!==null){f.return=p,G=f;break}G=p}}}var y=r.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var A=v.sibling;v.sibling=null,v=A}while(v!==null)}}G=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,G=o;else t:for(;G!==null;){if(r=G,r.flags&2048)switch(r.tag){case 0:case 11:case 15:hf(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,G=m;break t}G=r.return}}var w=n.current;for(G=w;G!==null;){o=G;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,G=x;else t:for(o=w;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qy(9,a)}}catch(C){he(a,a.return,C)}if(a===o){G=null;break t}var E=a.sibling;if(E!==null){E.return=a.return,G=E;break t}G=a.return}}if(pt=s,ja(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(Hy,n)}catch{}i=!0}return i}finally{Ct=e,Hi.transition=t}}return!1}function pE(n,t,e){t=Zh(e,t),t=Ck(n,t,1),n=Ca(n,t,1),t=Cn(),n!==null&&(Lm(n,1,t),$n(n,t))}function he(n,t,e){if(n.tag===3)pE(n,n,e);else for(;t!==null;){if(t.tag===3){pE(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))){n=Zh(e,n),n=Tk(t,n,1),t=Ca(t,n,1),n=Cn(),t!==null&&(Lm(t,1,n),$n(t,n));break}}t=t.return}}function t4(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=Cn(),n.pingedLanes|=n.suspendedLanes&e,Ue===n&&(tn&e)===e&&(Re===4||Re===3&&(tn&130023424)===tn&&500>ye()-Kb?gc(n,0):Xb|=e),$n(n,t)}function Gk(n,t){t===0&&(n.mode&1?(t=sg,sg<<=1,!(sg&130023424)&&(sg=4194304)):t=1);var e=Cn();n=so(n,t),n!==null&&(Lm(n,t,e),$n(n,e))}function e4(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),Gk(n,e)}function n4(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(O(314))}i!==null&&i.delete(t),Gk(n,e)}var Xk;Xk=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Un.current)zn=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return zn=!1,H3(n,t,e);zn=!!(n.flags&131072)}else zn=!1,Yt&&t.flags&1048576&&QT(t,U0,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vg(n,t),n=t.pendingProps;var s=Kh(t,gn.current);gu(t,e),s=zb(null,t,i,n,s,e);var r=Ub();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(i)?(r=!0,V0(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fb(t),s.updater=qy,t.stateNode=s,s._reactInternals=t,i1(t,i,n,e),t=o1(null,t,i,!0,r,e)):(t.tag=0,Yt&&r&&_b(t),Sn(null,t,s,e),t=t.child),t;case 16:i=t.elementType;t:{switch(Vg(n,t),n=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=s4(i),n=Qi(i,n),s){case 0:t=r1(null,t,i,n,e);break t;case 1:t=sE(null,t,i,n,e);break t;case 11:t=nE(null,t,i,n,e);break t;case 14:t=iE(null,t,i,Qi(i.type,n),e);break t}throw Error(O(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Qi(i,s),r1(n,t,i,s,e);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Qi(i,s),sE(n,t,i,s,e);case 3:t:{if(Rk(t),n===null)throw Error(O(387));i=t.pendingProps,r=t.memoizedState,s=r.element,ik(n,t),W0(t,i,null,e);var o=t.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=Zh(Error(O(423)),t),t=rE(n,t,i,e,s);break t}else if(i!==s){s=Zh(Error(O(424)),t),t=rE(n,t,i,e,s);break t}else for(gi=Ea(t.stateNode.containerInfo.firstChild),yi=t,Yt=!0,hs=null,e=ek(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Yh(),i===s){t=ro(n,t,e);break t}Sn(n,t,i,e)}t=t.child}return t;case 5:return sk(t),n===null&&t1(t),i=t.type,s=t.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,Yw(i,s)?o=null:r!==null&&Yw(i,r)&&(t.flags|=32),_k(n,t),Sn(n,t,o,e),t.child;case 6:return n===null&&t1(t),null;case 13:return Lk(n,t,e);case 4:return Ob(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=qh(t,null,i,e):Sn(n,t,i,e),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Qi(i,s),nE(n,t,i,s,e);case 7:return Sn(n,t,t.pendingProps,e),t.child;case 8:return Sn(n,t,t.pendingProps.children,e),t.child;case 12:return Sn(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,jt(H0,i._currentValue),i._currentValue=o,r!==null)if(ms(r.value,o)){if(r.children===s.children&&!Un.current){t=ro(n,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===i){if(r.tag===1){c=qr(-1,e&-e),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}r.lanes|=e,c=r.alternate,c!==null&&(c.lanes|=e),e1(r.return,e,t),a.lanes|=e;break}c=c.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(O(341));o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),e1(o,e,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Sn(n,t,s.children,e),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,gu(t,e),s=Wi(s),i=i(s),t.flags|=1,Sn(n,t,i,e),t.child;case 14:return i=t.type,s=Qi(i,t.pendingProps),s=Qi(i.type,s),iE(n,t,i,s,e);case 15:return kk(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Qi(i,s),Vg(n,t),t.tag=1,Hn(i)?(n=!0,V0(t)):n=!1,gu(t,e),Ek(t,i,s),i1(t,i,s,e),o1(null,t,i,!0,n,e);case 19:return Mk(n,t,e);case 22:return Pk(n,t,e)}throw Error(O(156,t.tag))};function Kk(n,t){return bT(n,t)}function i4(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(n,t,e,i){return new i4(n,t,e,i)}function Zb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function s4(n){if(typeof n=="function")return Zb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===yb)return 11;if(n===vb)return 14}return 2}function Pa(n,t){var e=n.alternate;return e===null?(e=Ui(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Hg(n,t,e,i,s,r){var o=2;if(i=n,typeof n=="function")Zb(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case Wc:return yc(e.children,s,r,t);case gb:o=8,s|=8;break;case kw:return n=Ui(12,e,t,s|2),n.elementType=kw,n.lanes=r,n;case Pw:return n=Ui(13,e,t,s),n.elementType=Pw,n.lanes=r,n;case _w:return n=Ui(19,e,t,s),n.elementType=_w,n.lanes=r,n;case sT:return Jy(e,s,r,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case nT:o=10;break t;case iT:o=9;break t;case yb:o=11;break t;case vb:o=14;break t;case xo:o=16,i=null;break t}throw Error(O(130,n==null?n:typeof n,""))}return t=Ui(o,e,t,s),t.elementType=n,t.type=i,t.lanes=r,t}function yc(n,t,e,i){return n=Ui(7,n,i,t),n.lanes=e,n}function Jy(n,t,e,i){return n=Ui(22,n,i,t),n.elementType=sT,n.lanes=e,n.stateNode={isHidden:!1},n}function Qv(n,t,e){return n=Ui(6,n,null,t),n.lanes=e,n}function Zv(n,t,e){return t=Ui(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function r4(n,t,e,i,s){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mv(0),this.expirationTimes=Mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mv(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jb(n,t,e,i,s,r,o,a,c){return n=new r4(n,t,e,a,c),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Ui(3,null,null,t),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fb(r),n}function o4(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$c,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function Yk(n){if(!n)return La;n=n._reactInternals;t:{if(Pc(n)!==n||n.tag!==1)throw Error(O(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(O(171))}if(n.tag===1){var e=n.type;if(Hn(e))return YT(n,e,t)}return t}function qk(n,t,e,i,s,r,o,a,c){return n=Jb(e,i,!0,n,s,r,o,a,c),n.context=Yk(null),e=n.current,i=Cn(),s=ka(e),r=qr(i,s),r.callback=t??null,Ca(e,r,s),n.current.lanes=s,Lm(n,s,i),$n(n,i),n}function tv(n,t,e,i){var s=t.current,r=Cn(),o=ka(s);return e=Yk(e),t.context===null?t.context=e:t.pendingContext=e,t=qr(r,o),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=Ca(s,t,o),n!==null&&(ps(n,s,o,r),Og(n,s,o)),o}function J0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mE(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function tA(n,t){mE(n,t),(n=n.alternate)&&mE(n,t)}function a4(){return null}var Qk=typeof reportError=="function"?reportError:function(n){console.error(n)};function eA(n){this._internalRoot=n}ev.prototype.render=eA.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(O(409));tv(n,t,null,null)};ev.prototype.unmount=eA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Sc(function(){tv(null,n,null,null)}),t[io]=null}};function ev(n){this._internalRoot=n}ev.prototype.unstable_scheduleHydration=function(n){if(n){var t=PT();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Ao.length&&t!==0&&t<Ao[e].priority;e++);Ao.splice(e,0,n),e===0&&RT(n)}};function nA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function nv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gE(){}function l4(n,t,e,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=J0(o);r.call(u)}}var o=qk(t,i,n,0,null,!1,!1,"",gE);return n._reactRootContainer=o,n[io]=o.current,Pf(n.nodeType===8?n.parentNode:n),Sc(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var u=J0(c);a.call(u)}}var c=Jb(n,0,!1,null,null,!1,!1,"",gE);return n._reactRootContainer=c,n[io]=c.current,Pf(n.nodeType===8?n.parentNode:n),Sc(function(){tv(t,c,e,i)}),c}function iv(n,t,e,i,s){var r=e._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var c=J0(o);a.call(c)}}tv(t,o,n,s)}else o=l4(e,t,n,s,i);return J0(o)}TT=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Md(t.pendingLanes);e!==0&&(bb(t,e|1),$n(t,ye()),!(pt&6)&&(Jh=ye()+500,ja()))}break;case 13:Sc(function(){var i=so(n,1);if(i!==null){var s=Cn();ps(i,n,1,s)}}),tA(n,1)}};Ab=function(n){if(n.tag===13){var t=so(n,134217728);if(t!==null){var e=Cn();ps(t,n,134217728,e)}tA(n,134217728)}};kT=function(n){if(n.tag===13){var t=ka(n),e=so(n,t);if(e!==null){var i=Cn();ps(e,n,t,i)}tA(n,t)}};PT=function(){return Ct};_T=function(n,t){var e=Ct;try{return Ct=n,t()}finally{Ct=e}};jw=function(n,t,e){switch(t){case"input":if(Mw(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=Xy(i);if(!s)throw Error(O(90));oT(i),Mw(i,s)}}}break;case"textarea":lT(n,e);break;case"select":t=e.value,t!=null&&du(n,!!e.multiple,t,!1)}};mT=Yb;gT=Sc;var c4={usingClientEntryPoint:!1,Events:[Dm,Yc,Xy,fT,pT,Yb]},Ad={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u4={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wT(n),n===null?null:n.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||a4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{Hy=mg.inject(u4),Zs=mg}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4;Ai.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nA(t))throw Error(O(200));return o4(n,t,null,e)};Ai.createRoot=function(n,t){if(!nA(n))throw Error(O(299));var e=!1,i="",s=Qk;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Jb(n,1,!1,null,null,e,!1,i,s),n[io]=t.current,Pf(n.nodeType===8?n.parentNode:n),new eA(t)};Ai.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(O(188)):(n=Object.keys(n).join(","),Error(O(268,n)));return n=wT(t),n=n===null?null:n.stateNode,n};Ai.flushSync=function(n){return Sc(n)};Ai.hydrate=function(n,t,e){if(!nv(t))throw Error(O(200));return iv(null,n,t,!0,e)};Ai.hydrateRoot=function(n,t,e){if(!nA(n))throw Error(O(405));var i=e!=null&&e.hydratedSources||null,s=!1,r="",o=Qk;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=qk(t,null,n,1,e??null,s,!1,r,o),n[io]=t.current,Pf(n),i)for(n=0;n<i.length;n++)e=i[n],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new ev(t)};Ai.render=function(n,t,e){if(!nv(t))throw Error(O(200));return iv(null,n,t,!1,e)};Ai.unmountComponentAtNode=function(n){if(!nv(n))throw Error(O(40));return n._reactRootContainer?(Sc(function(){iv(null,null,n,!1,function(){n._reactRootContainer=null,n[io]=null})}),!0):!1};Ai.unstable_batchedUpdates=Yb;Ai.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!nv(e))throw Error(O(200));if(n==null||n._reactInternals===void 0)throw Error(O(38));return iv(n,t,e,!1,i)};Ai.version="18.3.1-next-f1338f8080-20240426";function Zk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zk)}catch(n){console.error(n)}}Zk(),ZC.exports=Ai;var h4=ZC.exports,yE=h4;Cw.createRoot=yE.createRoot,Cw.hydrateRoot=yE.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vE="popstate";function d4(n={}){function t(i,s){let{pathname:r,search:o,hash:a}=i.location;return v1("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Of(s)}return p4(t,e,null,n)}function ne(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function gs(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f4(){return Math.random().toString(36).substring(2,10)}function wE(n,t){return{usr:n.state,key:n.key,idx:t}}function v1(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ld(t):t,state:e,key:t&&t.key||i||f4()}}function Of({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ld(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function p4(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let A=h(),m=A==null?null:A-u;u=A,c&&c({action:a,location:v.location,delta:m})}function f(A,m){a="PUSH";let w=v1(v.location,A,m);u=h()+1;let x=wE(w,u),E=v.createHref(w);try{o.pushState(x,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}r&&c&&c({action:a,location:v.location,delta:1})}function p(A,m){a="REPLACE";let w=v1(v.location,A,m);u=h();let x=wE(w,u),E=v.createHref(w);o.replaceState(x,"",E),r&&c&&c({action:a,location:v.location,delta:0})}function y(A){return m4(A)}let v={get action(){return a},get location(){return n(s,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(vE,d),c=A,()=>{s.removeEventListener(vE,d),c=null}},createHref(A){return t(s,A)},createURL:y,encodeLocation(A){let m=y(A);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(A){return o.go(A)}};return v}function m4(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ne(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Of(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Jk(n,t,e="/"){return g4(n,t,e,!1)}function g4(n,t,e,i){let s=typeof t=="string"?ld(t):t,r=oo(s.pathname||"/",e);if(r==null)return null;let o=tP(n);y4(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=P4(r);a=T4(o[c],u,i)}return a}function tP(n,t=[],e=[],i="",s=!1){let r=(o,a,c=s,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&c)return;ne(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let d=Qr([i,h.relativePath]),f=e.concat(h);o.children&&o.children.length>0&&(ne(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),tP(o.children,t,f,d,c)),!(o.path==null&&!o.index)&&t.push({path:d,score:E4(d,o.index),routesMeta:f})};return n.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,a);else for(let u of eP(o.path))r(o,a,!0,u)}),t}function eP(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=eP(i.join("/")),a=[];return a.push(...o.map(c=>c===""?r:[r,c].join("/"))),s&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function y4(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:C4(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var v4=/^:[\w-]+$/,w4=3,x4=2,b4=1,A4=10,S4=-2,xE=n=>n==="*";function E4(n,t){let e=n.split("/"),i=e.length;return e.some(xE)&&(i+=S4),t&&(i+=x4),e.filter(s=>!xE(s)).reduce((s,r)=>s+(v4.test(r)?w4:r===""?b4:A4),i)}function C4(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function T4(n,t,e=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let a=0;a<i.length;++a){let c=i[a],u=a===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",d=ty({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&e&&!i[i.length-1].route.index&&(d=ty({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Qr([r,d.pathname]),pathnameBase:D4(Qr([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=Qr([r,d.pathnameBase]))}return o}function ty(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=k4(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:d},f)=>{if(h==="*"){let y=a[f]||"";o=r.slice(0,r.length-y.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:n}}function k4(n,t=!1,e=!0){gs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(i.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function P4(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function oo(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var _4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R4=n=>_4.test(n);function L4(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?ld(n):n,r;if(e)if(R4(e))r=e;else{if(e.includes("//")){let o=e;e=e.replace(/\/\/+/g,"/"),gs(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${e}`)}e.startsWith("/")?r=bE(e.substring(1),"/"):r=bE(e,t)}else r=t;return{pathname:r,search:N4(i),hash:I4(s)}}function bE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Jv(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M4(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function nP(n){let t=M4(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function iP(n,t,e,i=!1){let s;typeof n=="string"?s=ld(n):(s={...n},ne(!s.pathname||!s.pathname.includes("?"),Jv("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Jv("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Jv("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=e;else{let d=t.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let c=L4(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Qr=n=>n.join("/").replace(/\/\/+/g,"/"),D4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),N4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,I4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function F4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function O4(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sP=["POST","PUT","PATCH","DELETE"];new Set(sP);var B4=["GET",...sP];new Set(B4);var cd=k.createContext(null);cd.displayName="DataRouter";var sv=k.createContext(null);sv.displayName="DataRouterState";k.createContext(!1);var rP=k.createContext({isTransitioning:!1});rP.displayName="ViewTransition";var j4=k.createContext(new Map);j4.displayName="Fetchers";var V4=k.createContext(null);V4.displayName="Await";var ws=k.createContext(null);ws.displayName="Navigation";var Im=k.createContext(null);Im.displayName="Location";var rr=k.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var iA=k.createContext(null);iA.displayName="RouteError";function z4(n,{relative:t}={}){ne(Fm(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=k.useContext(ws),{hash:s,pathname:r,search:o}=Om(n,{relative:t}),a=r;return e!=="/"&&(a=r==="/"?e:Qr([e,r])),i.createHref({pathname:a,search:o,hash:s})}function Fm(){return k.useContext(Im)!=null}function Va(){return ne(Fm(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Im).location}var oP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aP(n){k.useContext(ws).static||k.useLayoutEffect(n)}function lP(){let{isDataRoute:n}=k.useContext(rr);return n?nN():U4()}function U4(){ne(Fm(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(cd),{basename:t,navigator:e}=k.useContext(ws),{matches:i}=k.useContext(rr),{pathname:s}=Va(),r=JSON.stringify(nP(i)),o=k.useRef(!1);return aP(()=>{o.current=!0}),k.useCallback((c,u={})=>{if(gs(o.current,oP),!o.current)return;if(typeof c=="number"){e.go(c);return}let h=iP(c,JSON.parse(r),s,u.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qr([t,h.pathname])),(u.replace?e.replace:e.push)(h,u.state,u)},[t,e,r,s,n])}var H4=k.createContext(null);function $4(n){let t=k.useContext(rr).outlet;return k.useMemo(()=>t&&k.createElement(H4.Provider,{value:n},t),[t,n])}function Om(n,{relative:t}={}){let{matches:e}=k.useContext(rr),{pathname:i}=Va(),s=JSON.stringify(nP(e));return k.useMemo(()=>iP(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function W4(n,t){return cP(n,t)}function cP(n,t,e,i,s){var w;ne(Fm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=k.useContext(ws),{matches:o}=k.useContext(rr),a=o[o.length-1],c=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let x=d&&d.path||"";uP(u,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Va(),p;if(t){let x=typeof t=="string"?ld(t):t;ne(h==="/"||((w=x.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let y=p.pathname||"/",v=y;if(h!=="/"){let x=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let A=Jk(n,{pathname:v});gs(d||A!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),gs(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=q4(A&&A.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Qr([h,r.encodeLocation?r.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?h:Qr([h,r.encodeLocation?r.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,e,i,s);return t&&m?k.createElement(Im.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function G4(){let n=eN(),t=F4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:r},"ErrorBoundary")," or"," ",k.createElement("code",{style:r},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),e?k.createElement("pre",{style:s},e):null,o)}var X4=k.createElement(G4,null),K4=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?k.createElement(rr.Provider,{value:this.props.routeContext},k.createElement(iA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y4({routeContext:n,match:t,children:e}){let i=k.useContext(cd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(rr.Provider,{value:n},e)}function q4(n,t=[],e=null,i=null,s=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e==null?void 0:e.errors;if(o!=null){let h=r.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ne(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let a=!1,c=-1;if(e)for(let h=0;h<r.length;h++){let d=r[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:p}=e,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){a=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}let u=e&&i?(h,d)=>{var f,p;i(h,{location:e.location,params:((p=(f=e.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:O4(e.matches),errorInfo:d})}:void 0;return r.reduceRight((h,d,f)=>{let p,y=!1,v=null,A=null;e&&(p=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||X4,a&&(c<0&&f===0?(uP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,A=null):c===f&&(y=!0,A=d.route.hydrateFallbackElement||null)));let m=t.concat(r.slice(0,f+1)),w=()=>{let x;return p?x=v:y?x=A:d.route.Component?x=k.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,k.createElement(Y4,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:e!=null},children:x})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(K4,{location:e.location,revalidation:e.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):w()},null)}function sA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q4(n){let t=k.useContext(cd);return ne(t,sA(n)),t}function Z4(n){let t=k.useContext(sv);return ne(t,sA(n)),t}function J4(n){let t=k.useContext(rr);return ne(t,sA(n)),t}function rA(n){let t=J4(n),e=t.matches[t.matches.length-1];return ne(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function tN(){return rA("useRouteId")}function eN(){var i;let n=k.useContext(iA),t=Z4("useRouteError"),e=rA("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function nN(){let{router:n}=Q4("useNavigate"),t=rA("useNavigate"),e=k.useRef(!1);return aP(()=>{e.current=!0}),k.useCallback(async(s,r={})=>{gs(e.current,oP),e.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:t,...r}))},[n,t])}var AE={};function uP(n,t,e){!t&&!AE[n]&&(AE[n]=!0,gs(!1,e))}k.memo(iN);function iN({routes:n,future:t,state:e,unstable_onError:i}){return cP(n,void 0,e,i,t)}function sN(n){return $4(n.context)}function $g(n){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:r=!1,unstable_useTransitions:o}){ne(!Fm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:a,navigator:s,static:r,unstable_useTransitions:o,future:{}}),[a,s,r,o]);typeof e=="string"&&(e=ld(e));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=e,y=k.useMemo(()=>{let v=oo(u,a);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:p},navigationType:i}},[a,u,h,d,f,p,i]);return gs(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:k.createElement(ws.Provider,{value:c},k.createElement(Im.Provider,{children:t,value:y}))}function oN({children:n,location:t}){return W4(w1(n),t)}function w1(n,t=[]){let e=[];return k.Children.forEach(n,(i,s)=>{if(!k.isValidElement(i))return;let r=[...t,s];if(i.type===k.Fragment){e.push.apply(e,w1(i.props.children,r));return}ne(i.type===$g,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=w1(i.props.children,r)),e.push(o)}),e}var Wg="get",Gg="application/x-www-form-urlencoded";function rv(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function aN(n){return rv(n)&&n.tagName.toLowerCase()==="button"}function lN(n){return rv(n)&&n.tagName.toLowerCase()==="form"}function cN(n){return rv(n)&&n.tagName.toLowerCase()==="input"}function uN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hN(n,t){return n.button===0&&(!t||t==="_self")&&!uN(n)}var gg=null;function dN(){if(gg===null)try{new FormData(document.createElement("form"),0),gg=!1}catch{gg=!0}return gg}var fN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tw(n){return n!=null&&!fN.has(n)?(gs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gg}"`),null):n}function pN(n,t){let e,i,s,r,o;if(lN(n)){let a=n.getAttribute("action");i=a?oo(a,t):null,e=n.getAttribute("method")||Wg,s=tw(n.getAttribute("enctype"))||Gg,r=new FormData(n)}else if(aN(n)||cN(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||a.getAttribute("action");if(i=c?oo(c,t):null,e=n.getAttribute("formmethod")||a.getAttribute("method")||Wg,s=tw(n.getAttribute("formenctype"))||tw(a.getAttribute("enctype"))||Gg,r=new FormData(a,n),!dN()){let{name:u,type:h,value:d}=n;if(h==="image"){let f=u?`${u}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else u&&r.append(u,d)}}else{if(rv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Wg,i=null,s=Gg,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oA(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function mN(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&oo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function gN(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vN(n,t,e){let i=await Promise.all(n.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await gN(r,e);return o.links?o.links():[]}return[]}));return AN(i.flat(1).filter(yN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function SE(n,t,e,i,s,r){let o=(c,u)=>e[u]?c.route.id!==e[u].route.id:!0,a=(c,u)=>{var h;return e[u].pathname!==c.pathname||((h=e[u].route.path)==null?void 0:h.endsWith("*"))&&e[u].params["*"]!==c.params["*"]};return r==="assets"?t.filter((c,u)=>o(c,u)||a(c,u)):r==="data"?t.filter((c,u)=>{var d;let h=i.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=e[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function wN(n,t,{includeHydrateFallback:e}={}){return xN(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function xN(n){return[...new Set(n)]}function bN(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function AN(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let r=JSON.stringify(bN(s));return e.has(r)||(e.add(r),i.push({key:r,link:s})),i},[])}function hP(){let n=k.useContext(cd);return oA(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SN(){let n=k.useContext(sv);return oA(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var aA=k.createContext(void 0);aA.displayName="FrameworkContext";function dP(){let n=k.useContext(aA);return oA(n,"You must render this element inside a <HydratedRouter> element"),n}function EN(n,t){let e=k.useContext(aA),[i,s]=k.useState(!1),[r,o]=k.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=k.useRef(null);k.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=m=>{m.forEach(w=>{o(w.isIntersecting)})},A=new IntersectionObserver(v,{threshold:.5});return f.current&&A.observe(f.current),()=>{A.disconnect()}}},[n]),k.useEffect(()=>{if(i){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[i]);let p=()=>{s(!0)},y=()=>{s(!1),o(!1)};return e?n!=="intent"?[r,f,{}]:[r,f,{onFocus:Sd(a,p),onBlur:Sd(c,y),onMouseEnter:Sd(u,p),onMouseLeave:Sd(h,y),onTouchStart:Sd(d,p)}]:[!1,f,{}]}function Sd(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function CN({page:n,...t}){let{router:e}=hP(),i=k.useMemo(()=>Jk(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?k.createElement(kN,{page:n,matches:i,...t}):null}function TN(n){let{manifest:t,routeModules:e}=dP(),[i,s]=k.useState([]);return k.useEffect(()=>{let r=!1;return vN(n,t,e).then(o=>{r||s(o)}),()=>{r=!0}},[n,t,e]),i}function kN({page:n,matches:t,...e}){let i=Va(),{manifest:s,routeModules:r}=dP(),{basename:o}=hP(),{loaderData:a,matches:c}=SN(),u=k.useMemo(()=>SE(n,t,c,s,i,"data"),[n,t,c,s,i]),h=k.useMemo(()=>SE(n,t,c,s,i,"assets"),[n,t,c,s,i]),d=k.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let y=new Set,v=!1;if(t.forEach(m=>{var x;let w=s.routes[m.route.id];!w||!w.hasLoader||(!u.some(E=>E.route.id===m.route.id)&&m.route.id in a&&((x=r[m.route.id])!=null&&x.shouldRevalidate)||w.hasClientLoader?v=!0:y.add(m.route.id))}),y.size===0)return[];let A=mN(n,o,"data");return v&&y.size>0&&A.searchParams.set("_routes",t.filter(m=>y.has(m.route.id)).map(m=>m.route.id).join(",")),[A.pathname+A.search]},[o,a,i,s,u,t,n,r]),f=k.useMemo(()=>wN(h,s),[h,s]),p=TN(h);return k.createElement(k.Fragment,null,d.map(y=>k.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...e})),f.map(y=>k.createElement("link",{key:y,rel:"modulepreload",href:y,...e})),p.map(({key:y,link:v})=>k.createElement("link",{key:y,nonce:e.nonce,...v})))}function PN(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var fP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fP&&(window.__reactRouterVersion="7.10.1")}catch{}function _N({basename:n,children:t,unstable_useTransitions:e,window:i}){let s=k.useRef();s.current==null&&(s.current=d4({window:i,v5Compat:!0}));let r=s.current,[o,a]=k.useState({action:r.action,location:r.location}),c=k.useCallback(u=>{e===!1?a(u):k.startTransition(()=>a(u))},[e]);return k.useLayoutEffect(()=>r.listen(c),[r,c]),k.createElement(rN,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r,unstable_useTransitions:e===!0})}var pP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mP=k.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:d,...f},p){let{basename:y,unstable_useTransitions:v}=k.useContext(ws),A=typeof u=="string"&&pP.test(u),m,w=!1;if(typeof u=="string"&&A&&(m=u,fP))try{let L=new URL(window.location.href),D=u.startsWith("//")?new URL(L.protocol+u):new URL(u),B=oo(D.pathname,y);D.origin===L.origin&&B!=null?u=B+D.search+D.hash:w=!0}catch{gs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=z4(u,{relative:s}),[E,C,T]=EN(i,f),_=DN(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:d,unstable_useTransitions:v});function R(L){t&&t(L),L.defaultPrevented||_(L)}let M=k.createElement("a",{...f,...T,href:m||x,onClick:w||r?t:R,ref:PN(p,C),target:c,"data-discover":!A&&e==="render"?"true":void 0});return E&&!A?k.createElement(k.Fragment,null,M,k.createElement(CN,{page:x})):M});mP.displayName="Link";var RN=k.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:c,...u},h){let d=Om(o,{relative:u.relative}),f=Va(),p=k.useContext(sv),{navigator:y,basename:v}=k.useContext(ws),A=p!=null&&BN(d)&&a===!0,m=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,w=f.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;e||(w=w.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&v&&(x=oo(x,v)||x);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let C=w===m||!s&&w.startsWith(m)&&w.charAt(E)==="/",T=x!=null&&(x===m||!s&&x.startsWith(m)&&x.charAt(m.length)==="/"),_={isActive:C,isPending:T,isTransitioning:A},R=C?t:void 0,M;typeof i=="function"?M=i(_):M=[i,C?"active":null,T?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof r=="function"?r(_):r;return k.createElement(mP,{...u,"aria-current":R,className:M,ref:h,style:L,to:o,viewTransition:a},typeof c=="function"?c(_):c)});RN.displayName="NavLink";var LN=k.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:r,method:o=Wg,action:a,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:d,...f},p)=>{let{unstable_useTransitions:y}=k.useContext(ws),v=FN(),A=ON(a,{relative:u}),m=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&pP.test(a),x=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let C=E.nativeEvent.submitter,T=(C==null?void 0:C.getAttribute("formmethod"))||o,_=()=>v(C||E.currentTarget,{fetcherKey:t,method:T,navigate:e,replace:s,state:r,relative:u,preventScrollReset:h,viewTransition:d});y&&e!==!1?k.startTransition(()=>_()):_()};return k.createElement("form",{ref:p,method:m,action:A,onSubmit:i?c:x,...f,"data-discover":!w&&n==="render"?"true":void 0})});LN.displayName="Form";function MN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gP(n){let t=k.useContext(cd);return ne(t,MN(n)),t}function DN(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:r,viewTransition:o,unstable_useTransitions:a}={}){let c=lP(),u=Va(),h=Om(n,{relative:r});return k.useCallback(d=>{if(hN(d,t)){d.preventDefault();let f=e!==void 0?e:Of(u)===Of(h),p=()=>c(n,{replace:f,state:i,preventScrollReset:s,relative:r,viewTransition:o});a?k.startTransition(()=>p()):p()}},[u,c,h,e,i,t,n,s,r,o,a])}var NN=0,IN=()=>`__${String(++NN)}__`;function FN(){let{router:n}=gP("useSubmit"),{basename:t}=k.useContext(ws),e=tN(),i=n.fetch,s=n.navigate;return k.useCallback(async(r,o={})=>{let{action:a,method:c,encType:u,formData:h,body:d}=pN(r,t);if(o.navigate===!1){let f=o.fetcherKey||IN();await i(f,e,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await s(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,s,t,e])}function ON(n,{relative:t}={}){let{basename:e}=k.useContext(ws),i=k.useContext(rr);ne(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Om(n||".",{relative:t})},o=Va();if(n==null){r.search=o.search;let a=new URLSearchParams(r.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();r.search=h?`?${h}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(r.pathname=r.pathname==="/"?e:Qr([e,r.pathname])),Of(r)}function BN(n,{relative:t}={}){let e=k.useContext(rP);ne(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gP("useViewTransitionState"),s=Om(n,{relative:t});if(!e.isTransitioning)return!1;let r=oo(e.currentLocation.pathname,i)||e.currentLocation.pathname,o=oo(e.nextLocation.pathname,i)||e.nextLocation.pathname;return ty(s.pathname,o)!=null||ty(s.pathname,r)!=null}const lA=k.createContext({});function Bm(n){const t=k.useRef(null);return t.current===null&&(t.current=n()),t.current}const ov=k.createContext(null),jm=k.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class jN extends k.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=e.offsetHeight||0,i.width=e.offsetWidth||0,i.top=e.offsetTop,i.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function VN({children:n,isPresent:t}){const e=k.useId(),i=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=k.useContext(jm);return k.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:u}=s.current;if(t||!i.current||!o||!a)return;i.current.dataset.motionPopId=e;const h=document.createElement("style");return r&&(h.nonce=r),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),P.jsx(jN,{isPresent:t,childRef:i,sizeRef:s,children:k.cloneElement(n,{ref:i})})}const zN=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o})=>{const a=Bm(UN),c=k.useId(),u=k.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;i&&i()},[a,i]),h=k.useMemo(()=>({id:c,initial:t,isPresent:e,custom:s,onExitComplete:u,register:d=>(a.set(d,!1),()=>a.delete(d))}),r?[Math.random(),u]:[e,u]);return k.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[e]),k.useEffect(()=>{!e&&!a.size&&i&&i()},[e]),o==="popLayout"&&(n=P.jsx(VN,{isPresent:e,children:n})),P.jsx(ov.Provider,{value:h,children:n})};function UN(){return new Map}function yP(n=!0){const t=k.useContext(ov);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,r=k.useId();k.useEffect(()=>{n&&s(r)},[n]);const o=k.useCallback(()=>n&&i&&i(r),[r,i,n]);return!e&&i?[!1,o]:[!0]}const yg=n=>n.key||"";function EE(n){const t=[];return k.Children.forEach(n,e=>{k.isValidElement(e)&&t.push(e)}),t}const cA=typeof window<"u",av=cA?k.useLayoutEffect:k.useEffect,_a=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1})=>{const[a,c]=yP(o),u=k.useMemo(()=>EE(n),[n]),h=o&&!a?[]:u.map(yg),d=k.useRef(!0),f=k.useRef(u),p=Bm(()=>new Map),[y,v]=k.useState(u),[A,m]=k.useState(u);av(()=>{d.current=!1,f.current=u;for(let E=0;E<A.length;E++){const C=yg(A[E]);h.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[A,h.length,h.join("-")]);const w=[];if(u!==y){let E=[...u];for(let C=0;C<A.length;C++){const T=A[C],_=yg(T);h.includes(_)||(E.splice(C,0,T),w.push(T))}r==="wait"&&w.length&&(E=w),m(EE(E)),v(u);return}const{forceRender:x}=k.useContext(lA);return P.jsx(P.Fragment,{children:A.map(E=>{const C=yg(E),T=o&&!a?!1:u===A||h.includes(C),_=()=>{if(p.has(C))p.set(C,!0);else return;let R=!0;p.forEach(M=>{M||(R=!1)}),R&&(x==null||x(),m(f.current),o&&(c==null||c()),i&&i())};return P.jsx(zN,{isPresent:T,initial:!d.current||e?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:s,mode:r,onExitComplete:T?void 0:_,children:E},C)})})},Tn=n=>n;let HN=Tn,vP=Tn;function uA(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ec=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},Zr=n=>n*1e3,Jr=n=>n/1e3,$N={useManualTiming:!1};function WN(n){let t=new Set,e=new Set,i=!1,s=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){r.has(u)&&(c.schedule(u),n()),u(o)}const c={schedule:(u,h=!1,d=!1)=>{const p=d&&i?t:e;return h&&r.add(u),p.has(u)||p.add(u),u},cancel:u=>{e.delete(u),r.delete(u)},process:u=>{if(o=u,i){s=!0;return}i=!0,[t,e]=[e,t],t.forEach(a),t.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const vg=["read","resolveKeyframes","update","preRender","render","postRender"],GN=40;function wP(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,o=vg.reduce((m,w)=>(m[w]=WN(r),m),{}),{read:a,resolveKeyframes:c,update:u,preRender:h,render:d,postRender:f}=o,p=()=>{const m=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(m-s.timestamp,GN),1),s.timestamp=m,s.isProcessing=!0,a.process(s),c.process(s),u.process(s),h.process(s),d.process(s),f.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(p))},y=()=>{e=!0,i=!0,s.isProcessing||n(p)};return{schedule:vg.reduce((m,w)=>{const x=o[w];return m[w]=(E,C=!1,T=!1)=>(e||y(),x.schedule(E,C,T)),m},{}),cancel:m=>{for(let w=0;w<vg.length;w++)o[vg[w]].cancel(m)},state:s,steps:o}}const{schedule:xt,cancel:nr,state:Pe,steps:ew}=wP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tn,!0),xP=k.createContext({strict:!1}),CE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},td={};for(const n in CE)td[n]={isEnabled:t=>CE[n].some(e=>!!t[e])};function XN(n){for(const t in n)td[t]={...td[t],...n[t]}}const KN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ey(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||KN.has(n)}let bP=n=>!ey(n);function YN(n){n&&(bP=t=>t.startsWith("on")?!ey(t):n(t))}try{YN(require("@emotion/is-prop-valid").default)}catch{}function qN(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(bP(s)||e===!0&&ey(s)||!t&&!ey(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function QN(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const lv=k.createContext({});function Bf(n){return typeof n=="string"||Array.isArray(n)}function cv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const hA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dA=["initial",...hA];function uv(n){return cv(n.animate)||dA.some(t=>Bf(n[t]))}function AP(n){return!!(uv(n)||n.variants)}function ZN(n,t){if(uv(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Bf(e)?e:void 0,animate:Bf(i)?i:void 0}}return n.inherit!==!1?t:{}}function JN(n){const{initial:t,animate:e}=ZN(n,k.useContext(lv));return k.useMemo(()=>({initial:t,animate:e}),[TE(t),TE(e)])}function TE(n){return Array.isArray(n)?n.join(" "):n}const tI=Symbol.for("motionComponentSymbol");function nu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function eI(n,t,e){return k.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):nu(e)&&(e.current=i))},[t])}const fA=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nI="framerAppearId",SP="data-"+fA(nI),{schedule:pA}=wP(queueMicrotask,!1),EP=k.createContext({});function iI(n,t,e,i,s){var r,o;const{visualElement:a}=k.useContext(lv),c=k.useContext(xP),u=k.useContext(ov),h=k.useContext(jm).reducedMotion,d=k.useRef(null);i=i||c.renderer,!d.current&&i&&(d.current=i(n,{visualState:t,parent:a,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,p=k.useContext(EP);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&sI(d.current,e,s,p);const y=k.useRef(!1);k.useInsertionEffect(()=>{f&&y.current&&f.update(e,u)});const v=e[SP],A=k.useRef(!!v&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return av(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),pA.render(f.render),A.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!A.current&&f.animationState&&f.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),A.current=!1))}),f}function sI(n,t,e,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:CP(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&nu(a),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:c,layoutRoot:u})}function CP(n){if(n)return n.options.allowProjection!==!1?n.projection:CP(n.parent)}function rI({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var r,o;n&&XN(n);function a(u,h){let d;const f={...k.useContext(jm),...u,layoutId:oI(u)},{isStatic:p}=f,y=JN(u),v=i(u,p);if(!p&&cA){aI();const A=lI(f);d=A.MeasureLayout,y.visualElement=iI(s,v,f,t,A.ProjectionNode)}return P.jsxs(lv.Provider,{value:y,children:[d&&y.visualElement?P.jsx(d,{visualElement:y.visualElement,...f}):null,e(s,u,eI(v,y.visualElement,h),v,p,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&o!==void 0?o:""})`}`;const c=k.forwardRef(a);return c[tI]=s,c}function oI({layoutId:n}){const t=k.useContext(lA).id;return t&&n!==void 0?t+"-"+n:n}function aI(n,t){k.useContext(xP).strict}function lI(n){const{drag:t,layout:e}=td;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const cI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mA(n){return typeof n!="string"||n.includes("-")?!1:!!(cI.indexOf(n)>-1||/[A-Z]/u.test(n))}function kE(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function gA(n,t,e,i){if(typeof t=="function"){const[s,r]=kE(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=kE(i);t=t(e!==void 0?e:n.custom,s,r)}return t}const x1=n=>Array.isArray(n),uI=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),hI=n=>x1(n)?n[n.length-1]||0:n,ze=n=>!!(n&&n.getVelocity);function Xg(n){const t=ze(n)?n.get():n;return uI(t)?t.toValue():t}function dI({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,r){const o={latestValues:fI(i,s,r,n),renderState:t()};return e&&(o.onMount=a=>e({props:i,current:a,...o}),o.onUpdate=a=>e(a)),o}const TP=n=>(t,e)=>{const i=k.useContext(lv),s=k.useContext(ov),r=()=>dI(n,t,i,s);return e?r():Bm(r)};function fI(n,t,e,i){const s={},r=i(n,{});for(const f in r)s[f]=Xg(r[f]);let{initial:o,animate:a}=n;const c=uv(n),u=AP(n);t&&u&&!c&&n.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=e?e.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!cv(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const y=gA(n,f[p]);if(y){const{transitionEnd:v,transition:A,...m}=y;for(const w in m){let x=m[w];if(Array.isArray(x)){const E=h?x.length-1:0;x=x[E]}x!==null&&(s[w]=x)}for(const w in v)s[w]=v[w]}}}return s}const ud=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_c=new Set(ud),kP=n=>t=>typeof t=="string"&&t.startsWith(n),PP=kP("--"),pI=kP("var(--"),yA=n=>pI(n)?mI.test(n.split("/*")[0].trim()):!1,mI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_P=(n,t)=>t&&typeof n=="number"?t.transform(n):n,ir=(n,t,e)=>e>t?t:e<n?n:e,hd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},jf={...hd,transform:n=>ir(0,1,n)},wg={...hd,default:1},Vm=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),yo=Vm("deg"),tr=Vm("%"),tt=Vm("px"),gI=Vm("vh"),yI=Vm("vw"),PE={...tr,parse:n=>tr.parse(n)/100,transform:n=>tr.transform(n*100)},vI={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt},wI={rotate:yo,rotateX:yo,rotateY:yo,rotateZ:yo,scale:wg,scaleX:wg,scaleY:wg,scaleZ:wg,skew:yo,skewX:yo,skewY:yo,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:jf,originX:PE,originY:PE,originZ:tt},_E={...hd,transform:Math.round},vA={...vI,...wI,zIndex:_E,size:tt,fillOpacity:jf,strokeOpacity:jf,numOctaves:_E},xI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bI=ud.length;function AI(n,t,e){let i="",s=!0;for(let r=0;r<bI;r++){const o=ud[r],a=n[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||e){const u=_P(a,vA[o]);if(!c){s=!1;const h=xI[o]||o;i+=`${h}(${u}) `}e&&(t[o]=u)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function wA(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let o=!1,a=!1;for(const c in t){const u=t[c];if(_c.has(c)){o=!0;continue}else if(PP(c)){s[c]=u;continue}else{const h=_P(u,vA[c]);c.startsWith("origin")?(a=!0,r[c]=h):i[c]=h}}if(t.transform||(o||e?i.transform=AI(t,n.transform,e):i.transform&&(i.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:h=0}=r;i.transformOrigin=`${c} ${u} ${h}`}}const SI={offset:"stroke-dashoffset",array:"stroke-dasharray"},EI={offset:"strokeDashoffset",array:"strokeDasharray"};function CI(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?SI:EI;n[r.offset]=tt.transform(-i);const o=tt.transform(t),a=tt.transform(e);n[r.array]=`${o} ${a}`}function RE(n,t,e){return typeof n=="string"?n:tt.transform(t+e*n)}function TI(n,t,e){const i=RE(t,n.x,n.width),s=RE(e,n.y,n.height);return`${i} ${s}`}function xA(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,d){if(wA(n,u,d),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:p,dimensions:y}=n;f.transform&&(y&&(p.transform=f.transform),delete f.transform),y&&(s!==void 0||r!==void 0||p.transform)&&(p.transformOrigin=TI(y,s!==void 0?s:.5,r!==void 0?r:.5)),t!==void 0&&(f.x=t),e!==void 0&&(f.y=e),i!==void 0&&(f.scale=i),o!==void 0&&CI(f,o,a,c,!1)}const bA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RP=()=>({...bA(),attrs:{}}),AA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function LP(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const r in e)n.style.setProperty(r,e[r])}const MP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DP(n,t,e,i){LP(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(MP.has(s)?s:fA(s),t.attrs[s])}const ny={};function kI(n){Object.assign(ny,n)}function NP(n,{layout:t,layoutId:e}){return _c.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!ny[n]||n==="opacity")}function SA(n,t,e){var i;const{style:s}=n,r={};for(const o in s)(ze(s[o])||t.style&&ze(t.style[o])||NP(o,n)||((i=e==null?void 0:e.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}function IP(n,t,e){const i=SA(n,t,e);for(const s in n)if(ze(n[s])||ze(t[s])){const r=ud.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}function PI(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const LE=["x","y","width","height","cx","cy","r"],_I={useVisualState:TP({scrapeMotionValuesFromProps:IP,createRenderState:RP,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let r=!!n.drag;if(!r){for(const a in s)if(_c.has(a)){r=!0;break}}if(!r)return;let o=!t;if(t)for(let a=0;a<LE.length;a++){const c=LE[a];n[c]!==t[c]&&(o=!0)}o&&xt.read(()=>{PI(e,i),xt.render(()=>{xA(i,s,AA(e.tagName),n.transformTemplate),DP(e,i)})})}})},RI={useVisualState:TP({scrapeMotionValuesFromProps:SA,createRenderState:bA})};function FP(n,t,e){for(const i in t)!ze(t[i])&&!NP(i,e)&&(n[i]=t[i])}function LI({transformTemplate:n},t){return k.useMemo(()=>{const e=bA();return wA(e,t,n),Object.assign({},e.vars,e.style)},[t])}function MI(n,t){const e=n.style||{},i={};return FP(i,e,n),Object.assign(i,LI(n,t)),i}function DI(n,t){const e={},i=MI(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}function NI(n,t,e,i){const s=k.useMemo(()=>{const r=RP();return xA(r,t,AA(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};FP(r,n.style,n),s.style={...r,...s.style}}return s}function II(n=!1){return(e,i,s,{latestValues:r},o)=>{const c=(mA(e)?NI:DI)(i,r,o,e),u=qN(i,typeof e=="string",n),h=e!==k.Fragment?{...u,...c,ref:s}:{},{children:d}=i,f=k.useMemo(()=>ze(d)?d.get():d,[d]);return k.createElement(e,{...h,children:f})}}function FI(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...mA(i)?_I:RI,preloadedFeatures:n,useRender:II(s),createVisualElement:t,Component:i};return rI(o)}}function OP(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}function hv(n,t,e){const i=n.getProps();return gA(i,t,e!==void 0?e:i.custom,n)}const BP=uA(()=>window.ScrollTimeline!==void 0);class OI{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(BP()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class BI extends OI{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function EA(n,t){return n?n[t]||n.default||n:void 0}const b1=2e4;function jP(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<b1;)t+=e,i=n.next(t);return t>=b1?1/0:t}function CA(n){return typeof n=="function"}function ME(n,t){n.timeline=t,n.onfinish=null}const TA=n=>Array.isArray(n)&&typeof n[0]=="number",jI={linearEasing:void 0};function VI(n,t){const e=uA(n);return()=>{var i;return(i=jI[t])!==null&&i!==void 0?i:e()}}const iy=VI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),VP=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let r=0;r<s;r++)i+=n(Ec(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function zP(n){return!!(typeof n=="function"&&iy()||!n||typeof n=="string"&&(n in A1||iy())||TA(n)||Array.isArray(n)&&n.every(zP))}const Nd=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,A1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nd([0,.65,.55,1]),circOut:Nd([.55,0,1,.45]),backIn:Nd([.31,.01,.66,-.59]),backOut:Nd([.33,1.53,.69,.99])};function UP(n,t){if(n)return typeof n=="function"&&iy()?VP(n,t):TA(n)?Nd(n):Array.isArray(n)?n.map(e=>UP(e,t)||A1.easeOut):A1[n]}const Yi={x:!1,y:!1};function HP(){return Yi.x||Yi.y}function $P(n,t,e){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function WP(n,t){const e=$P(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function DE(n){return t=>{t.pointerType==="touch"||HP()||n(t)}}function zI(n,t,e={}){const[i,s,r]=WP(n,e),o=DE(a=>{const{target:c}=a,u=t(a);if(typeof u!="function"||!c)return;const h=DE(d=>{u(d),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,s)});return i.forEach(a=>{a.addEventListener("pointerenter",o,s)}),r}const GP=(n,t)=>t?n===t?!0:GP(n,t.parentElement):!1,kA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,UI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HI(n){return UI.has(n.tagName)||n.tabIndex!==-1}const Id=new WeakSet;function NE(n){return t=>{t.key==="Enter"&&n(t)}}function nw(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $I=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=NE(()=>{if(Id.has(e))return;nw(e,"down");const s=NE(()=>{nw(e,"up")}),r=()=>nw(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",r,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function IE(n){return kA(n)&&!HP()}function WI(n,t,e={}){const[i,s,r]=WP(n,e),o=a=>{const c=a.currentTarget;if(!IE(a)||Id.has(c))return;Id.add(c);const u=t(a),h=(p,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!IE(p)||!Id.has(c))&&(Id.delete(c),typeof u=="function"&&u(p,{success:y}))},d=p=>{h(p,e.useGlobalTarget||GP(c,p.target))},f=p=>{h(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return i.forEach(a=>{!HI(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(e.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>$I(u,s),s)}),r}function GI(n){return n==="x"||n==="y"?Yi[n]?null:(Yi[n]=!0,()=>{Yi[n]=!1}):Yi.x||Yi.y?null:(Yi.x=Yi.y=!0,()=>{Yi.x=Yi.y=!1})}const XP=new Set(["width","height","top","left","right","bottom",...ud]);let Kg;function XI(){Kg=void 0}const er={now:()=>(Kg===void 0&&er.set(Pe.isProcessing||$N.useManualTiming?Pe.timestamp:performance.now()),Kg),set:n=>{Kg=n,queueMicrotask(XI)}};function PA(n,t){n.indexOf(t)===-1&&n.push(t)}function _A(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class RA{constructor(){this.subscriptions=[]}add(t){return PA(this.subscriptions,t),()=>_A(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LA(n,t){return t?n*(1e3/t):0}const FE=30,KI=n=>!isNaN(parseFloat(n));class YI{constructor(t,e={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=er.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=er.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=KI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new RA);const i=this.events[t].add(e);return t==="change"?()=>{i(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>FE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,FE);return LA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qs(n,t){return new YI(n,t)}function qI(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Qs(e))}function QI(n,t){const e=hv(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const o in r){const a=hI(r[o]);qI(n,o,a)}}function ZI(n){return!!(ze(n)&&n.add)}function S1(n,t){const e=n.getValue("willChange");if(ZI(e))return e.add(t)}function KP(n){return n.props[SP]}const YP=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,JI=1e-7,tF=12;function eF(n,t,e,i,s){let r,o,a=0;do o=t+(e-t)/2,r=YP(o,i,s)-n,r>0?e=o:t=o;while(Math.abs(r)>JI&&++a<tF);return o}function zm(n,t,e,i){if(n===t&&e===i)return Tn;const s=r=>eF(r,0,1,n,e);return r=>r===0||r===1?r:YP(s(r),t,i)}const qP=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,QP=n=>t=>1-n(1-t),ZP=zm(.33,1.53,.69,.99),MA=QP(ZP),JP=qP(MA),t_=n=>(n*=2)<1?.5*MA(n):.5*(2-Math.pow(2,-10*(n-1))),DA=n=>1-Math.sin(Math.acos(n)),e_=QP(DA),n_=qP(DA),i_=n=>/^0[^.\s]+$/u.test(n);function nF(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||i_(n):!0}const pf=n=>Math.round(n*1e5)/1e5,NA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iF(n){return n==null}const sF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IA=(n,t)=>e=>!!(typeof e=="string"&&sF.test(e)&&e.startsWith(n)||t&&!iF(e)&&Object.prototype.hasOwnProperty.call(e,t)),s_=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(NA);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},rF=n=>ir(0,255,n),iw={...hd,transform:n=>Math.round(rF(n))},il={test:IA("rgb","red"),parse:s_("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+iw.transform(n)+", "+iw.transform(t)+", "+iw.transform(e)+", "+pf(jf.transform(i))+")"};function oF(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const E1={test:IA("#"),parse:oF,transform:il.transform},iu={test:IA("hsl","hue"),parse:s_("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+tr.transform(pf(t))+", "+tr.transform(pf(e))+", "+pf(jf.transform(i))+")"},dn={test:n=>il.test(n)||E1.test(n)||iu.test(n),parse:n=>il.test(n)?il.parse(n):iu.test(n)?iu.parse(n):E1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?il.transform(n):iu.transform(n)},aF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lF(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(NA))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(aF))===null||e===void 0?void 0:e.length)||0)>0}const r_="number",o_="color",cF="var",uF="var(",OE="${}",hF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vf(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=t.replace(hF,c=>(dn.test(c)?(i.color.push(r),s.push(o_),e.push(dn.parse(c))):c.startsWith(uF)?(i.var.push(r),s.push(cF),e.push(c)):(i.number.push(r),s.push(r_),e.push(parseFloat(c))),++r,OE)).split(OE);return{values:e,split:a,indexes:i,types:s}}function a_(n){return Vf(n).values}function l_(n){const{split:t,types:e}=Vf(n),i=t.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],s[o]!==void 0){const a=e[o];a===r_?r+=pf(s[o]):a===o_?r+=dn.transform(s[o]):r+=s[o]}return r}}const dF=n=>typeof n=="number"?0:n;function fF(n){const t=a_(n);return l_(n)(t.map(dF))}const Ma={test:lF,parse:a_,createTransformer:l_,getAnimatableNone:fF},pF=new Set(["brightness","contrast","saturate","opacity"]);function mF(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(NA)||[];if(!i)return n;const s=e.replace(i,"");let r=pF.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const gF=/\b([a-z-]*)\(.*?\)/gu,C1={...Ma,getAnimatableNone:n=>{const t=n.match(gF);return t?t.map(mF).join(" "):n}},yF={...vA,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:C1,WebkitFilter:C1},FA=n=>yF[n];function c_(n,t){let e=FA(n);return e!==C1&&(e=Ma),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const vF=new Set(["auto","none","0"]);function wF(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!vF.has(r)&&Vf(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=c_(e,s)}const BE=n=>n===hd||n===tt,jE=(n,t)=>parseFloat(n.split(", ")[t]),VE=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return jE(s[1],t);{const r=i.match(/^matrix\((.+)\)$/u);return r?jE(r[1],n):0}},xF=new Set(["x","y","z"]),bF=ud.filter(n=>!xF.has(n));function AF(n){const t=[];return bF.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const ed={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:VE(4,13),y:VE(5,14)};ed.translateX=ed.x;ed.translateY=ed.y;const vc=new Set;let T1=!1,k1=!1;function u_(){if(k1){const n=Array.from(vc).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=AF(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,o])=>{var a;(a=i.getValue(r))===null||a===void 0||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}k1=!1,T1=!1,vc.forEach(n=>n.complete()),vc.clear()}function h_(){vc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(k1=!0)})}function SF(){h_(),u_()}class OA{constructor(t,e,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vc.add(this),T1||(T1=!0,xt.read(h_),xt.resolveKeyframes(u_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const c=i.readValue(e,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const d_=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),EF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CF(n){const t=EF.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function f_(n,t,e=1){const[i,s]=CF(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const o=r.trim();return d_(o)?parseFloat(o):o}return yA(s)?f_(s,t,e+1):s}const p_=n=>t=>t.test(n),TF={test:n=>n==="auto",parse:n=>n},m_=[hd,tt,tr,yo,yI,gI,TF],zE=n=>m_.find(p_(n));class g_ extends OA{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),yA(u))){const h=f_(u,e.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XP.has(i)||t.length!==2)return;const[s,r]=t,o=zE(s),a=zE(r);if(o!==a)if(BE(o)&&BE(a))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)nF(t[s])&&i.push(s);i.length&&wF(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ed[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=ed[i](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const UE=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ma.test(n)||n==="0")&&!n.startsWith("url("));function kF(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function PF(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],o=UE(s,t),a=UE(r,t);return!o||!a?!1:kF(n)||(e==="spring"||CA(e))&&i}const _F=n=>n!==null;function dv(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(_F),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const RF=40;class y_{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=er.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&SF(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=er.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!PF(t,i,s,r))if(o)this.options.duration=0;else{c&&c(dv(t,this.options,e)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,e);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...h},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const te=(n,t,e)=>n+(t-n)*e;function sw(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function LF({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,o=0;if(!t)s=r=o=e;else{const a=e<.5?e*(1+t):e+t-e*t,c=2*e-a;s=sw(c,a,n+1/3),r=sw(c,a,n),o=sw(c,a,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function sy(n,t){return e=>e>0?t:n}const rw=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},MF=[E1,il,iu],DF=n=>MF.find(t=>t.test(n));function HE(n){const t=DF(n);if(!t)return!1;let e=t.parse(n);return t===iu&&(e=LF(e)),e}const $E=(n,t)=>{const e=HE(n),i=HE(t);if(!e||!i)return sy(n,t);const s={...e};return r=>(s.red=rw(e.red,i.red,r),s.green=rw(e.green,i.green,r),s.blue=rw(e.blue,i.blue,r),s.alpha=te(e.alpha,i.alpha,r),il.transform(s))},NF=(n,t)=>e=>t(n(e)),Um=(...n)=>n.reduce(NF),P1=new Set(["none","hidden"]);function IF(n,t){return P1.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function FF(n,t){return e=>te(n,t,e)}function BA(n){return typeof n=="number"?FF:typeof n=="string"?yA(n)?sy:dn.test(n)?$E:jF:Array.isArray(n)?v_:typeof n=="object"?dn.test(n)?$E:OF:sy}function v_(n,t){const e=[...n],i=e.length,s=n.map((r,o)=>BA(r)(r,t[o]));return r=>{for(let o=0;o<i;o++)e[o]=s[o](r);return e}}function OF(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=BA(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function BF(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],a=n.indexes[o][s[o]],c=(e=n.values[a])!==null&&e!==void 0?e:0;i[r]=c,s[o]++}return i}const jF=(n,t)=>{const e=Ma.createTransformer(t),i=Vf(n),s=Vf(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?P1.has(n)&&!s.values.length||P1.has(t)&&!i.values.length?IF(n,t):Um(v_(BF(i,s),s.values),e):sy(n,t)};function w_(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?te(n,t,e):BA(n)(n,t)}const VF=5;function x_(n,t,e){const i=Math.max(t-VF,0);return LA(e-n(i),t-i)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ow=.001;function zF({duration:n=ce.duration,bounce:t=ce.bounce,velocity:e=ce.velocity,mass:i=ce.mass}){let s,r,o=1-t;o=ir(ce.minDamping,ce.maxDamping,o),n=ir(ce.minDuration,ce.maxDuration,Jr(n)),o<1?(s=u=>{const h=u*o,d=h*n,f=h-e,p=_1(u,o),y=Math.exp(-d);return ow-f/p*y},r=u=>{const d=u*o*n,f=d*e+e,p=Math.pow(o,2)*Math.pow(u,2)*n,y=Math.exp(-d),v=_1(Math.pow(u,2),o);return(-s(u)+ow>0?-1:1)*((f-p)*y)/v}):(s=u=>{const h=Math.exp(-u*n),d=(u-e)*n+1;return-ow+h*d},r=u=>{const h=Math.exp(-u*n),d=(e-u)*(n*n);return h*d});const a=5/n,c=HF(s,r,a);if(n=Zr(n),isNaN(c))return{stiffness:ce.stiffness,damping:ce.damping,duration:n};{const u=Math.pow(c,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const UF=12;function HF(n,t,e){let i=e;for(let s=1;s<UF;s++)i=i-n(i)/t(i);return i}function _1(n,t){return n*Math.sqrt(1-t*t)}const $F=["duration","bounce"],WF=["stiffness","damping","mass"];function WE(n,t){return t.some(e=>n[e]!==void 0)}function GF(n){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...n};if(!WE(n,WF)&&WE(n,$F))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,r=2*ir(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:ce.mass,stiffness:s,damping:r}}else{const e=zF(n);t={...t,...e,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function b_(n=ce.visualDuration,t=ce.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const r=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],a={done:!1,value:r},{stiffness:c,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=GF({...e,velocity:-Jr(e.velocity||0)}),y=f||0,v=u/(2*Math.sqrt(c*h)),A=o-r,m=Jr(Math.sqrt(c/h)),w=Math.abs(A)<5;i||(i=w?ce.restSpeed.granular:ce.restSpeed.default),s||(s=w?ce.restDelta.granular:ce.restDelta.default);let x;if(v<1){const C=_1(m,v);x=T=>{const _=Math.exp(-v*m*T);return o-_*((y+v*m*A)/C*Math.sin(C*T)+A*Math.cos(C*T))}}else if(v===1)x=C=>o-Math.exp(-m*C)*(A+(y+m*A)*C);else{const C=m*Math.sqrt(v*v-1);x=T=>{const _=Math.exp(-v*m*T),R=Math.min(C*T,300);return o-_*((y+v*m*A)*Math.sinh(R)+C*A*Math.cosh(R))/C}}const E={calculatedDuration:p&&d||null,next:C=>{const T=x(C);if(p)a.done=C>=d;else{let _=0;v<1&&(_=C===0?Zr(y):x_(x,C,T));const R=Math.abs(_)<=i,M=Math.abs(o-T)<=s;a.done=R&&M}return a.value=a.done?o:T,a},toString:()=>{const C=Math.min(jP(E),b1),T=VP(_=>E.next(C*_).value,C,30);return C+"ms "+T}};return E}function GE({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:h}){const d=n[0],f={done:!1,value:d},p=R=>a!==void 0&&R<a||c!==void 0&&R>c,y=R=>a===void 0?c:c===void 0||Math.abs(a-R)<Math.abs(c-R)?a:c;let v=e*t;const A=d+v,m=o===void 0?A:o(A);m!==A&&(v=m-d);const w=R=>-v*Math.exp(-R/i),x=R=>m+w(R),E=R=>{const M=w(R),L=x(R);f.done=Math.abs(M)<=u,f.value=f.done?m:L};let C,T;const _=R=>{p(f.value)&&(C=R,T=b_({keyframes:[f.value,y(f.value)],velocity:x_(x,R,f.value),damping:s,stiffness:r,restDelta:u,restSpeed:h}))};return _(0),{calculatedDuration:null,next:R=>{let M=!1;return!T&&C===void 0&&(M=!0,E(R),_(R)),C!==void 0&&R>=C?T.next(R-C):(!M&&E(R),f)}}}const XF=zm(.42,0,1,1),KF=zm(0,0,.58,1),A_=zm(.42,0,.58,1),YF=n=>Array.isArray(n)&&typeof n[0]!="number",qF={linear:Tn,easeIn:XF,easeInOut:A_,easeOut:KF,circIn:DA,circInOut:n_,circOut:e_,backIn:MA,backInOut:JP,backOut:ZP,anticipate:t_},XE=n=>{if(TA(n)){vP(n.length===4);const[t,e,i,s]=n;return zm(t,e,i,s)}else if(typeof n=="string")return qF[n];return n};function QF(n,t,e){const i=[],s=e||w_,r=n.length-1;for(let o=0;o<r;o++){let a=s(n[o],n[o+1]);if(t){const c=Array.isArray(t)?t[o]||Tn:t;a=Um(c,a)}i.push(a)}return i}function S_(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(vP(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const a=QF(t,i,s),c=a.length,u=h=>{if(o&&h<n[0])return t[0];let d=0;if(c>1)for(;d<n.length-2&&!(h<n[d+1]);d++);const f=Ec(n[d],n[d+1],h);return a[d](f)};return e?h=>u(ir(n[0],n[r-1],h)):u}function ZF(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=Ec(0,t,i);n.push(te(e,1,s))}}function E_(n){const t=[0];return ZF(t,n.length-1),t}function JF(n,t){return n.map(e=>e*t)}function tO(n,t){return n.map(()=>t||A_).splice(0,n.length-1)}function ry({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=YF(i)?i.map(XE):XE(i),r={done:!1,value:t[0]},o=JF(e&&e.length===t.length?e:E_(t),n),a=S_(o,t,{ease:Array.isArray(s)?s:tO(t,s)});return{calculatedDuration:n,next:c=>(r.value=a(c),r.done=c>=n,r)}}const eO=n=>{const t=({timestamp:e})=>n(e);return{start:()=>xt.update(t,!0),stop:()=>nr(t),now:()=>Pe.isProcessing?Pe.timestamp:er.now()}},nO={decay:GE,inertia:GE,tween:ry,keyframes:ry,spring:b_},iO=n=>n/100;class fv extends y_{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:e,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||OA,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(r,a,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,a=CA(e)?e:nO[e]||ry;let c,u;a!==ry&&typeof t[0]!="number"&&(c=Um(iO,w_(t[0],t[1])),t=[0,100]);const h=a({...this.options,keyframes:t});r==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=jP(h));const{calculatedDuration:d}=h,f=d+s,p=f*(i+1)-s;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=i;if(this.startTime===null)return r.next(0);const{delay:f,repeat:p,repeatType:y,repeatDelay:v,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?m<0:m>h;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let x=this.currentTime,E=r;if(p){const R=Math.min(this.currentTime,h)/d;let M=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(y==="reverse"?(L=1-L,v&&(L-=v/d)):y==="mirror"&&(E=o)),x=ir(0,1,L)*d}const C=w?{done:!1,value:c[0]}:E.next(x);a&&(C.value=a(C.value));let{done:T}=C;!w&&u!==null&&(T=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return _&&s!==void 0&&(C.value=dv(c,this.options,s)),A&&A(C.value),_&&this.finish(),C}get duration(){const{resolved:t}=this;return t?Jr(t.calculatedDuration):0}get time(){return Jr(this.currentTime)}set time(t){t=Zr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Jr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=eO,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function sO(n){return new fv(n)}const rO=new Set(["opacity","clipPath","filter","transform"]);function oO(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const u={[t]:e};c&&(u.offset=c);const h=UP(a,s);return Array.isArray(h)&&(u.easing=h),n.animate(u,{delay:i,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const aO=uA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oy=10,lO=2e4;function cO(n){return CA(n.type)||n.type==="spring"||!zP(n.ease)}function uO(n,t){const e=new fv({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<lO;)i=e.sample(r),s.push(i.value),r+=oy;return{times:void 0,keyframes:s,duration:r-oy,ease:"linear"}}const C_={anticipate:t_,backInOut:JP,circInOut:n_};function hO(n){return n in C_}class KE extends y_{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new g_(r,(o,a)=>this.onKeyframesResolved(o,a),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:r,type:o,motionValue:a,name:c,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof r=="string"&&iy()&&hO(r)&&(r=C_[r]),cO(this.options)){const{onComplete:d,onUpdate:f,motionValue:p,element:y,...v}=this.options,A=uO(t,v);t=A.keyframes,t.length===1&&(t[1]=t[0]),i=A.duration,s=A.times,r=A.ease,o="keyframes"}const h=oO(a.owner.current,c,t,{...this.options,duration:i,times:s,ease:r});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(ME(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;a.set(dv(t,this.options,e)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:o,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Jr(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Jr(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=Zr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return Tn;const{animation:i}=e;ME(i,t)}return Tn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:r,ease:o,times:a}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:f,...p}=this.options,y=new fv({...p,keyframes:i,duration:s,type:r,ease:o,times:a,isGenerator:!0}),v=Zr(this.time);u.setWithVelocity(y.sample(v-oy).value,y.sample(v).value,oy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:r,damping:o,type:a}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return aO()&&i&&rO.has(i)&&!c&&!u&&!s&&r!=="mirror"&&o!==0&&a!=="inertia"}}const dO={type:"spring",stiffness:500,damping:25,restSpeed:10},fO=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),pO={type:"keyframes",duration:.8},mO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gO=(n,{keyframes:t})=>t.length>2?pO:_c.has(n)?n.startsWith("scale")?fO(t[1]):dO:mO;function yO({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const jA=(n,t,e,i={},s,r)=>o=>{const a=EA(i,n)||{},c=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-Zr(c);let h={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:t,element:r?void 0:s};yO(a)||(h={...h,...gO(n,h)}),h.duration&&(h.duration=Zr(h.duration)),h.repeatDelay&&(h.repeatDelay=Zr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!r&&t.get()!==void 0){const f=dv(h.keyframes,a);if(f!==void 0)return xt.update(()=>{h.onUpdate(f),h.onComplete()}),new BI([])}return!r&&KE.supports(h)?new KE(h):new fv(h)};function vO({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function T_(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var r;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...c}=t;i&&(o=i);const u=[],h=s&&n.animationState&&n.animationState.getState()[s];for(const d in c){const f=n.getValue(d,(r=n.latestValues[d])!==null&&r!==void 0?r:null),p=c[d];if(p===void 0||h&&vO(h,d))continue;const y={delay:e,...EA(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const m=KP(n);if(m){const w=window.MotionHandoffAnimation(m,d,xt);w!==null&&(y.startTime=w,v=!0)}}S1(n,d),f.start(jA(d,f,p,n.shouldReduceMotion&&XP.has(d)?{type:!1}:y,n,v));const A=f.animation;A&&u.push(A)}return a&&Promise.all(u).then(()=>{xt.update(()=>{a&&QI(n,a)})}),u}function R1(n,t,e={}){var i;const s=hv(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(r=e.transitionOverride);const o=s?()=>Promise.all(T_(n,s,e)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=r;return wO(n,t,h+u,d,f,e)}:()=>Promise.resolve(),{when:c}=r;if(c){const[u,h]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(e.delay)])}function wO(n,t,e=0,i=0,s=1,r){const o=[],a=(n.variantChildren.size-1)*i,c=s===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(xO).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(R1(u,t,{...r,delay:e+c(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function xO(n,t){return n.sortNodePosition(t)}function bO(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>R1(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=R1(n,t,e);else{const s=typeof t=="function"?hv(n,t,e.custom):t;i=Promise.all(T_(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const AO=dA.length;function k_(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?k_(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<AO;e++){const i=dA[e],s=n.props[i];(Bf(s)||s===!1)&&(t[i]=s)}return t}const SO=[...hA].reverse(),EO=hA.length;function CO(n){return t=>Promise.all(t.map(({animation:e,options:i})=>bO(n,e,i)))}function TO(n){let t=CO(n),e=YE(),i=!0;const s=c=>(u,h)=>{var d;const f=hv(n,h,c==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:y,...v}=f;u={...u,...v,...y}}return u};function r(c){t=c(n)}function o(c){const{props:u}=n,h=k_(n.parent)||{},d=[],f=new Set;let p={},y=1/0;for(let A=0;A<EO;A++){const m=SO[A],w=e[m],x=u[m]!==void 0?u[m]:h[m],E=Bf(x),C=m===c?w.isActive:null;C===!1&&(y=A);let T=x===h[m]&&x!==u[m]&&E;if(T&&i&&n.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...p},!w.isActive&&C===null||!x&&!w.prevProp||cv(x)||typeof x=="boolean")continue;const _=kO(w.prevProp,x);let R=_||m===c&&w.isActive&&!T&&E||A>y&&E,M=!1;const L=Array.isArray(x)?x:[x];let D=L.reduce(s(m),{});C===!1&&(D={});const{prevResolvedValues:B={}}=w,K={...B,...D},U=F=>{R=!0,f.has(F)&&(M=!0,f.delete(F)),w.needsAnimating[F]=!0;const N=n.getValue(F);N&&(N.liveStyle=!1)};for(const F in K){const N=D[F],z=B[F];if(p.hasOwnProperty(F))continue;let Y=!1;x1(N)&&x1(z)?Y=!OP(N,z):Y=N!==z,Y?N!=null?U(F):f.add(F):N!==void 0&&f.has(F)?U(F):w.protectedKeys[F]=!0}w.prevProp=x,w.prevResolvedValues=D,w.isActive&&(p={...p,...D}),i&&n.blockInitialAnimation&&(R=!1),R&&(!(T&&_)||M)&&d.push(...L.map(F=>({animation:F,options:{type:m}})))}if(f.size){const A={};f.forEach(m=>{const w=n.getBaseTarget(m),x=n.getValue(m);x&&(x.liveStyle=!0),A[m]=w??null}),d.push({animation:A})}let v=!!d.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(v=!1),i=!1,v?t(d):Promise.resolve()}function a(c,u){var h;if(e[c].isActive===u)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),e[c].isActive=u;const d=o(c);for(const f in e)e[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>e,reset:()=>{e=YE(),i=!0}}}function kO(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!OP(t,n):!1}function Ua(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YE(){return{animate:Ua(!0),whileInView:Ua(),whileHover:Ua(),whileTap:Ua(),whileDrag:Ua(),whileFocus:Ua(),exit:Ua()}}class za{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PO extends za{constructor(t){super(t),t.animationState||(t.animationState=TO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let _O=0;class RO extends za{constructor(){super(...arguments),this.id=_O++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>e(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const LO={animation:{Feature:PO},exit:{Feature:RO}};function zf(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Hm(n){return{point:{x:n.pageX,y:n.pageY}}}const MO=n=>t=>kA(t)&&n(t,Hm(t));function mf(n,t,e,i){return zf(n,t,MO(e),i)}const qE=(n,t)=>Math.abs(n-t);function DO(n,t){const e=qE(n.x,t.x),i=qE(n.y,t.y);return Math.sqrt(e**2+i**2)}class P_{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=lw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=DO(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=d,{timestamp:v}=Pe;this.history.push({...y,timestamp:v});const{onStart:A,onMove:m}=this.handlers;f||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=aw(f,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=lw(d.type==="pointercancel"?this.lastMoveEventInfo:aw(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,A),y&&y(d,A)},!kA(t))return;this.dragSnapToOrigin=r,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const o=Hm(t),a=aw(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Pe;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=e;h&&h(t,lw(a,this.history)),this.removeListeners=Um(mf(this.contextWindow,"pointermove",this.handlePointerMove),mf(this.contextWindow,"pointerup",this.handlePointerUp),mf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function aw(n,t){return t?{point:t(n.point)}:n}function QE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function lw({point:n},t){return{point:n,delta:QE(n,__(t)),offset:QE(n,NO(t)),velocity:IO(t,.1)}}function NO(n){return n[0]}function __(n){return n[n.length-1]}function IO(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=__(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Zr(t)));)e--;if(!i)return{x:0,y:0};const r=Jr(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const R_=1e-4,FO=1-R_,OO=1+R_,L_=.01,BO=0-L_,jO=0+L_;function xi(n){return n.max-n.min}function VO(n,t,e){return Math.abs(n-t)<=e}function ZE(n,t,e,i=.5){n.origin=i,n.originPoint=te(t.min,t.max,n.origin),n.scale=xi(e)/xi(t),n.translate=te(e.min,e.max,n.origin)-n.originPoint,(n.scale>=FO&&n.scale<=OO||isNaN(n.scale))&&(n.scale=1),(n.translate>=BO&&n.translate<=jO||isNaN(n.translate))&&(n.translate=0)}function gf(n,t,e,i){ZE(n.x,t.x,e.x,i?i.originX:void 0),ZE(n.y,t.y,e.y,i?i.originY:void 0)}function JE(n,t,e){n.min=e.min+t.min,n.max=n.min+xi(t)}function zO(n,t,e){JE(n.x,t.x,e.x),JE(n.y,t.y,e.y)}function t2(n,t,e){n.min=t.min-e.min,n.max=n.min+xi(t)}function yf(n,t,e){t2(n.x,t.x,e.x),t2(n.y,t.y,e.y)}function UO(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?te(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?te(e,n,i.max):Math.min(n,e)),n}function e2(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function HO(n,{top:t,left:e,bottom:i,right:s}){return{x:e2(n.x,e,s),y:e2(n.y,t,i)}}function n2(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function $O(n,t){return{x:n2(n.x,t.x),y:n2(n.y,t.y)}}function WO(n,t){let e=.5;const i=xi(n),s=xi(t);return s>i?e=Ec(t.min,t.max-i,n.min):i>s&&(e=Ec(n.min,n.max-s,t.min)),ir(0,1,e)}function GO(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const L1=.35;function XO(n=L1){return n===!1?n=0:n===!0&&(n=L1),{x:i2(n,"left","right"),y:i2(n,"top","bottom")}}function i2(n,t,e){return{min:s2(n,t),max:s2(n,e)}}function s2(n,t){return typeof n=="number"?n:n[t]||0}const r2=()=>({translate:0,scale:1,origin:0,originPoint:0}),su=()=>({x:r2(),y:r2()}),o2=()=>({min:0,max:0}),ge=()=>({x:o2(),y:o2()});function ki(n){return[n("x"),n("y")]}function M_({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function KO({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function YO(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function cw(n){return n===void 0||n===1}function M1({scale:n,scaleX:t,scaleY:e}){return!cw(n)||!cw(t)||!cw(e)}function Ga(n){return M1(n)||D_(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function D_(n){return a2(n.x)||a2(n.y)}function a2(n){return n&&n!=="0%"}function ay(n,t,e){const i=n-e,s=t*i;return e+s}function l2(n,t,e,i,s){return s!==void 0&&(n=ay(n,s,i)),ay(n,e,i)+t}function D1(n,t=0,e=1,i,s){n.min=l2(n.min,t,e,i,s),n.max=l2(n.max,t,e,i,s)}function N_(n,{x:t,y:e}){D1(n.x,t.translate,t.scale,t.originPoint),D1(n.y,e.translate,e.scale,e.originPoint)}const c2=.999999999999,u2=1.0000000000001;function qO(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,o;for(let a=0;a<s;a++){r=e[a],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ou(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,N_(n,o)),i&&Ga(r.latestValues)&&ou(n,r.latestValues))}t.x<u2&&t.x>c2&&(t.x=1),t.y<u2&&t.y>c2&&(t.y=1)}function ru(n,t){n.min=n.min+t,n.max=n.max+t}function h2(n,t,e,i,s=.5){const r=te(n.min,n.max,s);D1(n,t,e,r,i)}function ou(n,t){h2(n.x,t.x,t.scaleX,t.scale,t.originX),h2(n.y,t.y,t.scaleY,t.scale,t.originY)}function I_(n,t){return M_(YO(n.getBoundingClientRect(),t))}function QO(n,t,e){const i=I_(n,e),{scroll:s}=t;return s&&(ru(i.x,s.offset.x),ru(i.y,s.offset.y)),i}const F_=({current:n})=>n?n.ownerDocument.defaultView:null,ZO=new WeakMap;class JO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Hm(h).point)},r=(h,d)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GI(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki(A=>{let m=this.getAxisMotionValue(A).get()||0;if(tr.test(m)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[A];x&&(m=xi(x)*(parseFloat(m)/100))}}this.originPoint[A]=m}),y&&xt.postRender(()=>y(h,d)),S1(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:A}=d;if(p&&this.currentDirection===null){this.currentDirection=t6(A),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),v&&v(h,d)},a=(h,d)=>this.stop(h,d),c=()=>ki(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new P_(t,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:F_(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&xt.postRender(()=>r(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!xg(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=UO(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;e&&nu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=HO(s.layoutBox,e):this.constraints=!1,this.elastic=XO(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ki(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=GO(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!nu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=QO(i,s.root,this.visualElement.getTransformPagePoint());let o=$O(s.layout.layoutBox,r);if(e){const a=e(KO(o));this.hasMutatedConstraints=!!a,a&&(o=M_(a))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ki(h=>{if(!xg(h,e,this.currentDirection))return;let d=c&&c[h]||{};o&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:i?t[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return S1(this.visualElement,t),i.start(jA(t,i,0,e,this.visualElement,!1))}stopAnimation(){ki(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ki(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ki(e=>{const{drag:i}=this.getProps();if(!xg(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[e];r.set(t[e]-te(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!nu(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ki(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=WO({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ki(o=>{if(!xg(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(te(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;ZO.set(this.visualElement,this);const t=this.visualElement.current,e=mf(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();nu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xt.read(i);const o=zf(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ki(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=L1,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function xg(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function t6(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class e6 extends za{constructor(t){super(t),this.removeGroupControls=Tn,this.removeListeners=Tn,this.controls=new JO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const d2=n=>(t,e)=>{n&&xt.postRender(()=>n(t,e))};class n6 extends za{constructor(){super(...arguments),this.removePointerDownListener=Tn}onPointerDown(t){this.session=new P_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:d2(t),onStart:d2(e),onMove:i,onEnd:(r,o)=>{delete this.session,s&&xt.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=mf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f2(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ed={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(tt.test(n))n=parseFloat(n);else return n;const e=f2(n,t.target.x),i=f2(n,t.target.y);return`${e}% ${i}%`}},i6={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Ma.parse(n);if(s.length>5)return i;const r=Ma.createTransformer(n),o=typeof s[0]!="number"?1:0,a=e.x.scale*t.x,c=e.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=te(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),r(s)}};class s6 extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;kI(r6),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Yg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||t.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||xt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function O_(n){const[t,e]=yP(),i=k.useContext(lA);return P.jsx(s6,{...n,layoutGroup:i,switchLayoutGroup:k.useContext(EP),isPresent:t,safeToRemove:e})}const r6={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:i6};function o6(n,t,e){const i=ze(n)?n:Qs(n);return i.start(jA("",i,t,e)),i.animation}function a6(n){return n instanceof SVGElement&&n.tagName!=="svg"}const l6=(n,t)=>n.depth-t.depth;class c6{constructor(){this.children=[],this.isDirty=!1}add(t){PA(this.children,t),this.isDirty=!0}remove(t){_A(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(l6),this.isDirty=!1,this.children.forEach(t)}}function u6(n,t){const e=er.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(nr(i),n(r-t))};return xt.read(i,!0),()=>nr(i)}const B_=["TopLeft","TopRight","BottomLeft","BottomRight"],h6=B_.length,p2=n=>typeof n=="string"?parseFloat(n):n,m2=n=>typeof n=="number"||tt.test(n);function d6(n,t,e,i,s,r){s?(n.opacity=te(0,e.opacity!==void 0?e.opacity:1,f6(i)),n.opacityExit=te(t.opacity!==void 0?t.opacity:1,0,p6(i))):r&&(n.opacity=te(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let o=0;o<h6;o++){const a=`border${B_[o]}Radius`;let c=g2(t,a),u=g2(e,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||m2(c)===m2(u)?(n[a]=Math.max(te(p2(c),p2(u),i),0),(tr.test(u)||tr.test(c))&&(n[a]+="%")):n[a]=u}(t.rotate||e.rotate)&&(n.rotate=te(t.rotate||0,e.rotate||0,i))}function g2(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const f6=j_(0,.5,e_),p6=j_(.5,.95,Tn);function j_(n,t,e){return i=>i<n?0:i>t?1:e(Ec(n,t,i))}function y2(n,t){n.min=t.min,n.max=t.max}function Ei(n,t){y2(n.x,t.x),y2(n.y,t.y)}function v2(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function w2(n,t,e,i,s){return n-=t,n=ay(n,1/e,i),s!==void 0&&(n=ay(n,1/s,i)),n}function m6(n,t=0,e=1,i=.5,s,r=n,o=n){if(tr.test(t)&&(t=parseFloat(t),t=te(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=te(r.min,r.max,i);n===r&&(a-=t),n.min=w2(n.min,t,e,a,s),n.max=w2(n.max,t,e,a,s)}function x2(n,t,[e,i,s],r,o){m6(n,t[e],t[i],t[s],t.scale,r,o)}const g6=["x","scaleX","originX"],y6=["y","scaleY","originY"];function b2(n,t,e,i){x2(n.x,t,g6,e?e.x:void 0,i?i.x:void 0),x2(n.y,t,y6,e?e.y:void 0,i?i.y:void 0)}function A2(n){return n.translate===0&&n.scale===1}function V_(n){return A2(n.x)&&A2(n.y)}function S2(n,t){return n.min===t.min&&n.max===t.max}function v6(n,t){return S2(n.x,t.x)&&S2(n.y,t.y)}function E2(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function z_(n,t){return E2(n.x,t.x)&&E2(n.y,t.y)}function C2(n){return xi(n.x)/xi(n.y)}function T2(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class w6{constructor(){this.members=[]}add(t){PA(this.members,t),t.scheduleRender()}remove(t){if(_A(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x6(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:p,skewY:y}=e;u&&(i=`perspective(${u}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=n.x.scale*t.x,c=n.y.scale*t.y;return(a!==1||c!==1)&&(i+=`scale(${a}, ${c})`),i||"none"}const Xa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fd=typeof window<"u"&&window.MotionDebug!==void 0,uw=["","X","Y","Z"],b6={visibility:"hidden"},k2=1e3;let A6=0;function hw(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function U_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=KP(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",xt,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&U_(i)}function H_({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=A6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fd&&(Xa.totalNodes=Xa.resolvedTargetDeltas=Xa.recalculatedProjection=0),this.nodes.forEach(C6),this.nodes.forEach(R6),this.nodes.forEach(L6),this.nodes.forEach(T6),Fd&&window.MotionDebug.record(Xa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new c6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new RA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=a6(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),n){let d;const f=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=u6(f,250),Yg.hasAnimatedSinceResize&&(Yg.hasAnimatedSinceResize=!1,this.nodes.forEach(_2))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||F6,{onLayoutAnimationStart:A,onLayoutAnimationComplete:m}=h.getProps(),w=!this.targetLayout||!z_(this.targetLayout,y)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const E={...EA(v,"layout"),onPlay:A,onComplete:m};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||_2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P2);return}this.isUpdating||this.nodes.forEach(P6),this.isUpdating=!1,this.nodes.forEach(_6),this.nodes.forEach(S6),this.nodes.forEach(E6),this.clearAllSnapshots();const a=er.now();Pe.delta=ir(0,1e3/60,a-Pe.timestamp),Pe.timestamp=a,Pe.isProcessing=!0,ew.update.process(Pe),ew.preRender.process(Pe),ew.render.process(Pe),Pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k6),this.sharedNodes.forEach(D6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!V_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||Ga(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),O6(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ge();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(B6))){const{scroll:h}=this.root;h&&(ru(c.x,h.offset.x),ru(c.y,h.offset.y))}return c}removeElementScroll(o){var a;const c=ge();if(Ei(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Ei(c,o),ru(c.x,d.offset.x),ru(c.y,d.offset.y))}return c}applyTransform(o,a=!1){const c=ge();Ei(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ou(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ga(h.latestValues)&&ou(c,h.latestValues)}return Ga(this.latestValues)&&ou(c,this.latestValues),c}removeTransform(o){const a=ge();Ei(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ga(u.latestValues))continue;M1(u.latestValues)&&u.updateSnapshot();const h=ge(),d=u.measurePageBox();Ei(h,d),b2(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ga(this.latestValues)&&b2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Pe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),yf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),N_(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),yf(this.relativeTargetOrigin,this.target,p.target),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fd&&Xa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||M1(this.parent.latestValues)||D_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pe.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;qO(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ge());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v2(this.prevProjectionDelta.x,this.projectionDelta.x),v2(this.prevProjectionDelta.y,this.projectionDelta.y)),gf(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!T2(this.projectionDelta.x,this.prevProjectionDelta.x)||!T2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Fd&&Xa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=su(),this.projectionDelta=su(),this.projectionDeltaWithTransform=su()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=su();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ge(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=p!==y,A=this.getStack(),m=!A||A.members.length<=1,w=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(I6));this.animationProgress=0;let x;this.mixTargetDelta=E=>{const C=E/1e3;R2(d.x,o.x,C),R2(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N6(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&v6(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ge()),Ei(x,this.relativeTarget)),v&&(this.animationValues=h,d6(h,u,this.latestValues,C,w,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Yg.hasAnimatedSinceResize=!0,this.currentAnimation=o6(0,k2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:h}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&$_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ge();const d=xi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=xi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Ei(a,c),ou(a,h),gf(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new w6),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&hw("z",o,u,this.animationValues);for(let h=0;h<uw.length;h++)hw(`rotate${uw[h]}`,o,u,this.animationValues),hw(`skew${uw[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return b6;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xg(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Xg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ga(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=x6(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in ny){if(f[v]===void 0)continue;const{correct:A,applyTo:m}=ny[v],w=u.transform==="none"?f[v]:A(f[v],d);if(m){const x=m.length;for(let E=0;E<x;E++)u[m[E]]=w}else u[v]=w}return this.options.layoutId&&(u.pointerEvents=d===this?Xg(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(P2),this.root.sharedNodes.clear()}}}function S6(n){n.updateLayout()}function E6(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,o=e.source!==n.layout.source;r==="size"?ki(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=xi(f);f.min=i[d].min,f.max=f.min+p}):$_(r,e.layoutBox,i)&&ki(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=xi(i[d]);f.max=f.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+p)});const a=su();gf(a,i,e.layoutBox);const c=su();o?gf(c,n.applyTransform(s,!0),e.measuredBox):gf(c,i,e.layoutBox);const u=!V_(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const y=ge();yf(y,e.layoutBox,f.layoutBox);const v=ge();yf(v,i,p.layoutBox),z_(y,v)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function C6(n){Fd&&Xa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function T6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function k6(n){n.clearSnapshot()}function P2(n){n.clearMeasurements()}function P6(n){n.isLayoutDirty=!1}function _6(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function _2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function R6(n){n.resolveTargetDelta()}function L6(n){n.calcProjection()}function M6(n){n.resetSkewAndRotation()}function D6(n){n.removeLeadSnapshot()}function R2(n,t,e){n.translate=te(t.translate,0,e),n.scale=te(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function L2(n,t,e,i){n.min=te(t.min,e.min,i),n.max=te(t.max,e.max,i)}function N6(n,t,e,i){L2(n.x,t.x,e.x,i),L2(n.y,t.y,e.y,i)}function I6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const F6={duration:.45,ease:[.4,0,.1,1]},M2=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),D2=M2("applewebkit/")&&!M2("chrome/")?Math.round:Tn;function N2(n){n.min=D2(n.min),n.max=D2(n.max)}function O6(n){N2(n.x),N2(n.y)}function $_(n,t,e){return n==="position"||n==="preserve-aspect"&&!VO(C2(t),C2(e),.2)}function B6(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const j6=H_({attachResizeListener:(n,t)=>zf(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dw={current:void 0},W_=H_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!dw.current){const n=new j6({});n.mount(window),n.setOptions({layoutScroll:!0}),dw.current=n}return dw.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),V6={pan:{Feature:n6},drag:{Feature:e6,ProjectionNode:W_,MeasureLayout:O_}};function I2(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&xt.postRender(()=>r(t,Hm(t)))}class z6 extends za{mount(){const{current:t}=this.node;t&&(this.unmount=zI(t,e=>(I2(this.node,e,"Start"),i=>I2(this.node,i,"End"))))}unmount(){}}class U6 extends za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Um(zf(this.node.current,"focus",()=>this.onFocus()),zf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F2(n,t,e){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&xt.postRender(()=>r(t,Hm(t)))}class H6 extends za{mount(){const{current:t}=this.node;t&&(this.unmount=WI(t,e=>(F2(this.node,e,"Start"),(i,{success:s})=>F2(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const N1=new WeakMap,fw=new WeakMap,$6=n=>{const t=N1.get(n.target);t&&t(n)},W6=n=>{n.forEach($6)};function G6({root:n,...t}){const e=n||document;fw.has(e)||fw.set(e,{});const i=fw.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(W6,{root:n,...t})),i[s]}function X6(n,t,e){const i=G6(t);return N1.set(n,e),i.observe(n),()=>{N1.delete(n),i.unobserve(n)}}const K6={some:0,all:1};class Y6 extends za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:K6[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(c)};return X6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(q6(t,e))&&this.startObserver()}unmount(){}}function q6({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Q6={inView:{Feature:Y6},tap:{Feature:H6},focus:{Feature:U6},hover:{Feature:z6}},Z6={layout:{ProjectionNode:W_,MeasureLayout:O_}},I1={current:null},G_={current:!1};function J6(){if(G_.current=!0,!!cA)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>I1.current=n.matches;n.addListener(t),t()}else I1.current=!1}const t5=[...m_,dn,Ma],e5=n=>t5.find(p_(n)),O2=new WeakMap;function n5(n,t,e){for(const i in t){const s=t[i],r=e[i];if(ze(s))n.addValue(i,s);else if(ze(r))n.addValue(i,Qs(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,Qs(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const B2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class i5{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=er.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,xt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=e.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=uv(e),this.isVariantNode=AP(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&ze(y)&&y.set(c[p],!1)}}mount(t){this.current=t,O2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),G_.current||J6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O2.delete(this.current),this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=_c.has(t),s=e.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&xt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in td){const e=td[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<B2.length;i++){const s=B2[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=n5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Qs(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(d_(s)||i_(s))?s=parseFloat(s):!e5(s)&&Ma.test(e)&&(s=c_(t,e)),this.setBaseTarget(t,ze(s)?s.get():s)),ze(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=gA(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!ze(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new RA),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class X_ extends i5{constructor(){super(...arguments),this.KeyframeResolver=g_}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ze(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function s5(n){return window.getComputedStyle(n)}class r5 extends X_{constructor(){super(...arguments),this.type="html",this.renderInstance=LP}readValueFromInstance(t,e){if(_c.has(e)){const i=FA(e);return i&&i.default||0}else{const i=s5(t),s=(PP(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return I_(t,e)}build(t,e,i){wA(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return SA(t,e,i)}}class o5 extends X_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(_c.has(e)){const i=FA(e);return i&&i.default||0}return e=MP.has(e)?e:fA(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return IP(t,e,i)}build(t,e,i){xA(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){DP(t,e,i,s)}mount(t){this.isSVGTag=AA(t.tagName),super.mount(t)}}const a5=(n,t)=>mA(n)?new o5(t):new r5(t,{allowProjection:n!==k.Fragment}),l5=FI({...LO,...Q6,...V6,...Z6},a5),Et=QN(l5);function K_(n,t){let e;const i=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;e!==o&&n(o),e=o};return xt.update(i,!0),()=>nr(i)}const qg=new WeakMap;let vo;function c5(n,t){if(t){const{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function u5({target:n,contentRect:t,borderBoxSize:e}){var i;(i=qg.get(n))===null||i===void 0||i.forEach(s=>{s({target:n,contentSize:t,get size(){return c5(n,e)}})})}function h5(n){n.forEach(u5)}function d5(){typeof ResizeObserver>"u"||(vo=new ResizeObserver(h5))}function f5(n,t){vo||d5();const e=$P(n);return e.forEach(i=>{let s=qg.get(i);s||(s=new Set,qg.set(i,s)),s.add(t),vo==null||vo.observe(i)}),()=>{e.forEach(i=>{const s=qg.get(i);s==null||s.delete(t),s!=null&&s.size||vo==null||vo.unobserve(i)})}}const Qg=new Set;let vf;function p5(){vf=()=>{const n={width:window.innerWidth,height:window.innerHeight},t={target:window,size:n,contentSize:n};Qg.forEach(e=>e(t))},window.addEventListener("resize",vf)}function m5(n){return Qg.add(n),vf||p5(),()=>{Qg.delete(n),!Qg.size&&vf&&(vf=void 0)}}function g5(n,t){return typeof n=="function"?m5(n):f5(n,t)}const y5=50,j2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),v5=()=>({time:0,x:j2(),y:j2()}),w5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function V2(n,t,e,i){const s=e[t],{length:r,position:o}=w5[t],a=s.current,c=e.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${r}`]-n[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Ec(0,s.scrollLength,s.current);const u=i-c;s.velocity=u>y5?0:LA(s.current-a,u)}function x5(n,t,e){V2(n,"x",t,e),V2(n,"y",t,e),t.time=e}function b5(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(i instanceof HTMLElement)e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();e.x+=s.left-r.left,e.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();e.x+=s,e.y+=r;let o=null,a=i.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=i.parentNode;i=o}else break;return e}const F1={start:0,center:.5,end:1};function z2(n,t,e=0){let i=0;if(n in F1&&(n=F1[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const A5=[0,0];function S5(n,t,e,i){let s=Array.isArray(n)?n:A5,r=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,F1[n]?n:"0"]),r=z2(s[0],e,i),o=z2(s[1],t),r-o}const E5={All:[[0,0],[1,1]]},C5={x:0,y:0};function T5(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function k5(n,t,e){const{offset:i=E5.All}=e,{target:s=n,axis:r="y"}=e,o=r==="y"?"height":"width",a=s!==n?b5(s,n):C5,c=s===n?{width:n.scrollWidth,height:n.scrollHeight}:T5(s),u={width:n.clientWidth,height:n.clientHeight};t[r].offset.length=0;let h=!t[r].interpolate;const d=i.length;for(let f=0;f<d;f++){const p=S5(i[f],u[o],c[o],a[r]);!h&&p!==t[r].interpolatorOffsets[f]&&(h=!0),t[r].offset[f]=p}h&&(t[r].interpolate=S_(t[r].offset,E_(i),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=ir(0,1,t[r].interpolate(t[r].current))}function P5(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function _5(n,t,e,i={}){return{measure:()=>P5(n,i.target,e),update:s=>{x5(n,e,s),(i.offset||i.target)&&k5(n,e,i)},notify:()=>t(e)}}const Cd=new WeakMap,U2=new WeakMap,pw=new WeakMap,H2=n=>n===document.documentElement?window:n;function VA(n,{container:t=document.documentElement,...e}={}){let i=pw.get(t);i||(i=new Set,pw.set(t,i));const s=v5(),r=_5(t,n,s,e);if(i.add(r),!Cd.has(t)){const a=()=>{for(const f of i)f.measure()},c=()=>{for(const f of i)f.update(Pe.timestamp)},u=()=>{for(const f of i)f.notify()},h=()=>{xt.read(a,!1,!0),xt.read(c,!1,!0),xt.update(u,!1,!0)};Cd.set(t,h);const d=H2(t);window.addEventListener("resize",h,{passive:!0}),t!==document.documentElement&&U2.set(t,g5(t,h)),d.addEventListener("scroll",h,{passive:!0})}const o=Cd.get(t);return xt.read(o,!1,!0),()=>{var a;nr(o);const c=pw.get(t);if(!c||(c.delete(r),c.size))return;const u=Cd.get(t);Cd.delete(t),u&&(H2(t).removeEventListener("scroll",u),(a=U2.get(t))===null||a===void 0||a(),window.removeEventListener("resize",u))}}function R5({source:n,container:t,axis:e="y"}){n&&(t=n);const i={value:0},s=VA(r=>{i.value=r[e].progress*100},{container:t,axis:e});return{currentTime:i,cancel:s}}const mw=new Map;function Y_({source:n,container:t=document.documentElement,axis:e="y"}={}){n&&(t=n),mw.has(t)||mw.set(t,{});const i=mw.get(t);return i[e]||(i[e]=BP()?new ScrollTimeline({source:t,axis:e}):R5({source:t,axis:e})),i[e]}function L5(n){return n.length===2}function q_(n){return n&&(n.target||n.offset)}function M5(n,t){return L5(n)||q_(t)?VA(e=>{n(e[t.axis].progress,e)},t):K_(n,Y_(t))}function D5(n,t){if(n.flatten(),q_(t))return n.pause(),VA(e=>{n.time=n.duration*e[t.axis].progress},t);{const e=Y_(t);return n.attachTimeline?n.attachTimeline(e,i=>(i.pause(),K_(s=>{i.time=i.duration*s},e))):Tn}}function N5(n,{axis:t="y",...e}={}){const i={axis:t,...e};return typeof n=="function"?M5(n,i):D5(n,i)}function $2(n,t){HN(!!(!t||t.current))}const I5=()=>({scrollX:Qs(0),scrollY:Qs(0),scrollXProgress:Qs(0),scrollYProgress:Qs(0)});function F5({container:n,target:t,layoutEffect:e=!0,...i}={}){const s=Bm(I5);return(e?av:k.useEffect)(()=>($2("target",t),$2("container",n),N5((o,{x:a,y:c})=>{s.scrollX.set(a.current),s.scrollXProgress.set(a.progress),s.scrollY.set(c.current),s.scrollYProgress.set(c.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[n,t,JSON.stringify(i.offset)]),s}function O5(n){const t=Bm(()=>Qs(n)),{isStatic:e}=k.useContext(jm);if(e){const[,i]=k.useState(n);k.useEffect(()=>t.on("change",i),[])}return t}function W2(n){return typeof n=="number"?n:parseFloat(n)}function B5(n,t={}){const{isStatic:e}=k.useContext(jm),i=k.useRef(null),s=O5(ze(n)?W2(n.get()):n),r=k.useRef(s.get()),o=k.useRef(()=>{}),a=()=>{const u=i.current;u&&u.time===0&&u.sample(Pe.delta),c(),i.current=sO({keyframes:[s.get(),r.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o.current})},c=()=>{i.current&&i.current.stop()};return k.useInsertionEffect(()=>s.attach((u,h)=>e?h(u):(r.current=u,o.current=h,xt.update(a),s.get()),c),[JSON.stringify(t)]),av(()=>{if(ze(n))return n.on("change",u=>s.set(W2(u)))},[s]),s}var Q_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G2=xa.createContext&&xa.createContext(Q_),j5=["attr","size","title"];function V5(n,t){if(n==null)return{};var e=z5(n,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function z5(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function ly(){return ly=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ly.apply(this,arguments)}function X2(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function cy(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(e),!0).forEach(function(i){U5(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):X2(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function U5(n,t,e){return t=H5(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function H5(n){var t=$5(n,"string");return typeof t=="symbol"?t:t+""}function $5(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Z_(n){return n&&n.map((t,e)=>xa.createElement(t.tag,cy({key:e},t.attr),Z_(t.child)))}function Ae(n){return t=>xa.createElement(W5,ly({attr:cy({},n.attr)},t),Z_(n.child))}function W5(n){var t=e=>{var{attr:i,size:s,title:r}=n,o=V5(n,j5),a=s||e.size||"1em",c;return e.className&&(c=e.className),n.className&&(c=(c?c+" ":"")+n.className),xa.createElement("svg",ly({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,o,{className:c,style:cy(cy({color:n.color||e.color},e.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&xa.createElement("title",null,r),n.children)};return G2!==void 0?xa.createElement(G2.Consumer,null,e=>t(e)):t(Q_)}function J_(n){return Ae({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function G5(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function X5(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function tR(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(n)}function K5(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function Y5(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(n)}function K2(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Y2(n){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function q2(n){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function q5(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function eR(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function Q5(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function Z5(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function Q2(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(n)}function J5(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(n)}function Z2(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(n)}function nR(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(n)}function J2(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(n)}function uy(n){return Ae({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function tC(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(n)}const iR=k.createContext(void 0),tB=({children:n})=>{const[t,e]=k.useState(()=>{const s=localStorage.getItem("theme");return s==="light"||s==="dark"?s:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});k.useEffect(()=>{const s=window.document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{e(s=>s==="light"?"dark":"light")};return P.jsx(iR.Provider,{value:{theme:t,toggleTheme:i},children:n})},eB=()=>{const n=k.useContext(iR);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},bg=[{name:"Home",id:"home",type:"section"},{name:"Projects",id:"projects",type:"section"},{name:"Certificates",id:"certificates",type:"section"},{name:"Resume",id:"resume",type:"section"}];function nB(){const{theme:n,toggleTheme:t}=eB(),[e,i]=k.useState(!1),[s,r]=k.useState("home"),[o,a]=k.useState(!1),{scrollYProgress:c}=F5(),u=B5(c,{stiffness:100,damping:30,restDelta:.001}),h=Va(),d=lP();k.useEffect(()=>{const y=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",y),y(),()=>window.removeEventListener("scroll",y)},[]),k.useEffect(()=>{if(h.pathname!=="/")return;const y=new IntersectionObserver(v=>{v.forEach(A=>{A.isIntersecting&&r(A.target.id)})},{rootMargin:"-30% 0px -30% 0px"});return bg.forEach(v=>{if(v.type==="section"){const A=document.getElementById(v.id);A&&y.observe(A)}}),()=>y.disconnect()},[h.pathname]);const f=async y=>{if(a(!1),y.type==="route"){d(y.path);return}y.type==="section"&&(h.pathname!=="/"?(await d("/"),setTimeout(()=>{p(y.id)},100)):p(y.id))},p=y=>{if(y==="home"){window.scrollTo({top:0,behavior:"smooth"}),r(y);return}const v=document.getElementById(y);if(v){const m=v.getBoundingClientRect(),w=m.top+window.pageYOffset,x=m.height,E=window.innerHeight;let C;x<E-80?C=w-(E-x)/2:C=w-80,window.scrollTo({top:C,behavior:"smooth"}),r(y)}};return P.jsxs(P.Fragment,{children:[P.jsxs(Et.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.8,ease:"easeOut"},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${e||h.pathname!=="/"?"bg-white/80 dark:bg-black/40 backdrop-blur-lg dark:backdrop-blur-xl border-gray-200/50 dark:border-gray-800 shadow-[0_2px_10px_rgba(0,0,0,0.04)] dark:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] py-4":"bg-transparent border-transparent py-6"}`,children:[P.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[P.jsxs(Et.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-xl font-semibold tracking-tight text-gray-900 dark:text-white cursor-pointer",onClick:()=>f(bg[0]),children:["Aditya",P.jsx("span",{className:"text-gray-400",children:"."})]}),P.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[bg.map(y=>P.jsxs("button",{onClick:()=>f(y),className:`relative text-sm font-medium transition-colors duration-300 hover:text-black dark:hover:text-white ${s===y.id?"text-black dark:text-white":"text-gray-500 dark:text-gray-300"}`,children:[y.name,s===y.id&&P.jsx(Et.div,{layoutId:"activeSection",className:"absolute -bottom-1 left-0 right-0 h-px bg-black dark:bg-white",transition:{type:"spring",stiffness:380,damping:30}})]},y.name)),P.jsx("div",{className:"flex items-center space-x-4 ml-4 pl-4 border-l border-gray-200 dark:border-gray-700",children:P.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-black dark:text-gray-400 dark:hover:text-white transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none","aria-label":"Toggle Theme",children:P.jsx(_a,{mode:"wait",initial:!1,children:P.jsx(Et.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:n==="dark"?P.jsx(Z2,{className:"text-lg"}):P.jsx(J2,{className:"text-lg"})},n)})})})]}),P.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[P.jsx("button",{onClick:t,className:"p-2 text-gray-900 dark:text-white focus:outline-none",children:P.jsx(_a,{mode:"wait",initial:!1,children:P.jsx(Et.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{duration:.2},children:n==="dark"?P.jsx(Z2,{className:"text-lg"}):P.jsx(J2,{className:"text-lg"})},n)})}),P.jsx("button",{onClick:()=>a(!0),className:"p-2 text-gray-900 dark:text-white focus:outline-none",children:P.jsx(K5,{className:"text-xl"})})]})]}),P.jsx(Et.div,{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-blue-500 dark:bg-blue-400 origin-left",style:{scaleX:u}})]}),P.jsx(_a,{children:o&&P.jsxs(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-white/95 dark:bg-black/90 backdrop-blur-xl flex flex-col items-center justify-center transition-colors duration-300",children:[P.jsx("button",{onClick:()=>a(!1),className:"absolute top-6 right-6 p-4 text-gray-900 dark:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:P.jsx(uy,{className:"text-2xl"})}),P.jsx(Et.div,{className:"flex flex-col items-center space-y-8",initial:"closed",animate:"open",exit:"closed",variants:{open:{transition:{staggerChildren:.1,delayChildren:.2}},closed:{transition:{staggerChildren:.05,staggerDirection:-1}}},children:bg.map(y=>P.jsx(Et.button,{onClick:()=>f(y),variants:{open:{y:0,opacity:1},closed:{y:20,opacity:0}},className:`text-3xl font-bold tracking-tight transition-colors ${s===y.id?"text-black dark:text-white":"text-gray-400 dark:text-gray-500"}`,children:y.name},y.name))})]})})]})}function iB(){return P.jsxs("footer",{className:"bg-gray-50 dark:bg-black border-t border-gray-200 dark:border-gray-800 py-12 px-6 transition-colors duration-300",children:[P.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center",children:[P.jsxs("div",{className:"text-center md:text-left mb-6 md:mb-0",children:[P.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Aditya Nugraha Pratama Saiya"}),P.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:"Designed with minimalist precision."})]}),P.jsxs("div",{className:"flex space-x-6",children:[P.jsx("a",{href:"https://github.com/AdityaNugrahaPS",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-black dark:text-gray-500 dark:hover:text-white transition-colors text-sm",children:"GitHub"}),P.jsx("a",{href:"https://www.linkedin.com/in/adityanugrahapratamasaiya/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-black dark:text-gray-500 dark:hover:text-white transition-colors text-sm",children:"LinkedIn"}),P.jsx("a",{href:"https://www.instagram.com/adtvnus?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-black dark:text-gray-500 dark:hover:text-white transition-colors text-sm",children:"Instagram"})]})]}),P.jsxs("div",{className:"text-center text-gray-400 dark:text-gray-600 text-xs mt-10",children:[" ",new Date().getFullYear()," All rights reserved."]})]})}const eC=["Informatics Engineering Student","Data Science & AI Enthusiast","Robotics & IoT Enthusiast","Machine Learning Student Researcher"],sB=[{name:"Artificial Intelligence",icon:Y5},{name:"Machine Learning",icon:nR},{name:"Deep Learning",icon:q5},{name:"Data Science",icon:eR}];function rB(){const[n,t]=k.useState(0);return k.useEffect(()=>{const e=setInterval(()=>{t(i=>(i+1)%eC.length)},3e3);return()=>clearInterval(e)},[]),P.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black text-gray-900 dark:text-gray-100 px-6 pt-20 transition-colors duration-300",children:P.jsxs("div",{className:"max-w-6xl w-full grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[P.jsxs(Et.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-left space-y-6",children:[P.jsx("h2",{className:"text-gray-500 dark:text-gray-400 font-medium text-lg tracking-wide uppercase",children:"Hello, I'm"}),P.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight text-black dark:text-white leading-tight",children:["Aditya Nugraha ",P.jsx("br",{})," Pratama Saiya"]}),P.jsx("div",{className:"h-10 overflow-hidden relative",children:P.jsx(_a,{mode:"wait",children:P.jsx(Et.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"text-xl md:text-2xl text-blue-600 dark:text-blue-400 font-medium absolute",children:eC[n]},n)})}),P.jsx("div",{className:"flex flex-wrap items-center gap-3",children:P.jsxs("div",{className:"px-4 py-2 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm font-medium flex items-center gap-2 border border-blue-100 dark:border-blue-800",children:[P.jsx(J5,{className:"text-lg"}),P.jsx("span",{children:"Universitas Riau"}),P.jsx("span",{className:"w-1 h-1 rounded-full bg-blue-300 dark:bg-blue-600"}),P.jsx("span",{children:"GPA 3.71"})]})}),P.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg leading-relaxed max-w-lg",children:"An Informatics Engineering student exploring AI, robotics, and machine learning to turn complex ideas into real-world digital solutions."}),P.jsx("div",{className:"flex flex-wrap gap-3 py-2",children:sB.map(e=>P.jsxs("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-full text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2 cursor-default hover:bg-white dark:hover:bg-black transition-colors",children:[P.jsx(e.icon,{className:"text-blue-500 dark:text-blue-400"}),e.name]},e.name))}),P.jsx("div",{className:"flex space-x-6 pt-4",children:[{Icon:J_,href:"https://github.com/AdityaNugrahaPS"},{Icon:X5,href:"https://www.linkedin.com/in/adityanugrahapratamasaiya/"},{Icon:G5,href:"https://www.instagram.com/adtvnus?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="}].map(({Icon:e,href:i},s)=>P.jsx(Et.a,{href:i,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},className:"text-gray-500 hover:text-black dark:text-gray-400 dark:hover:text-white transition-colors text-2xl",children:P.jsx(e,{})},s))})]}),P.jsx(Et.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative flex justify-center",children:P.jsx("div",{className:"w-80 h-80 md:w-96 md:h-96 rounded-full overflow-hidden shadow-2xl border-4 border-gray-100 dark:border-gray-800",children:P.jsx("img",{src:"/profile.jpeg",alt:"Aditya Nugraha Pratama Saiya",className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500"})})})]})})}const oB="/Adtvnus/assets/1-l2DqTqNu.png",aB="/Adtvnus/assets/2-LbJMeTkn.png",lB="/Adtvnus/assets/3-CDGNzpbN.png",cB="/Adtvnus/assets/4-BHxkiQ4m.png",uB="/Adtvnus/assets/5-C8bT45GG.png",hB="/Adtvnus/assets/KNF-05BP_db4.jpg",dB="/Adtvnus/assets/foto-bersama-BbU7IlkX.jpg",fB="/Adtvnus/assets/katalog-knf-BljJE030.pdf",pB=[{id:1,title:"Sentiment Analysis of Indonesian Parliament (DPR) Issues",category:"Data Science",description:"Sentiment analysis of public discussions related to the Indonesian Parliament (DPR) on Twitter.",fullDescription:"This project focuses on sentiment analysis of public discussions related to the Indonesian Parliament (DPR) on Twitter. The dataset was collected through web crawling using relevant keywords to capture real-time public opinions. The workflow includes data collection, text preprocessing (cleaning and stemming), sentiment classification, and data visualization. The results are presented using charts and tables to provide insights into public perception of trending political issues on social media.",techStack:["Python","NLTK","Scikit-learn","Pandas","Matplotlib"],images:[oB,aB,lB,cB,uB],links:{live:"#",github:"https://github.com/AdityaNugrahaPS/analisis-sentimen-bubarkan-dpr.git"},icon:eR},{id:2,title:"Automation Device Development",category:"Research & Development",description:"Developed an automation-based device showcased at Karya Nyata Festival Vol. 6 Pekanbaru.",fullDescription:"Developed an automation-based device showcased at Karya Nyata Festival Vol. 6 Pekanbaru, as part of the research division in collaboration with Rumah BUMN. This project involved designing and prototyping a functional automation solution, which was presented to a public audience and stakeholders. The catalog below provides detailed information about the research and technical specifications of the development process.",techStack:["IoT","Automation","Research","Hardware Integration"],images:[hB,dB],links:{live:"#",github:"#"},pdf:fB,icon:nR}];function mB(){const[n,t]=k.useState(null),e=({project:i})=>{const[s,r]=k.useState(0),[o,a]=k.useState(!1),[c,u]=k.useState(!1),h=k.useCallback(()=>{r(f=>(f+1)%i.images.length),a(!1)},[i.images.length]),d=k.useCallback(()=>{r(f=>(f-1+i.images.length)%i.images.length),a(!1)},[i.images.length]);return k.useEffect(()=>{const f=p=>{p.key==="ArrowRight"&&h(),p.key==="ArrowLeft"&&d(),p.key==="Escape"&&u(!1)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[h,d]),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800 group",children:[P.jsx(_a,{mode:"wait",children:P.jsx(Et.img,{src:i.images[s],alt:i.title,initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.4},onLoad:()=>a(!0),onClick:()=>u(!0),className:`w-full h-full object-cover transition-opacity duration-300 cursor-zoom-in ${o?"opacity-100":"opacity-0"}`},s)}),P.jsxs("div",{className:"absolute inset-0 flex items-center justify-between p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:[P.jsx("button",{onClick:f=>{f.stopPropagation(),d()},className:"p-3 bg-black/50 hover:bg-black/70 text-white rounded-full backdrop-blur-md transition-all transform hover:scale-110 pointer-events-auto",children:P.jsx(Y2,{})}),P.jsx("button",{onClick:f=>{f.stopPropagation(),u(!0)},className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 text-white rounded-full backdrop-blur-md transition-all transform hover:scale-110 pointer-events-auto",children:P.jsx(Z5,{})}),P.jsx("button",{onClick:f=>{f.stopPropagation(),h()},className:"p-3 bg-black/50 hover:bg-black/70 text-white rounded-full backdrop-blur-md transition-all transform hover:scale-110 pointer-events-auto",children:P.jsx(q2,{})})]}),!o&&P.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 dark:bg-gray-700 animate-pulse",children:P.jsx(Q2,{className:"text-gray-400 text-3xl opacity-20"})})]}),i.images.length>1&&P.jsx("div",{className:"grid grid-cols-3 gap-2 pb-2 transition-all duration-300",children:i.images.map((f,p)=>P.jsx("button",{onClick:()=>r(p),className:`relative aspect-[4/3] rounded-lg overflow-hidden transition-all duration-200 ${s===p?"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-900 scale-105":"opacity-60 hover:opacity-100"}`,children:P.jsx("img",{src:f,alt:"",className:"w-full h-full object-cover"})},p))}),P.jsx(_a,{children:c&&P.jsxs(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] bg-black/95 flex items-center justify-center p-4",onClick:()=>u(!1),children:[P.jsx("button",{onClick:()=>u(!1),className:"absolute top-6 right-6 p-4 text-white hover:text-gray-300 transition-colors z-50",children:P.jsx(uy,{className:"text-2xl"})}),P.jsx("button",{onClick:f=>{f.stopPropagation(),d()},className:"absolute left-6 top-1/2 -translate-y-1/2 p-4 text-white hover:text-gray-300 transition-colors z-50 hidden md:block",children:P.jsx(Y2,{className:"text-3xl"})}),P.jsx(Et.img,{src:i.images[s],alt:"Fullscreen preview",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"max-w-full max-h-screen object-contain",onClick:f=>f.stopPropagation()},s+"-full"),P.jsx("button",{onClick:f=>{f.stopPropagation(),h()},className:"absolute right-6 top-1/2 -translate-y-1/2 p-4 text-white hover:text-gray-300 transition-colors z-50 hidden md:block",children:P.jsx(q2,{className:"text-3xl"})})]})})]})};return P.jsxs("section",{id:"projects",className:"py-24 bg-gray-50 dark:bg-black relative overflow-hidden scroll-mt-20 transition-colors duration-300",children:[P.jsxs("div",{className:"absolute inset-0 opacity-30 dark:opacity-20 pointer-events-none",children:[P.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-100 dark:bg-blue-900/30 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl animate-blob"}),P.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-purple-100 dark:bg-purple-900/30 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl animate-blob animation-delay-2000"})]}),P.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[P.jsxs(Et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[P.jsx("h2",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400 tracking-wide uppercase mb-2",children:"Selected Work"}),P.jsx("h3",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Recent Projects"})]}),P.jsx("div",{className:"grid grid-cols-3 gap-3 md:gap-8",children:pB.map((i,s)=>P.jsxs(Et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},viewport:{once:!0},whileHover:{y:-8},onClick:()=>t(i),className:"group bg-white dark:bg-gray-900 rounded-lg md:rounded-2xl p-2 md:p-6 shadow-sm hover:shadow-2xl border border-gray-100 dark:border-gray-800 cursor-pointer transition-all duration-300 relative overflow-hidden flex flex-col h-full",children:[P.jsxs("div",{className:"relative h-24 md:h-48 mb-3 md:mb-6 overflow-hidden rounded-lg md:rounded-xl bg-gray-100 dark:bg-gray-800",children:[P.jsx(Et.img,{src:i.images[0],alt:i.title,className:"w-full h-full object-cover",whileHover:{scale:1.05},transition:{duration:.4}}),P.jsx("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-black/80 backdrop-blur-sm p-2 rounded-full shadow-sm",children:P.jsx(i.icon,{className:"text-blue-600 dark:text-blue-400 text-lg"})})]}),P.jsxs("div",{className:"flex flex-col flex-grow",children:[P.jsxs("div",{className:"mb-4",children:[P.jsx("span",{className:"text-[8px] font-bold text-blue-600 dark:text-blue-400 mb-1 block uppercase tracking-wider",children:i.category}),P.jsx("h4",{className:"text-[10px] md:text-xl font-bold text-gray-900 dark:text-white mb-0.5 md:mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-1",children:i.title}),P.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-tight text-[8px] md:text-sm line-clamp-2 md:line-clamp-3",children:i.description})]}),P.jsxs("div",{className:"flex flex-wrap gap-2 mt-auto pt-4 border-t border-gray-100 dark:border-gray-800",children:[i.techStack.slice(0,3).map(r=>P.jsx("span",{className:"px-2.5 py-1 bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 text-xs rounded-md font-medium border border-gray-200 dark:border-gray-700",children:r},r)),i.techStack.length>3&&P.jsxs("span",{className:"px-2.5 py-1 text-gray-400 text-xs",children:["+ ",i.techStack.length-3]})]})]})]},i.id))})]}),P.jsx(_a,{children:n&&P.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6 bg-black/60 backdrop-blur-md",onClick:()=>t(null),children:P.jsxs(Et.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:i=>i.stopPropagation(),className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-y-auto relative transition-colors duration-300 flex flex-col md:flex-row",children:[P.jsx("button",{onClick:()=>t(null),className:"absolute top-4 right-4 p-2 rounded-full bg-gray-100/50 dark:bg-gray-800/50 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white transition-colors z-20 backdrop-blur-sm",children:P.jsx(uy,{})}),P.jsx("div",{className:"w-full md:w-3/5 p-6 md:p-8 bg-gray-50 dark:bg-black/20",children:P.jsx(e,{project:n})}),P.jsxs("div",{className:"w-full md:w-2/5 p-6 md:p-8 flex flex-col h-full",children:[P.jsxs("div",{className:"mb-2",children:[P.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[P.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:P.jsx(n.icon,{className:"text-xl"})}),P.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 tracking-wider uppercase",children:n.category})]}),P.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:n.title})]}),P.jsxs("div",{className:"py-6 flex-grow",children:[P.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-base text-justify",children:n.fullDescription}),P.jsxs("div",{className:"mt-8",children:[P.jsx("h4",{className:"text-xs font-bold text-gray-900 dark:text-white uppercase tracking-wider mb-4",children:"Technologies Used"}),P.jsx("div",{className:"flex flex-wrap gap-2",children:n.techStack.map(i=>P.jsx("span",{className:"px-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm",children:i},i))})]})]}),P.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-800 space-y-3",children:[n.links.github!=="#"&&P.jsxs("a",{href:n.links.github,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-black dark:bg-white text-white dark:text-black py-3.5 px-6 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-gray-800 dark:hover:bg-gray-200 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:scale-95",children:[P.jsx(J_,{className:"text-xl"})," View Source Code"]}),n.pdf&&P.jsxs("a",{href:n.pdf,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 text-white py-3.5 px-6 rounded-xl font-semibold flex items-center justify-center gap-3 hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:scale-95",children:[P.jsx(Q2,{className:"text-lg"})," View PDF Document"]})]})]})]})})})]})}const An=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),O1=[.001,0,0,.001,0,0],gw=1.35,hi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ys={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Uf="pdfjs_internal_editor_",et={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ht={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},sR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},wf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Fc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},$m={ERRORS:0,WARNINGS:1,INFOS:5},nd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Ag={moveTo:0,lineTo:1,curveTo:2,closePath:3},rR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let pv=$m.WARNINGS;function gB(n){Number.isInteger(n)&&(pv=n)}function yB(){return pv}function mv(n){pv>=$m.INFOS&&console.info(`Info: ${n}`)}function nt(n){pv>=$m.WARNINGS&&console.warn(`Warning: ${n}`)}function Ot(n){throw new Error(n)}function ft(n,t){n||Ot(t)}function vB(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function zA(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=SB(n)}catch{}}const i=t?URL.parse(n,t):URL.parse(n);return vB(i)?i:null}function UA(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&zA(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function rt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Rc=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class nC extends Rc{constructor(t,e){super(t,"PasswordException"),this.code=e}}class yw extends Rc{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class hy extends Rc{constructor(t){super(t,"InvalidPDFException")}}class Hf extends Rc{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class wB extends Rc{constructor(t){super(t,"FormatError")}}class ao extends Rc{constructor(t){super(t,"AbortException")}}function oR(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ot("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),o=n.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Wm(n){typeof n!="string"&&Ot("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function xB(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function bB(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function AB(){try{return new Function(""),!0}catch{return!1}}class He{static get isLittleEndian(){return rt(this,"isLittleEndian",bB())}static get isEvalSupported(){return rt(this,"isEvalSupported",AB())}static get isOffscreenCanvasSupported(){return rt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return rt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return rt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return rt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const vw=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var to,Zg,B1;class W{static makeHexColor(t,e,i){return`#${vw[t]}${vw[e]}${vw[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const s=t[i],r=t[i+1];t[i]=s*e[0]+r*e[2]+e[4],t[i+1]=s*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const s=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5];for(let h=0;h<6;h+=2){const d=t[i+h],f=t[i+h+1];t[i+h]=d*s+f*o+c,t[i+h+1]=d*r+f*a+u}}static applyInverseTransform(t,e){const i=t[0],s=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const s=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=t[0],d=t[1],f=t[2],p=t[3];let y=s*h+c,v=y,A=s*f+c,m=A,w=a*d+u,x=w,E=a*p+u,C=E;if(r!==0||o!==0){const T=r*h,_=r*f,R=o*d,M=o*p;y+=R,m+=R,A+=M,v+=M,w+=T,C+=T,E+=_,x+=_}i[0]=Math.min(i[0],y,A,v,m),i[1]=Math.min(i[1],w,E,x,C),i[2]=Math.max(i[2],y,A,v,m),i[3]=Math.max(i[3],w,E,x,C)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],s=t[1],r=t[2],o=t[3],a=i**2+s**2,c=i*r+s*o,u=r**2+o**2,h=(a+u)/2,d=Math.sqrt(h**2-(a*u-c**2));e[0]=Math.sqrt(h+d||1),e[1]=Math.sqrt(h-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[i,r,s,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,s,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,s),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,s)}static bezierBoundingBox(t,e,i,s,r,o,a,c,u){u[0]=Math.min(u[0],t,a),u[1]=Math.min(u[1],e,c),u[2]=Math.max(u[2],t,a),u[3]=Math.max(u[3],e,c),S(this,to,B1).call(this,t,i,r,a,e,s,o,c,3*(-t+3*(i-r)+a),6*(t-2*i+r),3*(i-t),u),S(this,to,B1).call(this,t,i,r,a,e,s,o,c,3*(-e+3*(s-o)+c),6*(e-2*s+o),3*(s-e),u)}}to=new WeakSet,Zg=function(t,e,i,s,r,o,a,c,u,h){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,y=d*(d*(d*t+3*u*e)+3*f*i)+p*s,v=d*(d*(d*r+3*u*o)+3*f*a)+p*c;h[0]=Math.min(h[0],y),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],y),h[3]=Math.max(h[3],v)},B1=function(t,e,i,s,r,o,a,c,u,h,d,f){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&S(this,to,Zg).call(this,t,e,i,s,r,o,a,c,-d/h,f);return}const p=h**2-4*d*u;if(p<0)return;const y=Math.sqrt(p),v=2*u;S(this,to,Zg).call(this,t,e,i,s,r,o,a,c,(-h+y)/v,f),S(this,to,Zg).call(this,t,e,i,s,r,o,a,c,(-h-y)/v,f)},b(W,to);function SB(n){return decodeURIComponent(escape(n))}let ww=null,iC=null;function aR(n){return ww||(ww=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,iC=new Map([["","t"]])),n.replaceAll(ww,(t,e,i)=>e?e.normalize("NFKC"):iC.get(i))}function HA(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),oR(n)}const $A="pdfjs_internal_id_";function EB(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,s,...r]=e;if(!n(i)&&!Number.isInteger(i)||!t(s))return!1;const o=r.length;let a=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const c of r)if(!(typeof c=="number"||a&&c===null))return!1;return!0}function fn(n,t,e){return Math.min(Math.max(n,t),e)}function lR(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(oR(n))}function CB(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Wm(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class $f{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(r){var c;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if($f.shouldBuildText(a))(c=r==null?void 0:r.attributes)!=null&&c.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const u of r.children)s(u)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class WA{static setupStorage(t,e,i,s,r){const o=s.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",a=>{s.setValue(e,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",a=>{s.setValue(e,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",a=>{s.setValue(e,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const c=a.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(e,{value:u})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:r}){const{attributes:o}=e,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&t.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",u);break;case"style":Object.assign(t.style,u);break;case"textContent":t.textContent=u;break;default:(!a||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,u)}a&&r.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var d,f;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,r=t.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:r,linkService:i});const a=r!=="richText",c=t.div;if(c.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=p}a&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),a&&$f.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const h=[[s,-1,o]];for(;h.length>0;){const[p,y,v]=h.at(-1);if(y+1===p.children.length){h.pop();continue}const A=p.children[++h.at(-1)[1]];if(A===null)continue;const{name:m}=A;if(m==="#text"){const x=document.createTextNode(A.value);u.push(x),v.append(x);continue}const w=(d=A==null?void 0:A.attributes)!=null&&d.xmlns?document.createElementNS(A.attributes.xmlns,m):document.createElement(m);if(v.append(w),A.attributes&&this.setAttributes({html:w,element:A,storage:e,intent:r,linkService:i}),((f=A.children)==null?void 0:f.length)>0)h.push([A,-1,w]);else if(A.value){const x=document.createTextNode(A.value);a&&$f.shouldBuildText(m)&&u.push(x),w.append(x)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const ar="http://www.w3.org/2000/svg",Qa=class Qa{};I(Qa,"CSS",96),I(Qa,"PDF",72),I(Qa,"PDF_TO_CSS_UNITS",Qa.CSS/Qa.PDF);let lo=Qa;async function dd(n,t="text"){if(Od(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class Gm{constructor({viewBox:t,userUnit:e,scale:i,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=o,i*=e;const c=(t[2]+t[0])/2,u=(t[3]+t[1])/2;let h,d,f,p;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,d=0,f=0,p=1;break;case 90:h=0,d=1,f=1,p=0;break;case 270:h=0,d=-1,f=-1,p=0;break;case 0:h=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let y,v,A,m;h===0?(y=Math.abs(u-t[1])*i+r,v=Math.abs(c-t[0])*i+o,A=(t[3]-t[1])*i,m=(t[2]-t[0])*i):(y=Math.abs(c-t[0])*i+r,v=Math.abs(u-t[1])*i+o,A=(t[2]-t[0])*i,m=(t[3]-t[1])*i),this.transform=[h*i,d*i,f*i,p*i,y-h*i*c-f*i*u,v-d*i*c-p*i*u],this.width=A,this.height=m}get rawDims(){const t=this.viewBox;return rt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new Gm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return W.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];W.applyTransform(e,this.transform);const i=[t[2],t[3]];return W.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return W.applyInverseTransform(i,this.transform),i}}class gv extends Rc{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Xm(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function yv(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function cR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function uR(n,t="document.pdf"){if(typeof n!="string")return t;if(Xm(n))return nt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const s=a=>{try{let c=decodeURIComponent(a);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:a):c}catch{return a}},r=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(r.test(o))return s(o);if(i.searchParams.size>0){const a=Array.from(i.searchParams.values()).reverse();for(const u of a)if(r.test(u))return s(u);const c=Array.from(i.searchParams.keys()).reverse();for(const u of c)if(r.test(u))return s(u)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return s(c[0])}return t}class sC{constructor(){I(this,"started",Object.create(null));I(this,"times",[])}time(t){t in this.started&&nt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||nt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-s}ms
`);return t.join("")}}function Od(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function bi(n){n.preventDefault()}function Jt(n){n.preventDefault(),n.stopPropagation()}function TB(n){console.log("Deprecated API usage: "+n)}var qf;class Wf{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;l(this,qf)||g(this,qf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=l(this,qf).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const u=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(o+=h,a+=d):u==="+"&&(o-=h,a-=d),new Date(Date.UTC(i,s,r,o,a,c))}}qf=new WeakMap,b(Wf,qf);function hR(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new Gm({viewBox:r,userUnit:1,scale:t,rotation:e})}function fd(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(nt(`Not a valid color format: "${n}"`),[0,0,0])}function kB(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,fd(i))}t.remove()}function Qt(n){const{a:t,b:e,c:i,d:s,e:r,f:o}=n.getTransform();return[t,e,i,s,r,o]}function bs(n){const{a:t,b:e,c:i,d:s,e:r,f:o}=n.getTransform().invertSelf();return[t,e,i,s,r,o]}function Da(n,t,e=!1,i=!0){if(t instanceof Gm){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:o}=n,a=He.isCSSRoundSupported,c=`var(--total-scale-factor) * ${s}px`,u=`var(--total-scale-factor) * ${r}px`,h=a?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,d=a?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!e||t.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}i&&n.setAttribute("data-main-rotation",t.rotation)}class ys{constructor(){const{pixelRatio:t}=ys;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,s,r=-1){let o=1/0,a=1/0,c=1/0;i=ys.capPixels(i,r),i>0&&(o=Math.sqrt(i/(t*e))),s!==-1&&(a=s/t,c=s/e);const u=Math.min(o,a,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const dy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class PB{static get isDarkMode(){var t;return rt(this,"isDarkMode",!!((t=window==null?void 0:window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches))}}class dR{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),rt(this,"commentForegroundColor",fd(i))}}function fR(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const s=255*(1-i);return n=Math.round(n*i+s),t=Math.round(t*i+s),e=Math.round(e*i+s),[n,t,e]}function rC(n,t){const e=n[0]/255,i=n[1]/255,s=n[2]/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2;if(r===o)t[0]=t[1]=0;else{const c=r-o;switch(t[1]=a<.5?c/(r+o):c/(2-r-o),r){case e:t[0]=((i-s)/c+(i<s?6:0))*60;break;case i:t[0]=((s-e)/c+2)*60;break;case s:t[0]=((e-i)/c+4)*60;break}}t[2]=a}function j1(n,t){const e=n[0],i=n[1],s=n[2],r=(1-Math.abs(2*s-1))*i,o=r*(1-Math.abs(e/60%2-1)),a=s-r/2;switch(Math.floor(e/60)){case 0:t[0]=r+a,t[1]=o+a,t[2]=a;break;case 1:t[0]=o+a,t[1]=r+a,t[2]=a;break;case 2:t[0]=a,t[1]=r+a,t[2]=o+a;break;case 3:t[0]=a,t[1]=o+a,t[2]=r+a;break;case 4:t[0]=o+a,t[1]=a,t[2]=r+a;break;case 5:case 6:t[0]=r+a,t[1]=a,t[2]=o+a;break}}function oC(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function aC(n,t,e){j1(n,e),e.map(oC);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];j1(t,e),e.map(oC);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>s?(i+.05)/(s+.05):(s+.05)/(i+.05)}const lC=new Map;function pR(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=lC.get(e);if(i)return i;const s=new Float32Array(9),r=s.subarray(0,3),o=s.subarray(3,6);rC(n,o);const a=s.subarray(6,9);rC(t,a);const c=a[2]<.5,u=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),aC(o,a,r)<u){let h,d;c?(h=o[2],d=1):(h=0,d=o[2]);const f=.005;for(;d-h>f;){const p=o[2]=(h+d)/2;c===aC(o,a,r)<u?h=p:d=p}o[2]=c?d:h}return j1(o,r),i=W.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),lC.set(e,i),i}function GA({html:n,dir:t,className:e},i){const s=document.createDocumentFragment();if(typeof n=="string"){const r=document.createElement("p");r.dir=t||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let a=0,c=o.length;a<c;++a){const u=o[a];r.append(document.createTextNode(u)),a<c-1&&r.append(document.createElement("br"))}s.append(r)}else WA.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",e),i.append(s)}var Eo,Co,Pi,_i,Qf,To,bu,Au,Zf,Sy,mR,Je,gR,yR,Oc,Bd;const hr=class hr{constructor(t){b(this,Je);b(this,Eo,null);b(this,Co,null);b(this,Pi);b(this,_i,null);b(this,Qf,null);b(this,To,null);b(this,bu,null);b(this,Au,null);g(this,Pi,t),l(hr,Zf)||g(hr,Zf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=g(this,Eo,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=l(this,Pi)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",bi,{signal:e}),t.addEventListener("pointerdown",S(hr,Sy,mR),{signal:e}));const i=g(this,_i,document.createElement("div"));i.className="buttons",t.append(i);const s=l(this,Pi).toolbarPosition;if(s){const{style:r}=t,o=l(this,Pi)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return l(this,Eo)}hide(){var t;l(this,Eo).classList.add("hidden"),(t=l(this,Co))==null||t.hideDropdown()}show(){var t,e;l(this,Eo).classList.remove("hidden"),(t=l(this,Qf))==null||t.shown(),(e=l(this,To))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=l(this,Pi),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",l(hr,Zf)[t]),S(this,Je,Oc).call(this,i)&&i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),l(this,_i).append(i)}async addAltText(t){const e=await t.render();S(this,Je,Oc).call(this,e),l(this,_i).append(e,l(this,Je,Bd)),g(this,Qf,t)}addComment(t,e=null){if(l(this,To))return;const i=t.renderForToolbar();if(!i)return;S(this,Je,Oc).call(this,i);const s=g(this,bu,l(this,Je,Bd));e?(l(this,_i).insertBefore(i,e),l(this,_i).insertBefore(s,e)):l(this,_i).append(i,s),g(this,To,t),t.toolbar=this}addColorPicker(t){if(l(this,Co))return;g(this,Co,t);const e=t.renderButton();S(this,Je,Oc).call(this,e),l(this,_i).append(e,l(this,Je,Bd))}async addEditSignatureButton(t){const e=g(this,Au,await t.renderEditButton(l(this,Pi)));S(this,Je,Oc).call(this,e),l(this,_i).append(e,l(this,Je,Bd))}removeButton(t){var e,i;switch(t){case"comment":(e=l(this,To))==null||e.removeToolbarCommentButton(),g(this,To,null),(i=l(this,bu))==null||i.remove(),g(this,bu,null);break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const s=l(this,_i).querySelector(i);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){l(this,Au)&&(l(this,Au).title=t)}remove(){var t;l(this,Eo).remove(),(t=l(this,Co))==null||t.destroy(),g(this,Co,null)}};Eo=new WeakMap,Co=new WeakMap,Pi=new WeakMap,_i=new WeakMap,Qf=new WeakMap,To=new WeakMap,bu=new WeakMap,Au=new WeakMap,Zf=new WeakMap,Sy=new WeakSet,mR=function(t){t.stopPropagation()},Je=new WeakSet,gR=function(t){l(this,Pi)._focusEventsAllowed=!1,Jt(t)},yR=function(t){l(this,Pi)._focusEventsAllowed=!0,Jt(t)},Oc=function(t){const e=l(this,Pi)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",S(this,Je,gR).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",S(this,Je,yR).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",bi,{signal:e}),!0)},Bd=function(){const t=document.createElement("div");return t.className="divider",t},b(hr,Sy),b(hr,Zf,null);let V1=hr;var Jf,sl,pr,co,vR,wR,z1;class _B{constructor(t){b(this,co);b(this,Jf,null);b(this,sl,null);b(this,pr);g(this,pr,t)}show(t,e,i){const[s,r]=S(this,co,wR).call(this,e,i),{style:o}=l(this,sl)||g(this,sl,S(this,co,vR).call(this));t.append(l(this,sl)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,sl).remove()}}Jf=new WeakMap,sl=new WeakMap,pr=new WeakMap,co=new WeakSet,vR=function(){const t=g(this,sl,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=l(this,pr)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",bi,{signal:e});const i=g(this,Jf,document.createElement("div"));return i.className="buttons",t.append(i),l(this,pr).hasCommentManager()&&S(this,co,z1).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,pr).commentSelection("floating_button")}),S(this,co,z1).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,pr).highlightSelection("floating_button")}),t},wR=function(t,e){let i=0,s=0;for(const r of t){const o=r.y+r.height;if(o<i)continue;const a=r.x+(e?r.width:0);if(o>i){s=a,i=o;continue}e?a>s&&(s=a):a<s&&(s=a)}return[e?1-s:s,i]},z1=function(t,e,i,s){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const o=document.createElement("span");r.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const a=l(this,pr)._signal;a instanceof AbortSignal&&!a.aborted&&(r.addEventListener("contextmenu",bi,{signal:a}),r.addEventListener("click",s,{signal:a})),l(this,Jf).append(r)};function xR(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}var Ey;class RB{constructor(){b(this,Ey,0)}get id(){return`${Uf}${Ee(this,Ey)._++}`}}Ey=new WeakMap;var Su,tp,on,Eu,Jg;const iS=class iS{constructor(){b(this,Eu);b(this,Su,HA());b(this,tp,0);b(this,on,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return rt(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:r}=t;return S(this,Eu,Jg).call(this,`${e}_${i}_${s}_${r}`,t)}async getFromUrl(t){return S(this,Eu,Jg).call(this,t,t)}async getFromBlob(t,e){const i=await e;return S(this,Eu,Jg).call(this,t,i)}async getFromId(t){l(this,on)||g(this,on,new Map);const e=l(this,on).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){l(this,on)||g(this,on,new Map);let i=l(this,on).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${l(this,Su)}_${Ee(this,tp)._++}`,refCounter:1,isSvg:!1},l(this,on).set(t,i),l(this,on).set(i.id,i),i}getSvgUrl(t){const e=l(this,on).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;l(this,on)||g(this,on,new Map);const e=l(this,on).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${l(this,Su)}_`)}};Su=new WeakMap,tp=new WeakMap,on=new WeakMap,Eu=new WeakSet,Jg=async function(t,e){l(this,on)||g(this,on,new Map);let i=l(this,on).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,Su)}_${Ee(this,tp)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await dd(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const r=iS._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((u,h)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,u()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(s),await c}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){nt(s),i=null}return l(this,on).set(t,i),i&&l(this,on).set(i.id,i),i};let U1=iS;var pe,ko,ep,qt;class LB{constructor(t=128){b(this,pe,[]);b(this,ko,!1);b(this,ep);b(this,qt,-1);g(this,ep,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(s&&t(),l(this,ko))return;const c={cmd:t,undo:e,post:i,type:r};if(l(this,qt)===-1){l(this,pe).length>0&&(l(this,pe).length=0),g(this,qt,0),l(this,pe).push(c);return}if(o&&l(this,pe)[l(this,qt)].type===r){a&&(c.undo=l(this,pe)[l(this,qt)].undo),l(this,pe)[l(this,qt)]=c;return}const u=l(this,qt)+1;u===l(this,ep)?l(this,pe).splice(0,1):(g(this,qt,u),u<l(this,pe).length&&l(this,pe).splice(u)),l(this,pe).push(c)}undo(){if(l(this,qt)===-1)return;g(this,ko,!0);const{undo:t,post:e}=l(this,pe)[l(this,qt)];t(),e==null||e(),g(this,ko,!1),g(this,qt,l(this,qt)-1)}redo(){if(l(this,qt)<l(this,pe).length-1){g(this,qt,l(this,qt)+1),g(this,ko,!0);const{cmd:t,post:e}=l(this,pe)[l(this,qt)];t(),e==null||e(),g(this,ko,!1)}}hasSomethingToUndo(){return l(this,qt)!==-1}hasSomethingToRedo(){return l(this,qt)<l(this,pe).length-1}cleanType(t){if(l(this,qt)!==-1){for(let e=l(this,qt);e>=0;e--)if(l(this,pe)[e].type!==t){l(this,pe).splice(e+1,l(this,qt)-e),g(this,qt,e);return}l(this,pe).length=0,g(this,qt,-1)}}destroy(){g(this,pe,null)}}pe=new WeakMap,ko=new WeakMap,ep=new WeakMap,qt=new WeakMap;var Cy,bR;class Km{constructor(t){b(this,Cy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=He.platform;for(const[i,s,r={}]of t)for(const o of i){const a=o.startsWith("mac+");e&&a?(this.callbacks.set(o.slice(4),{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!a&&(this.callbacks.set(o,{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(S(this,Cy,bR).call(this,e));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:o=[],checker:a=null}}=i;a&&!a(t,e)||(s.bind(t,...o,e)(),r||Jt(e))}}Cy=new WeakSet,bR=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Ty=class Ty{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return kB(t),rt(this,"_colors",t)}convert(t){const e=fd(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((r,o)=>r===e[o]))return Ty._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?W.makeHexColor(...e):t}};I(Ty,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let H1=Ty;var Cu,Kn,Tu,re,Te,ku,Ri,Pu,Li,an,Po,_o,_u,Ro,Cs,Mi,rl,np,ip,Ru,sp,Ts,Lo,Lu,Mo,ks,ky,Do,Mu,rp,No,ol,Du,Io,op,we,At,mr,Fo,Oo,ap,Nu,lp,Bo,Ps,gr,cp,up,Di,j,t0,$1,AR,SR,jd,ER,CR,TR,W1,kR,G1,X1,PR,yn,lr,_R,RR,K1,LR,Vd,Y1;const lu=class lu{constructor(t,e,i,s,r,o,a,c,u,h,d,f,p,y,v,A){b(this,j);b(this,Cu,new AbortController);b(this,Kn,null);b(this,Tu,null);b(this,re,new Map);b(this,Te,new Map);b(this,ku,null);b(this,Ri,null);b(this,Pu,null);b(this,Li,new LB);b(this,an,null);b(this,Po,null);b(this,_o,null);b(this,_u,0);b(this,Ro,new Set);b(this,Cs,null);b(this,Mi,null);b(this,rl,new Set);I(this,"_editorUndoBar",null);b(this,np,!1);b(this,ip,!1);b(this,Ru,!1);b(this,sp,null);b(this,Ts,null);b(this,Lo,null);b(this,Lu,null);b(this,Mo,!1);b(this,ks,null);b(this,ky,new RB);b(this,Do,!1);b(this,Mu,!1);b(this,rp,!1);b(this,No,null);b(this,ol,null);b(this,Du,null);b(this,Io,null);b(this,op,null);b(this,we,et.NONE);b(this,At,new Set);b(this,mr,null);b(this,Fo,null);b(this,Oo,null);b(this,ap,null);b(this,Nu,null);b(this,lp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});b(this,Bo,[0,0]);b(this,Ps,null);b(this,gr,null);b(this,cp,null);b(this,up,null);b(this,Di,null);const m=this._signal=l(this,Cu).signal;g(this,gr,t),g(this,cp,e),g(this,up,i),g(this,ku,s),g(this,an,r),g(this,Fo,o),g(this,Nu,c),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:m}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),a._on("setpreference",this.onSetPreference.bind(this),{signal:m}),a._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:m}),window.addEventListener("pointerdown",()=>{g(this,Mu,!0)},{capture:!0,signal:m}),window.addEventListener("pointerup",()=>{g(this,Mu,!1)},{capture:!0,signal:m}),S(this,j,ER).call(this),S(this,j,PR).call(this),S(this,j,W1).call(this),g(this,Ri,c.annotationStorage),g(this,sp,c.filterFactory),g(this,Oo,u),g(this,Lu,h||null),g(this,np,d),g(this,ip,f),g(this,Ru,p),g(this,op,y||null),this.viewParameters={realScale:lo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=A!==!1,r==null||r.setSidebarUiManager(this)}static get _keyboardManager(){const t=lu.prototype,e=o=>l(o,gr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return rt(this,"_keyboardManager",new Km([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,gr).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,gr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,s,r,o,a,c,u;(t=l(this,Di))==null||t.resolve(),g(this,Di,null),(e=l(this,Cu))==null||e.abort(),g(this,Cu,null),this._signal=null;for(const h of l(this,Te).values())h.destroy();l(this,Te).clear(),l(this,re).clear(),l(this,rl).clear(),(i=l(this,Io))==null||i.clear(),g(this,Kn,null),l(this,At).clear(),l(this,Li).destroy(),(s=l(this,ku))==null||s.destroy(),(r=l(this,an))==null||r.destroy(),(o=l(this,Fo))==null||o.destroy(),(a=l(this,ks))==null||a.hide(),g(this,ks,null),(c=l(this,Du))==null||c.destroy(),g(this,Du,null),g(this,Tu,null),l(this,Ts)&&(clearTimeout(l(this,Ts)),g(this,Ts,null)),l(this,Ps)&&(clearTimeout(l(this,Ps)),g(this,Ps,null)),(u=this._editorUndoBar)==null||u.destroy(),g(this,Nu,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return l(this,op)}get useNewAltTextFlow(){return l(this,ip)}get useNewAltTextWhenAddingImage(){return l(this,Ru)}get hcmFilter(){return rt(this,"hcmFilter",l(this,Oo)?l(this,sp).addHCMFilter(l(this,Oo).foreground,l(this,Oo).background):"none")}get direction(){return rt(this,"direction",getComputedStyle(l(this,gr)).direction)}get _highlightColors(){return rt(this,"_highlightColors",l(this,Lu)?new Map(l(this,Lu).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return rt(this,"highlightColors",null);const e=new Map,i=!!l(this,Oo);for(const[s,r]of t){const o=s.endsWith("_HCM");if(i&&o){e.set(s.replace("_HCM",""),r);continue}!i&&!o&&e.set(s,r)}return rt(this,"highlightColors",e)}get highlightColorNames(){return rt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),g(this,_o,t)}setMainHighlightColorPicker(t){g(this,Du,t)}editAltText(t,e=!1){var i;(i=l(this,ku))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!l(this,an)}editComment(t,e,i,s){var r;(r=l(this,an))==null||r.showDialog(this,t,e,i,s)}selectComment(t,e){const i=l(this,Te).get(t),s=i==null?void 0:i.getEditorByUID(e);s==null||s.toggleComment(!0,!0)}updateComment(t){var e;(e=l(this,an))==null||e.updateComment(t.getData())}updatePopupColor(t){var e;(e=l(this,an))==null||e.updatePopupColor(t)}removeComment(t){var e;(e=l(this,an))==null||e.removeComments([t.uid])}toggleComment(t,e,i=void 0){var s;(s=l(this,an))==null||s.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var i;return t&&((i=l(this,an))==null?void 0:i.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return((t=l(this,an))==null?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(l(this,Te).has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),s=r=>{r.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await i}getSignature(t){var e;(e=l(this,Fo))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return l(this,Fo)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":g(this,Ru,e);break}}onPageChanging({pageNumber:t}){g(this,_u,t-1)}focusMainContainer(){l(this,gr).focus()}findParent(t,e){for(const i of l(this,Te).values()){const{x:s,y:r,width:o,height:a}=i.div.getBoundingClientRect();if(t>=s&&t<=s+o&&e>=r&&e<=r+a)return i}return null}disableUserSelect(t=!1){l(this,cp).classList.toggle("noUserSelect",t)}addShouldRescale(t){l(this,rl).add(t)}removeShouldRescale(t){l(this,rl).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*lo.PDF_TO_CSS_UNITS;for(const i of l(this,rl))i.onScaleChanging();(e=l(this,_o))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:a}=i,c=i.toString(),h=S(this,j,t0).call(this,i).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;i.empty();const f=S(this,j,$1).call(this,h),p=l(this,we)===et.NONE,y=()=>{const v=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:a,text:c});p&&this.showAllEditors("highlight",!0,!0),e&&(v==null||v.editComment())};if(p){this.switchToMode(et.HIGHLIGHT,y);return}y()}commentSelection(t=""){this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!l(this,Ri))return null;const e=`${Uf}${t}`,i=l(this,Ri).getRawValue(e);return i&&l(this,Ri).remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&l(this,Ri)&&!l(this,Ri).has(t.id)&&l(this,Ri).setValue(t.id,t)}a11yAlert(t,e=null){const i=l(this,up);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,Mo)&&(g(this,Mo,!1),S(this,j,jd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of l(this,At))if(e.div.contains(t)){g(this,ol,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!l(this,ol))return;const[t,e]=l(this,ol);g(this,ol,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){S(this,j,W1).call(this),S(this,j,G1).call(this)}removeEditListeners(){S(this,j,kR).call(this),S(this,j,X1).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of l(this,Mi))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of l(this,Mi))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=l(this,Kn))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of l(this,At)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of l(this,Mi))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){nt(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const c of i){const u=await s.deserialize(c);if(!u)return;r.push(u)}const o=()=>{for(const c of r)S(this,j,K1).call(this,c);S(this,j,Y1).call(this,r)},a=()=>{for(const c of r)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){nt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,we)!==et.NONE&&!this.isEditorHandlingKeyboard&&lu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,Mo)&&(g(this,Mo,!1),S(this,j,jd).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(S(this,j,CR).call(this),S(this,j,G1).call(this),S(this,j,yn).call(this,{isEditing:l(this,we)!==et.NONE,isEmpty:S(this,j,Vd).call(this),hasSomethingToUndo:l(this,Li).hasSomethingToUndo(),hasSomethingToRedo:l(this,Li).hasSomethingToRedo(),hasSelectedEditor:!1})):(S(this,j,TR).call(this),S(this,j,X1).call(this),S(this,j,yn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!l(this,Mi)){g(this,Mi,t);for(const e of l(this,Mi))S(this,j,lr).call(this,e.defaultPropertiesToUpdate)}}getId(){return l(this,ky).id}get currentLayer(){return l(this,Te).get(l(this,_u))}getLayer(t){return l(this,Te).get(t)}get currentPageIndex(){return l(this,_u)}addLayer(t){l(this,Te).set(t.pageIndex,t),l(this,Do)?t.enable():t.disable()}removeLayer(t){l(this,Te).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,s=!1,r=!1){var o,a,c,u,h,d;if(l(this,we)!==t&&!(l(this,Di)&&(await l(this,Di).promise,!l(this,Di)))){if(g(this,Di,Promise.withResolvers()),(o=l(this,_o))==null||o.commitOrRemove(),l(this,we)===et.POPUP&&((a=l(this,an))==null||a.hideSidebar()),(c=l(this,an))==null||c.destroyPopup(),g(this,we,t),t===et.NONE){this.setEditingState(!1),S(this,j,RR).call(this);for(const f of l(this,re).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),l(this,Di).resolve();return}for(const f of l(this,re).values())f.addStandaloneCommentButton();t===et.SIGNATURE&&await((h=l(this,Fo))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await S(this,j,_R).call(this),this.unselectAll();for(const f of l(this,Te).values())f.updateMode(t);if(t===et.POPUP){l(this,Tu)||g(this,Tu,await l(this,Nu).getAnnotationsByType(new Set(l(this,Mi).map(y=>y._editorType))));const f=new Set,p=[];for(const y of l(this,re).values()){const{annotationElementId:v,hasComment:A,deleted:m}=y;v&&f.add(v),A&&!m&&p.push(y.getData())}for(const y of l(this,Tu)){const{id:v,popupRef:A,contentsObj:m}=y;A&&(m!=null&&m.str)&&!f.has(v)&&!l(this,Ro).has(v)&&p.push(y)}(d=l(this,an))==null||d.showSidebar(p)}if(!e){i&&this.addNewEditorFromKeyboard(),l(this,Di).resolve();return}for(const f of l(this,re).values())f.uid===e?(this.setSelected(f),r?f.editComment():s?f.enterInEditMode():f.focus()):f.unselect();l(this,Di).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==l(this,we)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(l(this,Mi)){switch(t){case ht.CREATE:this.currentLayer.addNewEditor(e);return;case ht.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,ap)||g(this,ap,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of l(this,At))i.updateParams(t,e);else for(const i of l(this,Mi))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const o of l(this,re).values())o.editorType===t&&o.show(e);(((r=l(this,ap))==null?void 0:r.get(ht.HIGHLIGHT_SHOW_ALL))??!0)!==e&&S(this,j,lr).call(this,[[ht.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(l(this,rp)!==t){g(this,rp,t);for(const e of l(this,Te).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of l(this,re).values())e.pageIndex===t&&(yield e)}getEditor(t){return l(this,re).get(t)}addEditor(t){l(this,re).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(l(this,Ts)&&clearTimeout(l(this,Ts)),g(this,Ts,setTimeout(()=>{this.focusMainContainer(),g(this,Ts,null)},0))),l(this,re).delete(t.id),t.annotationElementId&&((e=l(this,Io))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!l(this,Ro).has(t.annotationElementId))&&((i=l(this,Ri))==null||i.remove(t.id))}addDeletedAnnotationElement(t){l(this,Ro).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return l(this,Ro).has(t)}removeDeletedAnnotationElement(t){l(this,Ro).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){l(this,Kn)!==t&&(g(this,Kn,t),t&&S(this,j,lr).call(this,t.propertiesToUpdate))}updateUI(t){l(this,j,LR)===t&&S(this,j,lr).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){S(this,j,lr).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(l(this,At).has(t)){l(this,At).delete(t),t.unselect(),S(this,j,yn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,At).add(t),t.select(),S(this,j,lr).call(this,t.propertiesToUpdate),S(this,j,yn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=l(this,_o))==null||e.commitOrRemove();for(const i of l(this,At))i!==t&&i.unselect();l(this,At).clear(),l(this,At).add(t),t.select(),S(this,j,lr).call(this,t.propertiesToUpdate),S(this,j,yn).call(this,{hasSelectedEditor:!0})}isSelected(t){return l(this,At).has(t)}get firstSelectedEditor(){return l(this,At).values().next().value}unselect(t){t.unselect(),l(this,At).delete(t),S(this,j,yn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,At).size!==0}get isEnterHandled(){return l(this,At).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;l(this,Li).undo(),S(this,j,yn).call(this,{hasSomethingToUndo:l(this,Li).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:S(this,j,Vd).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){l(this,Li).redo(),S(this,j,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Li).hasSomethingToRedo(),isEmpty:S(this,j,Vd).call(this)})}addCommands(t){l(this,Li).add(t),S(this,j,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:S(this,j,Vd).call(this)})}cleanUndoStack(t){l(this,Li).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...l(this,At)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},s=()=>{for(const o of e)S(this,j,K1).call(this,o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=l(this,Kn))==null||t.commitOrRemove()}hasSomethingToControl(){return l(this,Kn)||this.hasSelection}selectAll(){for(const t of l(this,At))t.commit();S(this,j,Y1).call(this,l(this,re).values())}unselectAll(){var t;if(!(l(this,Kn)&&(l(this,Kn).commitOrRemove(),l(this,we)!==et.NONE))&&!((t=l(this,_o))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of l(this,At))e.unselect();l(this,At).clear(),S(this,j,yn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;l(this,Bo)[0]+=t,l(this,Bo)[1]+=e;const[s,r]=l(this,Bo),o=[...l(this,At)],a=1e3;l(this,Ps)&&clearTimeout(l(this,Ps)),g(this,Ps,setTimeout(()=>{g(this,Ps,null),l(this,Bo)[0]=l(this,Bo)[1]=0,this.addCommands({cmd:()=>{for(const c of o)l(this,re).has(c.id)&&(c.translateInPage(s,r),c.translationDone())},undo:()=>{for(const c of o)l(this,re).has(c.id)&&(c.translateInPage(-s,-r),c.translationDone())},mustExec:!1})},a));for(const c of o)c.translateInPage(t,e),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),g(this,Cs,new Map);for(const t of l(this,At))l(this,Cs).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Cs))return!1;this.disableUserSelect(!1);const t=l(this,Cs);g(this,Cs,null);let e=!1;for(const[{x:s,y:r,pageIndex:o},a]of t)a.newX=s,a.newY=r,a.newPageIndex=o,e||(e=s!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!e)return!1;const i=(s,r,o,a)=>{if(l(this,re).has(s.id)){const c=l(this,Te).get(a);c?s._setParentAndPosition(c,r,o):(s.pageIndex=a,s.x=r,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:o,newPageIndex:a}]of t)i(s,r,o,a)},undo:()=>{for(const[s,{savedX:r,savedY:o,savedPageIndex:a}]of t)i(s,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(l(this,Cs))for(const i of l(this,Cs).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||l(this,At).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return l(this,Kn)===t}getActive(){return l(this,Kn)}getMode(){return l(this,we)}isEditingMode(){return l(this,we)!==et.NONE}get imageManager(){return rt(this,"imageManager",new U1)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let u=0,h=e.rangeCount;u<h;u++)if(!t.contains(e.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(u,h,d,f)=>({x:(h-s)/o,y:1-(u+d-i)/r,width:f/o,height:d/r});break;case"180":a=(u,h,d,f)=>({x:1-(u+d-i)/r,y:1-(h+f-s)/o,width:d/r,height:f/o});break;case"270":a=(u,h,d,f)=>({x:1-(h+f-s)/o,y:(u-i)/r,width:f/o,height:d/r});break;default:a=(u,h,d,f)=>({x:(u-i)/r,y:(h-s)/o,width:d/r,height:f/o});break}const c=[];for(let u=0,h=e.rangeCount;u<h;u++){const d=e.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:y,height:v}of d.getClientRects())y===0||v===0||c.push(a(f,p,y,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:e}){(l(this,Pu)||g(this,Pu,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=l(this,Pu))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=l(this,Pu))==null?void 0:s.get(t.data.id);if(!e)return;const i=l(this,Ri).getRawValue(e);i&&(l(this,we)===et.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const s=(r=l(this,Io))==null?void 0:r.get(t);s&&(s.setCanvas(e,i),l(this,Io).delete(t))}addMissingCanvas(t,e){(l(this,Io)||g(this,Io,new Map)).set(t,e)}};Cu=new WeakMap,Kn=new WeakMap,Tu=new WeakMap,re=new WeakMap,Te=new WeakMap,ku=new WeakMap,Ri=new WeakMap,Pu=new WeakMap,Li=new WeakMap,an=new WeakMap,Po=new WeakMap,_o=new WeakMap,_u=new WeakMap,Ro=new WeakMap,Cs=new WeakMap,Mi=new WeakMap,rl=new WeakMap,np=new WeakMap,ip=new WeakMap,Ru=new WeakMap,sp=new WeakMap,Ts=new WeakMap,Lo=new WeakMap,Lu=new WeakMap,Mo=new WeakMap,ks=new WeakMap,ky=new WeakMap,Do=new WeakMap,Mu=new WeakMap,rp=new WeakMap,No=new WeakMap,ol=new WeakMap,Du=new WeakMap,Io=new WeakMap,op=new WeakMap,we=new WeakMap,At=new WeakMap,mr=new WeakMap,Fo=new WeakMap,Oo=new WeakMap,ap=new WeakMap,Nu=new WeakMap,lp=new WeakMap,Bo=new WeakMap,Ps=new WeakMap,gr=new WeakMap,cp=new WeakMap,up=new WeakMap,Di=new WeakMap,j=new WeakSet,t0=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},$1=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of l(this,Te).values())if(i.hasTextLayer(t))return i;return null},AR=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=S(this,j,t0).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(l(this,ks)||g(this,ks,new _B(this)),l(this,ks).show(i,s,this.direction==="ltr"))},SR=function(){var r,o,a;const t=document.getSelection();if(!t||t.isCollapsed){l(this,mr)&&((r=l(this,ks))==null||r.hide(),g(this,mr,null),S(this,j,yn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===l(this,mr))return;const s=S(this,j,t0).call(this,t).closest(".textLayer");if(!s){l(this,mr)&&((o=l(this,ks))==null||o.hide(),g(this,mr,null),S(this,j,yn).call(this,{hasSelectedText:!1}));return}if((a=l(this,ks))==null||a.hide(),g(this,mr,e),S(this,j,yn).call(this,{hasSelectedText:!0}),!(l(this,we)!==et.HIGHLIGHT&&l(this,we)!==et.NONE)&&(l(this,we)===et.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),g(this,Mo,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,we)===et.HIGHLIGHT?S(this,j,$1).call(this,s):null;if(c==null||c.toggleDrawing(),l(this,Mu)){const u=new AbortController,h=this.combinedSignal(u),d=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&S(this,j,jd).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}else c==null||c.toggleDrawing(!0),S(this,j,jd).call(this,"main_toolbar")}},jd=function(t=""){l(this,we)===et.HIGHLIGHT?this.highlightSelection(t):l(this,np)&&S(this,j,AR).call(this)},ER=function(){document.addEventListener("selectionchange",S(this,j,SR).bind(this),{signal:this._signal})},CR=function(){if(l(this,Lo))return;g(this,Lo,new AbortController);const t=this.combinedSignal(l(this,Lo));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},TR=function(){var t;(t=l(this,Lo))==null||t.abort(),g(this,Lo,null)},W1=function(){if(l(this,No))return;g(this,No,new AbortController);const t=this.combinedSignal(l(this,No));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},kR=function(){var t;(t=l(this,No))==null||t.abort(),g(this,No,null)},G1=function(){if(l(this,Po))return;g(this,Po,new AbortController);const t=this.combinedSignal(l(this,Po));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},X1=function(){var t;(t=l(this,Po))==null||t.abort(),g(this,Po,null)},PR=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},yn=function(t){Object.entries(t).some(([i,s])=>l(this,lp)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,lp),t)}),l(this,we)===et.HIGHLIGHT&&t.hasSelectedEditor===!1&&S(this,j,lr).call(this,[[ht.HIGHLIGHT_FREE,!0]]))},lr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},_R=async function(){if(!l(this,Do)){g(this,Do,!0);const t=[];for(const e of l(this,Te).values())t.push(e.enable());await Promise.all(t);for(const e of l(this,re).values())e.enable()}},RR=function(){if(this.unselectAll(),l(this,Do)){g(this,Do,!1);for(const t of l(this,Te).values())t.disable();for(const t of l(this,re).values())t.disable()}},K1=function(t){const e=l(this,Te).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},LR=function(){let t=null;for(t of l(this,At));return t},Vd=function(){if(l(this,re).size===0)return!0;if(l(this,re).size===1)for(const t of l(this,re).values())return t.isEmpty();return!1},Y1=function(t){for(const e of l(this,At))e.unselect();l(this,At).clear();for(const e of t)e.isEmpty()||(l(this,At).add(e),e.select());S(this,j,yn).call(this,{hasSelectedEditor:this.hasSelection})},I(lu,"TRANSLATE_SMALL",1),I(lu,"TRANSLATE_BIG",10);let Na=lu;var De,_s,Zi,Iu,Rs,Yn,Fu,Ls,Mn,yr,al,Ms,jo,ds,zd,e0;const vn=class vn{constructor(t){b(this,ds);b(this,De,null);b(this,_s,!1);b(this,Zi,null);b(this,Iu,null);b(this,Rs,null);b(this,Yn,null);b(this,Fu,!1);b(this,Ls,null);b(this,Mn,null);b(this,yr,null);b(this,al,null);b(this,Ms,!1);g(this,Mn,t),g(this,Ms,t._uiManager.useNewAltTextFlow),l(vn,jo)||g(vn,jo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){vn._l10n??(vn._l10n=t)}async render(){const t=g(this,Zi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=g(this,Iu,document.createElement("span"));t.append(e),l(this,Ms)?(t.classList.add("new"),t.setAttribute("data-l10n-id",l(vn,jo).missing),e.setAttribute("data-l10n-id",l(vn,jo)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=l(this,Mn)._uiManager._signal;t.addEventListener("contextmenu",bi,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),l(this,Mn)._uiManager.editAltText(l(this,Mn)),l(this,Ms)&&l(this,Mn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,ds,zd)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(g(this,Fu,!0),s(r))},{signal:i}),await S(this,ds,e0).call(this),t}finish(){l(this,Zi)&&(l(this,Zi).focus({focusVisible:l(this,Fu)}),g(this,Fu,!1))}isEmpty(){return l(this,Ms)?l(this,De)===null:!l(this,De)&&!l(this,_s)}hasData(){return l(this,Ms)?l(this,De)!==null||!!l(this,yr):this.isEmpty()}get guessedText(){return l(this,yr)}async setGuessedText(t){l(this,De)===null&&(g(this,yr,t),g(this,al,await vn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),S(this,ds,e0).call(this))}toggleAltTextBadge(t=!1){var e;if(!l(this,Ms)||l(this,De)){(e=l(this,Ls))==null||e.remove(),g(this,Ls,null);return}if(!l(this,Ls)){const i=g(this,Ls,document.createElement("div"));i.className="noAltTextBadge",l(this,Mn).div.append(i)}l(this,Ls).classList.toggle("hidden",!t)}serialize(t){let e=l(this,De);return!t&&l(this,yr)===e&&(e=l(this,al)),{altText:e,decorative:l(this,_s),guessedText:l(this,yr),textWithDisclaimer:l(this,al)}}get data(){return{altText:l(this,De),decorative:l(this,_s)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(g(this,yr,i),g(this,al,s)),!(l(this,De)===t&&l(this,_s)===e)&&(r||(g(this,De,t),g(this,_s,e)),S(this,ds,e0).call(this))}toggle(t=!1){l(this,Zi)&&(!t&&l(this,Yn)&&(clearTimeout(l(this,Yn)),g(this,Yn,null)),l(this,Zi).disabled=!t)}shown(){l(this,Mn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,ds,zd)}})}destroy(){var t,e;(t=l(this,Zi))==null||t.remove(),g(this,Zi,null),g(this,Iu,null),g(this,Rs,null),(e=l(this,Ls))==null||e.remove(),g(this,Ls,null)}};De=new WeakMap,_s=new WeakMap,Zi=new WeakMap,Iu=new WeakMap,Rs=new WeakMap,Yn=new WeakMap,Fu=new WeakMap,Ls=new WeakMap,Mn=new WeakMap,yr=new WeakMap,al=new WeakMap,Ms=new WeakMap,jo=new WeakMap,ds=new WeakSet,zd=function(){return l(this,De)&&"added"||l(this,De)===null&&this.guessedText&&"review"||"missing"},e0=async function(){var s,r,o;const t=l(this,Zi);if(!t)return;if(l(this,Ms)){if(t.classList.toggle("done",!!l(this,De)),t.setAttribute("data-l10n-id",l(vn,jo)[l(this,ds,zd)]),(s=l(this,Iu))==null||s.setAttribute("data-l10n-id",l(vn,jo)[`${l(this,ds,zd)}-label`]),!l(this,De)){(r=l(this,Rs))==null||r.remove();return}}else{if(!l(this,De)&&!l(this,_s)){t.classList.remove("done"),(o=l(this,Rs))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=l(this,Rs);if(!e){g(this,Rs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${l(this,Mn).id}`;const a=100,c=l(this,Mn)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(l(this,Yn)),g(this,Yn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{g(this,Yn,setTimeout(()=>{g(this,Yn,null),l(this,Rs).classList.add("show"),l(this,Mn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),t.addEventListener("mouseleave",()=>{var u;l(this,Yn)&&(clearTimeout(l(this,Yn)),g(this,Yn,null)),(u=l(this,Rs))==null||u.classList.remove("show")},{signal:c})}l(this,_s)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=l(this,De)),e.parentNode||t.append(e);const i=l(this,Mn).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},b(vn,jo,null),I(vn,"_l10n",null);let fy=vn;var We,Ni,ll,Bt,hp,cl,Ji,ul,hl,dl,dp,q1;class Sg{constructor(t){b(this,dp);b(this,We,null);b(this,Ni,null);b(this,ll,!1);b(this,Bt,null);b(this,hp,null);b(this,cl,null);b(this,Ji,null);b(this,ul,null);b(this,hl,!1);b(this,dl,null);g(this,Bt,t)}renderForToolbar(){const t=g(this,Ni,document.createElement("button"));return t.className="comment",S(this,dp,q1).call(this,t,!1)}renderForStandalone(){const t=g(this,We,document.createElement("button"));t.className="annotationCommentButton";const e=l(this,Bt).commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(l(this,Bt)._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=l(this,Bt).commentButtonColor;s&&(i.backgroundColor=s)}return S(this,dp,q1).call(this,t,!0)}focusButton(){setTimeout(()=>{var t;(t=l(this,We)??l(this,Ni))==null||t.focus()},0)}onUpdatedColor(){if(!l(this,We))return;const t=l(this,Bt).commentButtonColor;t&&(l(this,We).style.backgroundColor=t),l(this,Bt)._uiManager.updatePopupColor(l(this,Bt))}get commentButtonWidth(){var t;return(((t=l(this,We))==null?void 0:t.getBoundingClientRect().width)??0)/l(this,Bt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,dl))return l(this,dl);if(!l(this,We))return null;const{x:t,y:e,height:i}=l(this,We).getBoundingClientRect(),{x:s,y:r,width:o,height:a}=l(this,Bt).parent.boundingClientRect;return[(t-s)/o,(e+i-r)/a]}set commentPopupPositionInLayer(t){g(this,dl,t)}hasDefaultPopupPosition(){return l(this,dl)===null}removeStandaloneCommentButton(){var t;(t=l(this,We))==null||t.remove(),g(this,We,null)}removeToolbarCommentButton(){var t;(t=l(this,Ni))==null||t.remove(),g(this,Ni,null)}setCommentButtonStates({selected:t,hasPopup:e}){l(this,We)&&(l(this,We).classList.toggle("selected",t),l(this,We).ariaExpanded=e)}edit(t){const e=this.commentPopupPositionInLayer;let i,s;if(e)[i,s]=e;else{[i,s]=l(this,Bt).commentButtonPosition;const{width:h,height:d,x:f,y:p}=l(this,Bt);i=f+i*h,s=p+s*d}const r=l(this,Bt).parent.boundingClientRect,{x:o,y:a,width:c,height:u}=r;l(this,Bt)._uiManager.editComment(l(this,Bt),o+i*c,a+s*u,{...t,parentDimensions:r})}finish(){l(this,Ni)&&(l(this,Ni).focus({focusVisible:l(this,ll)}),g(this,ll,!1))}isDeleted(){return l(this,hl)||l(this,Ji)===""}isEmpty(){return l(this,Ji)===null}hasBeenEdited(){return this.isDeleted()||l(this,Ji)!==l(this,hp)}serialize(){return this.data}get data(){return{text:l(this,Ji),richText:l(this,cl),date:l(this,ul),deleted:this.isDeleted()}}set data(t){if(t!==l(this,Ji)&&g(this,cl,null),t===null){g(this,Ji,""),g(this,hl,!0);return}g(this,Ji,t),g(this,ul,new Date),g(this,hl,!1)}setInitialText(t,e=null){g(this,hp,t),this.data=t,g(this,ul,null),g(this,cl,e)}shown(){}destroy(){var t,e;(t=l(this,Ni))==null||t.remove(),g(this,Ni,null),(e=l(this,We))==null||e.remove(),g(this,We,null),g(this,Ji,""),g(this,cl,null),g(this,ul,null),g(this,Bt,null),g(this,ll,!1),g(this,hl,!1)}}We=new WeakMap,Ni=new WeakMap,ll=new WeakMap,Bt=new WeakMap,hp=new WeakMap,cl=new WeakMap,Ji=new WeakMap,ul=new WeakMap,hl=new WeakMap,dl=new WeakMap,dp=new WeakSet,q1=function(t,e){if(!l(this,Bt)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[l(this,Bt)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=l(this,Bt)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",bi,{signal:i}),e&&(t.addEventListener("focusin",r=>{l(this,Bt)._focusEventsAllowed=!1,Jt(r)},{capture:!0,signal:i}),t.addEventListener("focusout",r=>{l(this,Bt)._focusEventsAllowed=!0,Jt(r)},{capture:!0,signal:i})),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),t===l(this,Ni)?this.edit():l(this,Bt).toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(g(this,ll,!0),s(r))},{signal:i}),t.addEventListener("pointerenter",()=>{l(this,Bt).toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{l(this,Bt).toggleComment(!1,!1)},{signal:i}),t};var Ou,fl,fp,pp,mp,gp,yp,vr,pl,wr,ml,xr,Ia,MR,DR,NR;const sS=class sS{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:o=null,signal:a}){b(this,Ia);b(this,Ou);b(this,fl,!1);b(this,fp,null);b(this,pp);b(this,mp);b(this,gp);b(this,yp);b(this,vr,null);b(this,pl);b(this,wr,null);b(this,ml);b(this,xr,null);g(this,Ou,t),g(this,fp,i),g(this,pp,e),g(this,mp,s),g(this,gp,r),g(this,yp,o),g(this,ml,new AbortController),g(this,pl,AbortSignal.any([a,l(this,ml).signal])),t.addEventListener("touchstart",S(this,Ia,MR).bind(this),{passive:!1,signal:l(this,pl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ys.pixelRatio}destroy(){var t,e;(t=l(this,ml))==null||t.abort(),g(this,ml,null),(e=l(this,vr))==null||e.abort(),g(this,vr,null)}};Ou=new WeakMap,fl=new WeakMap,fp=new WeakMap,pp=new WeakMap,mp=new WeakMap,gp=new WeakMap,yp=new WeakMap,vr=new WeakMap,pl=new WeakMap,wr=new WeakMap,ml=new WeakMap,xr=new WeakMap,Ia=new WeakSet,MR=function(t){var s,r,o;if((s=l(this,pp))!=null&&s.call(this))return;if(t.touches.length===1){if(l(this,vr))return;const a=g(this,vr,new AbortController),c=AbortSignal.any([l(this,pl),a.signal]),u=l(this,Ou),h={capture:!0,signal:c,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=l(this,vr))==null||p.abort(),g(this,vr,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Jt(f),d(f))},h),u.addEventListener("pointerup",d,h),u.addEventListener("pointercancel",d,h);return}if(!l(this,xr)){g(this,xr,new AbortController);const a=AbortSignal.any([l(this,pl),l(this,xr).signal]),c=l(this,Ou),u={signal:a,capture:!1,passive:!1};c.addEventListener("touchmove",S(this,Ia,DR).bind(this),u);const h=S(this,Ia,NR).bind(this);c.addEventListener("touchend",h,u),c.addEventListener("touchcancel",h,u),u.capture=!0,c.addEventListener("pointerdown",Jt,u),c.addEventListener("pointermove",Jt,u),c.addEventListener("pointercancel",Jt,u),c.addEventListener("pointerup",Jt,u),(r=l(this,mp))==null||r.call(this)}if(Jt(t),t.touches.length!==2||(o=l(this,fp))!=null&&o.call(this)){g(this,wr,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),g(this,wr,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},DR=function(t){var E;if(!l(this,wr)||t.touches.length!==2)return;Jt(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:s,screenY:r}=e,{screenX:o,screenY:a}=i,c=l(this,wr),{touch0X:u,touch0Y:h,touch1X:d,touch1Y:f}=c,p=d-u,y=f-h,v=o-s,A=a-r,m=Math.hypot(v,A)||1,w=Math.hypot(p,y)||1;if(!l(this,fl)&&Math.abs(w-m)<=sS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=s,c.touch0Y=r,c.touch1X=o,c.touch1Y=a,!l(this,fl)){g(this,fl,!0);return}const x=[(s+o)/2,(r+a)/2];(E=l(this,gp))==null||E.call(this,x,w,m)},NR=function(t){var e;t.touches.length>=2||(l(this,xr)&&(l(this,xr).abort(),g(this,xr,null),(e=l(this,yp))==null||e.call(this)),l(this,wr)&&(Jt(t),g(this,wr,null),g(this,fl,!1)))};let Gf=sS;var gl,ts,Xt,Dt,br,Bu,Vo,vp,Ge,yl,Ar,Ds,zo,wp,vl,qn,xp,wl,Sr,Ns,ju,Vu,Ii,xl,bp,Py,J,Q1,Ap,Z1,n0,IR,FR,J1,i0,tx,OR,BR,jR,ex,VR,nx,zR,UR,HR,ix,Ud;const it=class it{constructor(t){b(this,J);b(this,gl,null);b(this,ts,null);b(this,Xt,null);b(this,Dt,null);b(this,br,null);b(this,Bu,!1);b(this,Vo,null);b(this,vp,"");b(this,Ge,null);b(this,yl,null);b(this,Ar,null);b(this,Ds,null);b(this,zo,null);b(this,wp,"");b(this,vl,!1);b(this,qn,null);b(this,xp,!1);b(this,wl,!1);b(this,Sr,!1);b(this,Ns,null);b(this,ju,0);b(this,Vu,0);b(this,Ii,null);b(this,xl,null);I(this,"isSelected",!1);I(this,"_isCopy",!1);I(this,"_editToolbar",null);I(this,"_initialOptions",Object.create(null));I(this,"_initialData",null);I(this,"_isVisible",!0);I(this,"_uiManager",null);I(this,"_focusEventsAllowed",!0);b(this,bp,!1);b(this,Py,it._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,o];const[a,c]=this.parentDimensions;this.x=t.x/a,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=it.prototype._resizeWithKeyboard,e=Na.TRANSLATE_SMALL,i=Na.TRANSLATE_BIG;return rt(this,"_resizerKeyboardManager",new Km([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],it.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return rt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new MB({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(it._l10n??(it._l10n=t),it._l10nResizer||(it._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),it._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);it._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ot("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,bp)}set _isDraggable(t){var e;g(this,bp,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Py)}setParent(t){var e;t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(S(this,J,Ud).call(this),(e=l(this,Ds))==null||e.remove(),g(this,Ds,null)),this.parent=t}focusin(t){this._focusEventsAllowed&&(l(this,vl)?g(this,vl,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[r,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/r,this.y=(e+s)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,s]=this.parentDimensions;this.setAt(t*i,e*s,this.width*i,this.height*s),this._onTranslated()}translate(t,e){S(this,J,Q1).call(this,this.parentDimensions,t,e)}translateInPage(t,e){l(this,qn)||g(this,qn,[this.x,this.y,this.width,this.height]),S(this,J,Q1).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){l(this,qn)||g(this,qn,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[c,u]=this.getBaseTranslation();o+=c,a+=u;const{style:h}=i;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!l(this,qn)&&(l(this,qn)[0]!==this.x||l(this,qn)[1]!==this.y)}get _hasBeenResized(){return!!l(this,qn)&&(l(this,qn)[2]!==this.width||l(this,qn)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=it,s=i/t,r=i/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,s]}=this;let{x:r,y:o,width:a,height:c}=this;if(a*=i,c*=s,r*=i,o*=s,this._mustFixPosition)switch(t){case 0:r=fn(r,0,i-a),o=fn(o,0,s-c);break;case 90:r=fn(r,0,i-c),o=fn(o,a,s);break;case 180:r=fn(r,a,i),o=fn(o,c,s);break;case 270:r=fn(r,c,i),o=fn(o,0,s-a);break}this.x=r/=i,this.y=o/=s;const[u,h]=this.getBaseTranslation();r+=u,o+=h,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return S(i=it,Ap,Z1).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return S(i=it,Ap,Z1).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=l(this,Xt))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,wl))return this._editToolbar;this._editToolbar=new V1(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;(t=this._editToolbar)==null||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;(t=this._editToolbar)==null||t.removeButton("comment")}removeEditToolbar(){var t,e;(t=this._editToolbar)==null||t.remove(),this._editToolbar=null,(e=l(this,Xt))==null||e.destroy()}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,Xt)||(fy.initialize(it._l10n),g(this,Xt,new fy(this)),l(this,gl)&&(l(this,Xt).data=l(this,gl),g(this,gl,null))),l(this,Xt)}get altTextData(){var t;return(t=l(this,Xt))==null?void 0:t.data}set altTextData(t){l(this,Xt)&&(l(this,Xt).data=t)}get guessedAltText(){var t;return(t=l(this,Xt))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=l(this,Xt))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=l(this,Xt))==null?void 0:e.serialize(t)}hasAltText(){return!!l(this,Xt)&&!l(this,Xt).isEmpty()}hasAltTextData(){var t;return((t=l(this,Xt))==null?void 0:t.hasData())??!1}focusCommentButton(){var t;(t=l(this,Dt))==null||t.focusButton()}addCommentButton(){return l(this,Dt)||g(this,Dt,new Sg(this))}addStandaloneCommentButton(){if(l(this,br)){this._uiManager.isEditingMode()&&l(this,br).classList.remove("hidden");return}this.hasComment&&(g(this,br,l(this,Dt).renderForStandalone()),this.div.append(l(this,br)))}removeStandaloneCommentButton(){l(this,Dt).removeStandaloneCommentButton(),g(this,br,null)}hideStandaloneCommentButton(){var t;(t=l(this,br))==null||t.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:s}}=l(this,Dt);return{text:e,richText:t,date:i,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){l(this,Dt)||g(this,Dt,new Sg(this)),l(this,Dt).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(l(this,Dt)||g(this,Dt,new Sg(this)),l(this,Dt).setInitialText(t,i),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){var t;return(t=l(this,Dt))==null?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return(t=l(this,Dt))==null?void 0:t.isDeleted()}get hasComment(){return!!l(this,Dt)&&!l(this,Dt).isEmpty()&&!l(this,Dt).isDeleted()}async editComment(t){l(this,Dt)||g(this,Dt,new Sg(this)),l(this,Dt).edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){l(this,Dt).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[r]=this.pageDimensions,[o]=this.pageTranslation,a=o+r+1,c=s-100,u=a+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,c,u,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){l(this,Dt).data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=l(this,Bu)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),S(this,J,nx).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),xR(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,xl)||g(this,xl,new Gf({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:S(this,J,OR).bind(this),onPinching:S(this,J,BR).bind(this),onPinchEnd:S(this,J,jR).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=He.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(g(this,vl,!0),this._isDraggable){S(this,J,VR).call(this,t);return}S(this,J,ex).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Ns)&&clearTimeout(l(this,Ns)),g(this,Ns,setTimeout(()=>{var t;g(this,Ns,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const s=this.parentScale,[r,o]=this.pageDimensions,[a,c]=this.pageTranslation,u=t/s,h=e/s,d=this.x*r,f=this.y*o,p=this.width*r,y=this.height*o;switch(i){case 0:return[d+u+a,o-f-h-y+c,d+u+p+a,o-f-h+c];case 90:return[d+h+a,o-f+u+c,d+h+y+a,o-f+u+p+c];case 180:return[d-u-p+a,o-f+h+c,d-u+a,o-f+h+y+c];case 270:return[d-h-y+a,o-f-u-p+c,d-h+a,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,r,o]=t,a=r-i,c=o-s;switch(this.rotation){case 0:return[i,e-o,a,c];case 90:return[i,e-s,c,a];case 180:return[r,e-s,a,c];case 270:return[r,e-o,c,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&it._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;(t=l(this,Dt))==null||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:s,deleted:r,richText:o},uid:a,pageIndex:c,creationDate:u,modificationDate:h}=this;return{id:a,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:t},creationDate:u,modificationDate:i||h,popupRef:!r,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),g(this,wl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),g(this,wl,!1),!0):!1}isInEditMode(){return l(this,wl)}shouldGetKeyboardEvents(){return l(this,Sr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return e<o&&s>0&&t<r&&i>0}rebuild(){S(this,J,nx).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,g(s,gl,t.accessibilityData),s._isCopy=t.isCopy||!1;const[r,o]=s.pageDimensions,[a,c,u,h]=s.getRectInCurrentCoords(t.rect,o);return s.x=a/r,s.y=c/o,s.width=u/r,s.height=h/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=l(this,zo))==null||t.abort(),g(this,zo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Ns)&&(clearTimeout(l(this,Ns)),g(this,Ns,null)),S(this,J,Ud).call(this),this.removeEditToolbar(),l(this,Ii)){for(const i of l(this,Ii).values())clearTimeout(i);g(this,Ii,null)}this.parent=null,(e=l(this,xl))==null||e.destroy(),g(this,xl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(S(this,J,IR).call(this),l(this,Ge).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,s,r,o]=this.getPDFRect();return[it._round(i+(r-i)*t),it._round(s+(o-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,Dt).commentPopupPositionInLayer}set commentPopupPosition(t){l(this,Dt).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return l(this,Dt).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,Dt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){l(this,Dt).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),g(this,Ar,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=l(this,Ge).children;if(!l(this,ts)){g(this,ts,Array.from(e));const o=S(this,J,zR).bind(this),a=S(this,J,UR).bind(this),c=this._uiManager._signal;for(const u of l(this,ts)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",a,{signal:c}),u.addEventListener("focus",S(this,J,HR).bind(this,h),{signal:c}),u.setAttribute("data-l10n-id",it._l10nResizer[h])}}const i=l(this,ts)[0];let s=0;for(const o of e){if(o===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,ts).length/4);if(r!==s){if(r<s)for(let a=0;a<s-r;a++)l(this,Ge).append(l(this,Ge).firstChild);else if(r>s)for(let a=0;a<r-s;a++)l(this,Ge).firstChild.before(l(this,Ge).lastChild);let o=0;for(const a of e){const u=l(this,ts)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",it._l10nResizer[u])}}S(this,J,ix).call(this,0),g(this,Sr,!0),l(this,Ge).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){l(this,Sr)&&S(this,J,tx).call(this,l(this,wp),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){S(this,J,Ud).call(this),this.div.focus()}select(){var t,e,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=l(this,Xt))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return(t=this.div)==null?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,i,s,r;this.isSelected&&(this.isSelected=!1,(t=l(this,Ge))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=l(this,Xt))==null||r.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,xp)}set isEditing(t){g(this,xp,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){l(this,Ii)||g(this,Ii,new Map);const{action:i}=t;let s=l(this,Ii).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),l(this,Ii).delete(i),l(this,Ii).size===0&&g(this,Ii,null)},it._telemetryTimeout),l(this,Ii).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),g(this,Bu,!1)}disable(){this.div&&(this.div.tabIndex=-1),g(this,Bu,!0)}updateFakeAnnotationElement(t){if(!l(this,Ds)&&!this.deleted){g(this,Ds,t.addFakeAnnotation(this));return}if(this.deleted){l(this,Ds).remove(),g(this,Ds,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,Ds).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};gl=new WeakMap,ts=new WeakMap,Xt=new WeakMap,Dt=new WeakMap,br=new WeakMap,Bu=new WeakMap,Vo=new WeakMap,vp=new WeakMap,Ge=new WeakMap,yl=new WeakMap,Ar=new WeakMap,Ds=new WeakMap,zo=new WeakMap,wp=new WeakMap,vl=new WeakMap,qn=new WeakMap,xp=new WeakMap,wl=new WeakMap,Sr=new WeakMap,Ns=new WeakMap,ju=new WeakMap,Vu=new WeakMap,Ii=new WeakMap,xl=new WeakMap,bp=new WeakMap,Py=new WeakMap,J=new WeakSet,Q1=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Ap=new WeakSet,Z1=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},n0=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},IR=function(){if(l(this,Ge))return;g(this,Ge,document.createElement("div")),l(this,Ge).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");l(this,Ge).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",S(this,J,FR).bind(this,i),{signal:e}),s.addEventListener("contextmenu",bi,{signal:e}),s.tabIndex=-1}this.div.prepend(l(this,Ge))},FR=function(t,e){var h;e.preventDefault();const{isMac:i}=He.platform;if(e.button!==0||e.ctrlKey&&i)return;(h=l(this,Xt))==null||h.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,g(this,yl,[e.screenX,e.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",S(this,J,tx).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Jt,{passive:!1,signal:o}),window.addEventListener("contextmenu",bi,{signal:o}),g(this,Ar,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const u=()=>{var d;r.abort(),this.parent.togglePointerEvents(!0),(d=l(this,Xt))==null||d.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=a,this.div.style.cursor=c,S(this,J,i0).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},J1=function(t,e,i,s){this.width=i,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()},i0=function(){if(!l(this,Ar))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=l(this,Ar);g(this,Ar,null);const r=this.x,o=this.y,a=this.width,c=this.height;r===t&&o===e&&a===i&&c===s||this.addCommands({cmd:S(this,J,J1).bind(this,r,o,a,c),undo:S(this,J,J1).bind(this,t,e,i,s),mustExec:!0})},tx=function(t,e){const[i,s]=this.parentDimensions,r=this.x,o=this.y,a=this.width,c=this.height,u=it.MIN_SIZE/i,h=it.MIN_SIZE/s,d=S(this,J,n0).call(this,this.rotation),f=(V,F)=>[d[0]*V+d[2]*F,d[1]*V+d[3]*F],p=S(this,J,n0).call(this,360-this.rotation),y=(V,F)=>[p[0]*V+p[2]*F,p[1]*V+p[3]*F];let v,A,m=!1,w=!1;switch(t){case"topLeft":m=!0,v=(V,F)=>[0,0],A=(V,F)=>[V,F];break;case"topMiddle":v=(V,F)=>[V/2,0],A=(V,F)=>[V/2,F];break;case"topRight":m=!0,v=(V,F)=>[V,0],A=(V,F)=>[0,F];break;case"middleRight":w=!0,v=(V,F)=>[V,F/2],A=(V,F)=>[0,F/2];break;case"bottomRight":m=!0,v=(V,F)=>[V,F],A=(V,F)=>[0,0];break;case"bottomMiddle":v=(V,F)=>[V/2,F],A=(V,F)=>[V/2,0];break;case"bottomLeft":m=!0,v=(V,F)=>[0,F],A=(V,F)=>[V,0];break;case"middleLeft":w=!0,v=(V,F)=>[0,F/2],A=(V,F)=>[V,F/2];break}const x=v(a,c),E=A(a,c);let C=f(...E);const T=it._round(r+C[0]),_=it._round(o+C[1]);let R=1,M=1,L,D;if(e.fromKeyboard)({deltaX:L,deltaY:D}=e);else{const{screenX:V,screenY:F}=e,[N,z]=l(this,yl);[L,D]=this.screenToPageTranslation(V-N,F-z),l(this,yl)[0]=V,l(this,yl)[1]=F}if([L,D]=y(L/i,D/s),m){const V=Math.hypot(a,c);R=M=Math.max(Math.min(Math.hypot(E[0]-x[0]-L,E[1]-x[1]-D)/V,1/a,1/c),u/a,h/c)}else w?R=fn(Math.abs(E[0]-x[0]-L),u,1)/a:M=fn(Math.abs(E[1]-x[1]-D),h,1)/c;const B=it._round(a*R),K=it._round(c*M);C=f(...A(B,K));const U=T-C[0],Z=_-C[1];l(this,qn)||g(this,qn,[this.x,this.y,this.width,this.height]),this.width=B,this.height=K,this.x=U,this.y=Z,this.setDims(),this.fixAndSetPosition(),this._onResizing()},OR=function(){var t;g(this,Ar,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=l(this,Xt))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},BR=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const o=S(this,J,n0).call(this,this.rotation),a=(T,_)=>[o[0]*T+o[2]*_,o[1]*T+o[3]*_],[c,u]=this.parentDimensions,h=this.x,d=this.y,f=this.width,p=this.height,y=it.MIN_SIZE/c,v=it.MIN_SIZE/u;r=Math.max(Math.min(r,1/f,1/p),y/f,v/p);const A=it._round(f*r),m=it._round(p*r);if(A===f&&m===p)return;l(this,qn)||g(this,qn,[h,d,f,p]);const w=a(f/2,p/2),x=it._round(h+w[0]),E=it._round(d+w[1]),C=a(A/2,m/2);this.x=x-C[0],this.y=E-C[1],this.width=A,this.height=m,this.setDims(),this.fixAndSetPosition(),this._onResizing()},jR=function(){var t;(t=l(this,Xt))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),S(this,J,i0).call(this)},ex=function(t){const{isMac:e}=He.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},VR=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:r},a=u=>{s.abort(),g(this,Vo,null),g(this,vl,!1),this._uiManager.endDragSession()||S(this,J,ex).call(this,u),i&&this._onStopDragging()};e&&(g(this,ju,t.clientX),g(this,Vu,t.clientY),g(this,Vo,t.pointerId),g(this,vp,t.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:d,pointerId:f}=u;if(f!==l(this,Vo)){Jt(u);return}const[p,y]=this.screenToPageTranslation(h-l(this,ju),d-l(this,Vu));g(this,ju,h),g(this,Vu,d),this._uiManager.dragSelectedEditors(p,y)},o),window.addEventListener("touchmove",Jt,o),window.addEventListener("pointerdown",u=>{u.pointerType===l(this,vp)&&(l(this,xl)||u.isPrimary)&&a(u),Jt(u)},o));const c=u=>{if(!l(this,Vo)||l(this,Vo)===u.pointerId){a(u);return}Jt(u)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})},nx=function(){if(l(this,zo)||!this.div)return;g(this,zo,new AbortController);const t=this._uiManager.combinedSignal(l(this,zo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},zR=function(t){it._resizerKeyboardManager.exec(this,t)},UR=function(t){var e;l(this,Sr)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==l(this,Ge)&&S(this,J,Ud).call(this)},HR=function(t){g(this,wp,l(this,Sr)?t:"")},ix=function(t){if(l(this,ts))for(const e of l(this,ts))e.tabIndex=t},Ud=function(){g(this,Sr,!1),S(this,J,ix).call(this,-1),S(this,J,i0).call(this)},b(it,Ap),I(it,"_l10n",null),I(it,"_l10nResizer",null),I(it,"_borderLineWidth",-1),I(it,"_colorManager",new H1),I(it,"_zIndex",1),I(it,"_telemetryTimeout",1e3);let Vt=it;class MB extends Vt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cC=3285377520,Ci=4294901760,As=65535;class $R{constructor(t){this.h1=t?t&4294967295:cC,this.h2=t?t&4294967295:cC}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let v=0,A=t.length;v<A;v++){const m=t.charCodeAt(v);m<=255?e[i++]=m:(e[i++]=m>>>8,e[i++]=m&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,o=new Uint32Array(e.buffer,0,s);let a=0,c=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&As,y=f&As;for(let v=0;v<s;v++)v&1?(a=o[v],a=a*d&Ci|a*p&As,a=a<<15|a>>>17,a=a*f&Ci|a*y&As,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[v],c=c*d&Ci|c*p&As,c=c<<15|c>>>17,c=c*f&Ci|c*y&As,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,r){case 3:a^=e[s*4+2]<<16;case 2:a^=e[s*4+1]<<8;case 1:a^=e[s*4],a=a*d&Ci|a*p&As,a=a<<15|a>>>17,a=a*f&Ci|a*y&As,s&1?u^=a:h^=a}this.h1=u,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ci|t*36045&As,e=e*4283543511&Ci|((e<<16|t>>>16)*2950163797&Ci)>>>16,t^=e>>>1,t=t*444984403&Ci|t*60499&As,e=e*3301882366&Ci|((e<<16|t>>>16)*3120437893&Ci)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const sx=Object.freeze({map:null,hash:"",transfer:void 0});var bl,Al,Er,Xe,_y,WR;class XA{constructor(){b(this,_y);b(this,bl,!1);b(this,Al,null);b(this,Er,null);b(this,Xe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=l(this,Xe).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return l(this,Xe).get(t)}remove(t){const e=l(this,Xe).get(t);if(e!==void 0&&(e instanceof Vt&&l(this,Er).delete(e.annotationElementId),l(this,Xe).delete(t),l(this,Xe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of l(this,Xe).values())if(i instanceof Vt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=l(this,Xe).get(t);let s=!1;if(i!==void 0)for(const[r,o]of Object.entries(e))i[r]!==o&&(s=!0,i[r]=o);else s=!0,l(this,Xe).set(t,e);s&&S(this,_y,WR).call(this),e instanceof Vt&&((l(this,Er)||g(this,Er,new Map)).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return l(this,Xe).has(t)}get size(){return l(this,Xe).size}resetModified(){l(this,bl)&&(g(this,bl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new GR(this)}get serializable(){if(l(this,Xe).size===0)return sx;const t=new Map,e=new $R,i=[],s=Object.create(null);let r=!1;for(const[o,a]of l(this,Xe)){const c=a instanceof Vt?a.serialize(!1,s):a;c&&(t.set(o,c),e.update(`${o}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:sx}get editorStats(){let t=null;const e=new Map;let i=0,s=0;for(const r of l(this,Xe).values()){if(!(r instanceof Vt)){r.popup&&(r.popup.deleted?s+=1:i+=1);continue}r.isCommentDeleted?s+=1:r.hasEditedComment&&(i+=1);const o=r.telemetryFinalData;if(!o)continue;const{type:a}=o;e.has(a)||e.set(a,Object.getPrototypeOf(r).constructor),t||(t=Object.create(null));const c=t[a]||(t[a]=new Map);for(const[u,h]of Object.entries(o)){if(u==="type")continue;let d=c.get(u);d||(d=new Map,c.set(u,d));const f=d.get(h)??0;d.set(h,f+1)}}if((s>0||i>0)&&(t||(t=Object.create(null)),t.comments={deleted:s,edited:i}),!t)return null;for(const[r,o]of e)t[r]=o.computeTelemetryFinalData(t[r]);return t}resetModifiedIds(){g(this,Al,null)}updateEditor(t,e){var s;const i=(s=l(this,Er))==null?void 0:s.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){var e;return((e=l(this,Er))==null?void 0:e.get(t))||null}get modifiedIds(){if(l(this,Al))return l(this,Al);const t=[];if(l(this,Er))for(const e of l(this,Er).values())e.serialize()&&t.push(e.annotationElementId);return g(this,Al,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return l(this,Xe).entries()}}bl=new WeakMap,Al=new WeakMap,Er=new WeakMap,Xe=new WeakMap,_y=new WeakSet,WR=function(){l(this,bl)||(g(this,bl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Sp;class GR extends XA{constructor(e){super();b(this,Sp);const{map:i,hash:s,transfer:r}=e.serializable,o=structuredClone(i,r?{transfer:r}:null);g(this,Sp,{map:o,hash:s,transfer:r})}get print(){Ot("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Sp)}get modifiedIds(){return rt(this,"modifiedIds",{ids:new Set,hash:""})}}Sp=new WeakMap;var zu;class DB{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){b(this,zu,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,zu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||l(this,zu).has(t.loadedName))){if(ft(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,a=new FontFace(s,r,o);this.addNativeFontFace(a);try{await a.load(),l(this,zu).add(s),i==null||i(t)}catch{nt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Ot("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw nt(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return rt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return rt(this,"isSyncFontLoadingSupported",An||He.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(ft(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return rt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(E,C){return E.charCodeAt(C)<<24|E.charCodeAt(C+1)<<16|E.charCodeAt(C+2)<<8|E.charCodeAt(C+3)&255}function s(E,C,T,_){const R=E.substring(0,C),M=E.substring(C+T);return R+_+M}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let u=0;function h(E,C){if(++u>30){nt("Load test font never loaded."),C();return}if(c.font="30px "+E,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(h.bind(null,E,C))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const y=16,v=1482184792;let A=i(f,y);for(r=0,o=d.length-3;r<o;r+=4)A=A-v+i(d,r)|0;r<d.length&&(A=A-v+i(d+"XXX",r)|0),f=s(f,y,4,xB(A));const m=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const E of[t.loadedName,d]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=E,x.append(C)}this._document.body.append(x),h(d,()=>{x.remove(),e.complete()})}}zu=new WeakMap;var Tt;class NB{constructor(t,e=null,i,s){b(this,Tt);this.compiledGlyphs=Object.create(null),g(this,Tt,t),this._inspectFont=e,i&&Object.assign(this,i),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${lR(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let s;try{s=t.get(i)}catch(o){nt(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}get black(){return l(this,Tt).black}get bold(){return l(this,Tt).bold}get disableFontFace(){return l(this,Tt).disableFontFace??!1}get fontExtraProperties(){return l(this,Tt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,Tt).isInvalidPDFjsFont}get isType3Font(){return l(this,Tt).isType3Font}get italic(){return l(this,Tt).italic}get missingFile(){return l(this,Tt).missingFile}get remeasure(){return l(this,Tt).remeasure}get vertical(){return l(this,Tt).vertical}get ascent(){return l(this,Tt).ascent}get defaultWidth(){return l(this,Tt).defaultWidth}get descent(){return l(this,Tt).descent}get bbox(){return l(this,Tt).bbox}get fontMatrix(){return l(this,Tt).fontMatrix}get fallbackName(){return l(this,Tt).fallbackName}get loadedName(){return l(this,Tt).loadedName}get mimetype(){return l(this,Tt).mimetype}get name(){return l(this,Tt).name}get data(){return l(this,Tt).data}clearData(){l(this,Tt).clearData()}get cssFontInfo(){return l(this,Tt).cssFontInfo}get systemFontInfo(){return l(this,Tt).systemFontInfo}get defaultVMetrics(){return l(this,Tt).defaultVMetrics}}Tt=new WeakMap;function IB(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(An)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function FB(n){if(An&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Wm(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Eg(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const rx=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,OB=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",XR=EB.bind(null,rx,OB);var Cr,Ry;class BB{constructor(){b(this,Cr,new Map);b(this,Ry,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};l(this,Ry).then(()=>{for(const[s]of l(this,Cr))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){nt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);s=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}l(this,Cr).set(e,s)}removeEventListener(t,e){const i=l(this,Cr).get(e);i==null||i(),l(this,Cr).delete(e)}terminate(){for(const[,t]of l(this,Cr))t==null||t();l(this,Cr).clear()}}Cr=new WeakMap,Ry=new WeakMap;const Cg={DATA:1,ERROR:2},ve={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function uC(){}function Rn(n){if(n instanceof ao||n instanceof hy||n instanceof nC||n instanceof Hf||n instanceof yw)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ot('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ao(n.message);case"InvalidPDFException":return new hy(n.message);case"PasswordException":return new nC(n.message,n.code);case"ResponseException":return new Hf(n.message,n.status,n.missing);case"UnknownErrorException":return new yw(n.message,n.details)}return new yw(n.message,n.toString())}var Uu,$i,KR,YR,qR,s0;class Hd{constructor(t,e,i){b(this,$i);b(this,Uu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",S(this,$i,KR).bind(this),{signal:l(this,Uu).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,i,s){const r=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[r]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:t,streamId:r,data:e,desiredSize:u.desiredSize},s),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[r].pullCall=h,c.postMessage({sourceName:o,targetName:a,stream:ve.PULL,streamId:r,desiredSize:u.desiredSize}),h.promise},cancel:u=>{ft(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[r].cancelCall=h,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:ve.CANCEL,streamId:r,reason:Rn(u)}),h.promise}},i)}destroy(){var t;(t=l(this,Uu))==null||t.abort(),g(this,Uu,null)}}Uu=new WeakMap,$i=new WeakSet,KR=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){S(this,$i,qR).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Cg.DATA)s.resolve(t.data);else if(t.callback===Cg.ERROR)s.reject(Rn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(o){r.postMessage({sourceName:i,targetName:s,callback:Cg.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:s,callback:Cg.ERROR,callbackId:t.callbackId,reason:Rn(o)})});return}if(t.streamId){S(this,$i,YR).call(this,t);return}e(t.data)},YR=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,o=this,a=this.actionHandler[t.action],c={enqueue(u,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:ve.ENQUEUE,streamId:e,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:ve.CLOSE,streamId:e}),delete o.streamSinks[e])},error(u){ft(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:ve.ERROR,streamId:e,reason:Rn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,Promise.try(a,t.data,c).then(function(){r.postMessage({sourceName:i,targetName:s,stream:ve.START_COMPLETE,streamId:e,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:ve.START_COMPLETE,streamId:e,reason:Rn(u)})})},qR=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,r=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case ve.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Rn(t.reason));break;case ve.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Rn(t.reason));break;case ve.PULL:if(!a){r.postMessage({sourceName:i,targetName:s,stream:ve.PULL_COMPLETE,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||uC).then(function(){r.postMessage({sourceName:i,targetName:s,stream:ve.PULL_COMPLETE,streamId:e,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:ve.PULL_COMPLETE,streamId:e,reason:Rn(u)})});break;case ve.ENQUEUE:if(ft(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case ve.CLOSE:if(ft(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),S(this,$i,s0).call(this,o,e);break;case ve.ERROR:ft(o,"error should have stream controller"),o.controller.error(Rn(t.reason)),S(this,$i,s0).call(this,o,e);break;case ve.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Rn(t.reason)),S(this,$i,s0).call(this,o,e);break;case ve.CANCEL:if(!a)break;const c=Rn(t.reason);Promise.try(a.onCancel||uC,c).then(function(){r.postMessage({sourceName:i,targetName:s,stream:ve.CANCEL_COMPLETE,streamId:e,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:ve.CANCEL_COMPLETE,streamId:e,reason:Rn(u)})}),a.sinkCapability.reject(c),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},s0=async function(t,e){var i,s,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Ep;class QR{constructor({enableHWA:t=!1}){b(this,Ep,!1);g(this,Ep,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!l(this,Ep)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ot("Abstract method `_createCanvas` called.")}}Ep=new WeakMap;class jB extends QR{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class ZR{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ot("Abstract method `_fetch` called.")}}class hC extends ZR{async _fetch(t){const e=await dd(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Wm(e)}}class JR{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,r){return"none"}destroy(t=!1){}}var Sl,Hu,Tr,kr,ln,El,Cl,H,rn,$d,Bc,r0,jc,tL,ox,Vc,Wd,Gd,ax,Xd;class VB extends JR{constructor({docId:e,ownerDocument:i=globalThis.document}){super();b(this,H);b(this,Sl);b(this,Hu);b(this,Tr);b(this,kr);b(this,ln);b(this,El);b(this,Cl,0);g(this,kr,e),g(this,ln,i)}addFilter(e){if(!e)return"none";let i=l(this,H,rn).get(e);if(i)return i;const[s,r,o]=S(this,H,r0).call(this,e),a=e.length===1?s:`${s}${r}${o}`;if(i=l(this,H,rn).get(a),i)return l(this,H,rn).set(e,i),i;const c=`g_${l(this,kr)}_transfer_map_${Ee(this,Cl)._++}`,u=S(this,H,jc).call(this,c);l(this,H,rn).set(e,u),l(this,H,rn).set(a,u);const h=S(this,H,Vc).call(this,c);return S(this,H,Gd).call(this,s,r,o,h),u}addHCMFilter(e,i){var y;const s=`${e}-${i}`,r="base";let o=l(this,H,$d).get(r);if((o==null?void 0:o.key)===s||(o?((y=o.filter)==null||y.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},l(this,H,$d).set(r,o)),!e||!i))return o.url;const a=S(this,H,Xd).call(this,e);e=W.makeHexColor(...a);const c=S(this,H,Xd).call(this,i);if(i=W.makeHexColor(...c),l(this,H,Bc).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const u=new Array(256);for(let v=0;v<=255;v++){const A=v/255;u[v]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const h=u.join(","),d=`g_${l(this,kr)}_hcm_filter`,f=o.filter=S(this,H,Vc).call(this,d);S(this,H,Gd).call(this,h,h,h,f),S(this,H,ox).call(this,f);const p=(v,A)=>{const m=a[v]/255,w=c[v]/255,x=new Array(A+1);for(let E=0;E<=A;E++)x[E]=m+E/A*(w-m);return x.join(",")};return S(this,H,Gd).call(this,p(0,5),p(1,5),p(2,5),f),o.url=S(this,H,jc).call(this,d),o.url}addAlphaFilter(e){let i=l(this,H,rn).get(e);if(i)return i;const[s]=S(this,H,r0).call(this,[e]),r=`alpha_${s}`;if(i=l(this,H,rn).get(r),i)return l(this,H,rn).set(e,i),i;const o=`g_${l(this,kr)}_alpha_map_${Ee(this,Cl)._++}`,a=S(this,H,jc).call(this,o);l(this,H,rn).set(e,a),l(this,H,rn).set(r,a);const c=S(this,H,Vc).call(this,o);return S(this,H,ax).call(this,s,c),a}addLuminosityFilter(e){let i=l(this,H,rn).get(e||"luminosity");if(i)return i;let s,r;if(e?([s]=S(this,H,r0).call(this,[e]),r=`luminosity_${s}`):r="luminosity",i=l(this,H,rn).get(r),i)return l(this,H,rn).set(e,i),i;const o=`g_${l(this,kr)}_luminosity_map_${Ee(this,Cl)._++}`,a=S(this,H,jc).call(this,o);l(this,H,rn).set(e,a),l(this,H,rn).set(r,a);const c=S(this,H,Vc).call(this,o);return S(this,H,tL).call(this,c),e&&S(this,H,ax).call(this,s,c),a}addHighlightHCMFilter(e,i,s,r,o){var w;const a=`${i}-${s}-${r}-${o}`;let c=l(this,H,$d).get(e);if((c==null?void 0:c.key)===a||(c?((w=c.filter)==null||w.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,H,$d).set(e,c)),!i||!s))return c.url;const[u,h]=[i,s].map(S(this,H,Xd).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,y]=[r,o].map(S(this,H,Xd).bind(this));f<d&&([d,f,p,y]=[f,d,y,p]),l(this,H,Bc).style.color="";const v=(x,E,C)=>{const T=new Array(256),_=(f-d)/C,R=x/255,M=(E-x)/(255*C);let L=0;for(let D=0;D<=C;D++){const B=Math.round(d+D*_),K=R+D*M;for(let U=L;U<=B;U++)T[U]=K;L=B+1}for(let D=L;D<256;D++)T[D]=T[L-1];return T.join(",")},A=`g_${l(this,kr)}_hcm_${e}_filter`,m=c.filter=S(this,H,Vc).call(this,A);return S(this,H,ox).call(this,m),S(this,H,Gd).call(this,v(p[0],y[0],5),v(p[1],y[1],5),v(p[2],y[2],5),m),c.url=S(this,H,jc).call(this,A),c.url}destroy(e=!1){var i,s,r,o;e&&((i=l(this,El))!=null&&i.size)||((s=l(this,Tr))==null||s.parentNode.parentNode.remove(),g(this,Tr,null),(r=l(this,Hu))==null||r.clear(),g(this,Hu,null),(o=l(this,El))==null||o.clear(),g(this,El,null),g(this,Cl,0))}}Sl=new WeakMap,Hu=new WeakMap,Tr=new WeakMap,kr=new WeakMap,ln=new WeakMap,El=new WeakMap,Cl=new WeakMap,H=new WeakSet,rn=function(){return l(this,Hu)||g(this,Hu,new Map)},$d=function(){return l(this,El)||g(this,El,new Map)},Bc=function(){if(!l(this,Tr)){const e=l(this,ln).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=l(this,ln).createElementNS(ar,"svg");s.setAttribute("width",0),s.setAttribute("height",0),g(this,Tr,l(this,ln).createElementNS(ar,"defs")),e.append(s),s.append(l(this,Tr)),l(this,ln).body.append(e)}return l(this,Tr)},r0=function(e){if(e.length===1){const u=e[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=u[f]/255;const d=h.join(",");return[d,d,d]}const[i,s,r]=e,o=new Array(256),a=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,a[u]=s[u]/255,c[u]=r[u]/255;return[o.join(","),a.join(","),c.join(",")]},jc=function(e){if(l(this,Sl)===void 0){g(this,Sl,"");const i=l(this,ln).URL;i!==l(this,ln).baseURI&&(Xm(i)?nt('#createUrl: ignore "data:"-URL for performance reasons.'):g(this,Sl,UA(i,"")))}return`url(${l(this,Sl)}#${e})`},tL=function(e){const i=l(this,ln).createElementNS(ar,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},ox=function(e){const i=l(this,ln).createElementNS(ar,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Vc=function(e){const i=l(this,ln).createElementNS(ar,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),l(this,H,Bc).append(i),i},Wd=function(e,i,s){const r=l(this,ln).createElementNS(ar,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},Gd=function(e,i,s,r){const o=l(this,ln).createElementNS(ar,"feComponentTransfer");r.append(o),S(this,H,Wd).call(this,o,"feFuncR",e),S(this,H,Wd).call(this,o,"feFuncG",i),S(this,H,Wd).call(this,o,"feFuncB",s)},ax=function(e,i){const s=l(this,ln).createElementNS(ar,"feComponentTransfer");i.append(s),S(this,H,Wd).call(this,s,"feFuncA",e)},Xd=function(e){return l(this,H,Bc).style.color=e,fd(getComputedStyle(l(this,H,Bc)).getPropertyValue("color"))};class eL{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ot("Abstract method `_fetch` called.")}}class dC extends eL{async _fetch(t){const e=await dd(t,"arraybuffer");return new Uint8Array(e)}}class nL{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ot("Abstract method `_fetch` called.")}}class fC extends nL{async _fetch(t){const e=await dd(t,"arraybuffer");return new Uint8Array(e)}}An&&nt("Please use the `legacy` build in Node.js environments.");async function KA(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class zB extends JR{}class UB extends QR{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class HB extends ZR{async _fetch(t){return KA(t)}}class $B extends eL{async _fetch(t){return KA(t)}}class WB extends nL{async _fetch(t){return KA(t)}}const Ic="__forcedDependency",{floor:pC,ceil:mC}=Math;function Tg(n,t,e,i,s,r){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],s),n[t*4+3]=Math.max(n[t*4+3],r)}const lx=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var $u,Uo;class GB{constructor(t,e){b(this,$u);b(this,Uo);g(this,$u,t),g(this,Uo,e)}get length(){return l(this,$u).length}isEmpty(t){return l(this,$u)[t]===lx}minX(t){return l(this,Uo)[t*4+0]/256}minY(t){return l(this,Uo)[t*4+1]/256}maxX(t){return(l(this,Uo)[t*4+2]+1)/256}maxY(t){return(l(this,Uo)[t*4+3]+1)/256}}$u=new WeakMap,Uo=new WeakMap;const kg=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};var Dn,Nn,Tl,es,kl,Pr,St,kt,_r,In,Cp,Wu,Pl,_l,Rr,cn,Is,Tp,cx;class XB{constructor(t,e,i=!1){b(this,Tp);b(this,Dn,{__proto__:null});b(this,Nn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Ic]:[]});b(this,Tl,new Map);b(this,es,[]);b(this,kl,[]);b(this,Pr,[[1,0,0,1,0,0]]);b(this,St,[-1/0,-1/0,1/0,1/0]);b(this,kt,new Float64Array([1/0,1/0,-1/0,-1/0]));b(this,_r,-1);b(this,In,new Set);b(this,Cp,new Map);b(this,Wu,new Map);b(this,Pl);b(this,_l);b(this,Rr);b(this,cn);b(this,Is);g(this,Pl,t.width),g(this,_l,t.height),S(this,Tp,cx).call(this,e),i&&g(this,Is,new Map)}growOperationsCount(t){t>=l(this,cn).length&&S(this,Tp,cx).call(this,t,l(this,cn))}save(t){return g(this,Dn,{__proto__:l(this,Dn)}),g(this,Nn,{__proto__:l(this,Nn),transform:{__proto__:l(this,Nn).transform},moveText:{__proto__:l(this,Nn).moveText},sameLineText:{__proto__:l(this,Nn).sameLineText},[Ic]:{__proto__:l(this,Nn)[Ic]}}),g(this,St,{__proto__:l(this,St)}),l(this,es).push(t),this}restore(t){var s;const e=Object.getPrototypeOf(l(this,Dn));if(e===null)return this;g(this,Dn,e),g(this,Nn,Object.getPrototypeOf(l(this,Nn))),g(this,St,Object.getPrototypeOf(l(this,St)));const i=l(this,es).pop();return i!==void 0&&((s=kg(l(this,Is),t))==null||s.dependencies.add(i),l(this,cn)[t]=l(this,cn)[i]),this}recordOpenMarker(t){return l(this,es).push(t),this}getOpenMarker(){return l(this,es).length===0?null:l(this,es).at(-1)}recordCloseMarker(t){var i;const e=l(this,es).pop();return e!==void 0&&((i=kg(l(this,Is),t))==null||i.dependencies.add(e),l(this,cn)[t]=l(this,cn)[e]),this}beginMarkedContent(t){return l(this,kl).push(t),this}endMarkedContent(t){var i;const e=l(this,kl).pop();return e!==void 0&&((i=kg(l(this,Is),t))==null||i.dependencies.add(e),l(this,cn)[t]=l(this,cn)[e]),this}pushBaseTransform(t){return l(this,Pr).push(W.multiplyByDOMMatrix(l(this,Pr).at(-1),t.getTransform())),this}popBaseTransform(){return l(this,Pr).length>1&&l(this,Pr).pop(),this}recordSimpleData(t,e){return l(this,Dn)[t]=e,this}recordIncrementalData(t,e){return l(this,Nn)[t].push(e),this}resetIncrementalData(t,e){return l(this,Nn)[t].length=0,this}recordNamedData(t,e){return l(this,Tl).set(t,e),this}recordSimpleDataFromNamed(t,e,i){l(this,Dn)[t]=l(this,Tl).get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ic,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in l(this,Dn)&&this.recordFutureForcedDependency(e,l(this,Dn)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of l(this,In))this.recordFutureForcedDependency(Ic,t);return this}resetBBox(t){return l(this,_r)!==t&&(g(this,_r,t),l(this,kt)[0]=1/0,l(this,kt)[1]=1/0,l(this,kt)[2]=-1/0,l(this,kt)[3]=-1/0),this}recordClipBox(t,e,i,s,r,o){const a=W.multiplyByDOMMatrix(l(this,Pr).at(-1),e.getTransform()),c=[1/0,1/0,-1/0,-1/0];W.axialAlignedBoundingBox([i,r,s,o],a,c);const u=W.intersect(l(this,St),c);return u?(l(this,St)[0]=u[0],l(this,St)[1]=u[1],l(this,St)[2]=u[2],l(this,St)[3]=u[3]):(l(this,St)[0]=l(this,St)[1]=1/0,l(this,St)[2]=l(this,St)[3]=-1/0),this}recordBBox(t,e,i,s,r,o){const a=l(this,St);if(a[0]===1/0)return this;const c=W.multiplyByDOMMatrix(l(this,Pr).at(-1),e.getTransform());if(a[0]===-1/0)return W.axialAlignedBoundingBox([i,r,s,o],c,l(this,kt)),this;const u=[1/0,1/0,-1/0,-1/0];return W.axialAlignedBoundingBox([i,r,s,o],c,u),l(this,kt)[0]=Math.min(l(this,kt)[0],Math.max(u[0],a[0])),l(this,kt)[1]=Math.min(l(this,kt)[1],Math.max(u[1],a[1])),l(this,kt)[2]=Math.max(l(this,kt)[2],Math.min(u[2],a[2])),l(this,kt)[3]=Math.max(l(this,kt)[3],Math.min(u[3],a[3])),this}recordCharacterBBox(t,e,i,s=1,r=0,o=0,a){const c=i.bbox;let u,h;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&l(this,Wu).get(i),u!==!1&&(h=[0,0,0,0],W.axialAlignedBoundingBox(c,i.fontMatrix,h),(s!==1||r!==0||o!==0)&&W.scaleMinMax([s,0,0,-s,r,o],h),u)))return this.recordBBox(t,e,h[0],h[2],h[1],h[3]);if(!a)return this.recordFullPageBBox(t);const d=a();return c&&h&&u===void 0&&(u=h[0]<=r-d.actualBoundingBoxLeft&&h[2]>=r+d.actualBoundingBoxRight&&h[1]<=o-d.actualBoundingBoxAscent&&h[3]>=o+d.actualBoundingBoxDescent,l(this,Wu).set(i,u),u)?this.recordBBox(t,e,h[0],h[2],h[1],h[3]):this.recordBBox(t,e,r-d.actualBoundingBoxLeft,r+d.actualBoundingBoxRight,o-d.actualBoundingBoxAscent,o+d.actualBoundingBoxDescent)}recordFullPageBBox(t){return l(this,kt)[0]=Math.max(0,l(this,St)[0]),l(this,kt)[1]=Math.max(0,l(this,St)[1]),l(this,kt)[2]=Math.min(l(this,Pl),l(this,St)[2]),l(this,kt)[3]=Math.min(l(this,_l),l(this,St)[3]),this}getSimpleIndex(t){return l(this,Dn)[t]}recordDependencies(t,e){const i=l(this,In),s=l(this,Dn),r=l(this,Nn);for(const o of e)o in l(this,Dn)?i.add(s[o]):o in r&&r[o].forEach(i.add,i);return this}recordNamedDependency(t,e){return l(this,Tl).has(e)&&l(this,In).add(l(this,Tl).get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Ic]),l(this,Is)){const i=kg(l(this,Is),t),{dependencies:s}=i;l(this,In).forEach(s.add,s),l(this,es).forEach(s.add,s),l(this,kl).forEach(s.add,s),s.delete(t),i.isRenderingOperation=!0}if(l(this,_r)===t){const i=pC(l(this,kt)[0]*256/l(this,Pl)),s=pC(l(this,kt)[1]*256/l(this,_l)),r=mC(l(this,kt)[2]*256/l(this,Pl)),o=mC(l(this,kt)[3]*256/l(this,_l));Tg(l(this,Rr),t,i,s,r,o);for(const a of l(this,In))a!==t&&Tg(l(this,Rr),a,i,s,r,o);for(const a of l(this,es))a!==t&&Tg(l(this,Rr),a,i,s,r,o);for(const a of l(this,kl))a!==t&&Tg(l(this,Rr),a,i,s,r,o);e||(l(this,In).clear(),g(this,_r,-1))}return this}recordShowTextOperation(t,e=!1){const i=Array.from(l(this,In));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of i)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return l(this,_r)===t&&(g(this,_r,-1),l(this,St)[0]=Math.max(l(this,St)[0],l(this,kt)[0]),l(this,St)[1]=Math.max(l(this,St)[1],l(this,kt)[1]),l(this,St)[2]=Math.min(l(this,St)[2],l(this,kt)[2]),l(this,St)[3]=Math.min(l(this,St)[3],l(this,kt)[3]),e||l(this,In).clear()),this}_takePendingDependencies(){const t=l(this,In);return g(this,In,new Set),t}_extractOperation(t){const e=l(this,Cp).get(t);return l(this,Cp).delete(t),e}_pushPendingDependencies(t){for(const e of t)l(this,In).add(e)}take(){return l(this,Wu).clear(),new GB(l(this,cn),l(this,Rr))}takeDebugMetadata(){return l(this,Is)}}Dn=new WeakMap,Nn=new WeakMap,Tl=new WeakMap,es=new WeakMap,kl=new WeakMap,Pr=new WeakMap,St=new WeakMap,kt=new WeakMap,_r=new WeakMap,In=new WeakMap,Cp=new WeakMap,Wu=new WeakMap,Pl=new WeakMap,_l=new WeakMap,Rr=new WeakMap,cn=new WeakMap,Is=new WeakMap,Tp=new WeakSet,cx=function(t,e){const i=new ArrayBuffer(t*4);g(this,Rr,new Uint8ClampedArray(i)),g(this,cn,new Uint32Array(i)),e&&e.length>0?(l(this,cn).set(e),l(this,cn).fill(lx,e.length)):l(this,cn).fill(lx)};var Nt,oe,ns,Gu,Xu;const rS=class rS{constructor(t,e,i){b(this,Nt);b(this,oe);b(this,ns);b(this,Gu,0);b(this,Xu,0);if(t instanceof rS&&l(t,ns)===!!i)return t;g(this,Nt,t),g(this,oe,e),g(this,ns,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(t){return Ee(this,Xu)._++,l(this,Nt).save(l(this,oe)),this}restore(t){return l(this,Xu)>0&&(l(this,Nt).restore(l(this,oe)),Ee(this,Xu)._--),this}recordOpenMarker(t){return Ee(this,Gu)._++,this}getOpenMarker(){return l(this,Gu)>0?l(this,oe):l(this,Nt).getOpenMarker()}recordCloseMarker(t){return Ee(this,Gu)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return l(this,Nt).pushBaseTransform(t),this}popBaseTransform(){return l(this,Nt).popBaseTransform(),this}recordSimpleData(t,e){return l(this,Nt).recordSimpleData(t,l(this,oe)),this}recordIncrementalData(t,e){return l(this,Nt).recordIncrementalData(t,l(this,oe)),this}resetIncrementalData(t,e){return l(this,Nt).resetIncrementalData(t,l(this,oe)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return l(this,Nt).recordSimpleDataFromNamed(t,e,l(this,oe)),this}recordFutureForcedDependency(t,e){return l(this,Nt).recordFutureForcedDependency(t,l(this,oe)),this}inheritSimpleDataAsFutureForcedDependencies(t){return l(this,Nt).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,Nt).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return l(this,ns)||l(this,Nt).resetBBox(l(this,oe)),this}recordClipBox(t,e,i,s,r,o){return l(this,ns)||l(this,Nt).recordClipBox(l(this,oe),e,i,s,r,o),this}recordBBox(t,e,i,s,r,o){return l(this,ns)||l(this,Nt).recordBBox(l(this,oe),e,i,s,r,o),this}recordCharacterBBox(t,e,i,s,r,o,a){return l(this,ns)||l(this,Nt).recordCharacterBBox(l(this,oe),e,i,s,r,o,a),this}recordFullPageBBox(t){return l(this,ns)||l(this,Nt).recordFullPageBBox(l(this,oe)),this}getSimpleIndex(t){return l(this,Nt).getSimpleIndex(t)}recordDependencies(t,e){return l(this,Nt).recordDependencies(l(this,oe),e),this}recordNamedDependency(t,e){return l(this,Nt).recordNamedDependency(l(this,oe),e),this}recordOperation(t){return l(this,Nt).recordOperation(l(this,oe),!0),this}recordShowTextOperation(t){return l(this,Nt).recordShowTextOperation(l(this,oe),!0),this}bboxToClipBoxDropOperation(t){return l(this,ns)||l(this,Nt).bboxToClipBoxDropOperation(l(this,oe),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Nt=new WeakMap,oe=new WeakMap,ns=new WeakMap,Gu=new WeakMap,Xu=new WeakMap;let py=rS;const Ti={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Qe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ux(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class YA{isModifyingCurrentTransform(){return!1}getPattern(){Ot("Abstract method `getPattern` called.")}}class KB extends YA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let r;if(s===Qe.STROKE||s===Qe.FILL){const o=e.current.getClippedPathBoundingBox(s,Qt(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=e.cachedCanvases.getCanvas("pattern",a,c),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),i=W.transform(i,[1,0,0,1,o[0],o[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),ux(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),r=t.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);r.setTransform(d)}else ux(t,this._bbox),r=this._createGradient(t);return r}}function xw(n,t,e,i,s,r,o,a){const c=t.coords,u=t.colors,h=n.data,d=n.width*4;let f;c[e+1]>c[i+1]&&(f=e,e=i,i=f,f=r,r=o,o=f),c[i+1]>c[s+1]&&(f=i,i=s,s=f,f=o,o=a,a=f),c[e+1]>c[i+1]&&(f=e,e=i,i=f,f=r,r=o,o=f);const p=(c[e]+t.offsetX)*t.scaleX,y=(c[e+1]+t.offsetY)*t.scaleY,v=(c[i]+t.offsetX)*t.scaleX,A=(c[i+1]+t.offsetY)*t.scaleY,m=(c[s]+t.offsetX)*t.scaleX,w=(c[s+1]+t.offsetY)*t.scaleY;if(y>=w)return;const x=u[r],E=u[r+1],C=u[r+2],T=u[o],_=u[o+1],R=u[o+2],M=u[a],L=u[a+1],D=u[a+2],B=Math.round(y),K=Math.round(w);let U,Z,V,F,N,z,Y,dt;for(let Q=B;Q<=K;Q++){if(Q<A){const yt=Q<y?0:(y-Q)/(y-A);U=p-(p-v)*yt,Z=x-(x-T)*yt,V=E-(E-_)*yt,F=C-(C-R)*yt}else{let yt;Q>w?yt=1:A===w?yt=0:yt=(A-Q)/(A-w),U=v-(v-m)*yt,Z=T-(T-M)*yt,V=_-(_-L)*yt,F=R-(R-D)*yt}let lt;Q<y?lt=0:Q>w?lt=1:lt=(y-Q)/(y-w),N=p-(p-m)*lt,z=x-(x-M)*lt,Y=E-(E-L)*lt,dt=C-(C-D)*lt;const Lt=Math.round(Math.min(U,N)),de=Math.round(Math.max(U,N));let $t=d*Q+Lt*4;for(let yt=Lt;yt<=de;yt++)lt=(U-yt)/(U-N),lt<0?lt=0:lt>1&&(lt=1),h[$t++]=Z-(Z-z)*lt|0,h[$t++]=V-(V-Y)*lt|0,h[$t++]=F-(F-dt)*lt|0,h[$t++]=255}}function YB(n,t,e){const i=t.coords,s=t.colors;let r,o;switch(t.type){case"lattice":const a=t.verticesPerRow,c=Math.floor(i.length/a)-1,u=a-1;for(r=0;r<c;r++){let h=r*a;for(let d=0;d<u;d++,h++)xw(n,e,i[h],i[h+1],i[h+a],s[h],s[h+1],s[h+a]),xw(n,e,i[h+a+1],i[h+1],i[h+a],s[h+a+1],s[h+1],s[h+a])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)xw(n,e,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class qB extends YA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(u*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),p=u/d,y=h/f,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/p,scaleY:1/y},A=d+2*2,m=f+2*2,w=i.getCanvas("mesh",A,m),x=w.context,E=x.createImageData(d,f);if(e){const T=E.data;for(let _=0,R=T.length;_<R;_+=4)T[_]=e[0],T[_+1]=e[1],T[_+2]=e[2],T[_+3]=255}for(const T of this._figures)YB(E,T,v);return x.putImageData(E,2,2),{canvas:w.canvas,offsetX:a-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,s){ux(t,this._bbox);const r=new Float32Array(2);if(s===Qe.SHADING)W.singularValueDecompose2dScale(Qt(t),r);else if(this.matrix){W.singularValueDecompose2dScale(this.matrix,r);const[a,c]=r;W.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=a,r[1]*=c}else W.singularValueDecompose2dScale(e.baseTransform,r);const o=this._createMeshCanvas(r,s===Qe.SHADING?null:this._background,e.cachedCanvases);return s!==Qe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class QB extends YA{getPattern(){return"hotpink"}}function ZB(n){switch(n[0]){case"RadialAxial":return new KB(n);case"Mesh":return new qB(n);case"Dummy":return new QB}throw new Error(`Unknown IR type: ${n[0]}`)}const gC={COLORED:1,UNCOLORED:2},Ly=class Ly{constructor(t,e,i,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t,e){var z,Y;const{bbox:i,operatorList:s,paintType:r,tilingType:o,color:a,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),mv("TilingType: "+o);const d=i[0],f=i[1],p=i[2],y=i[3],v=p-d,A=y-f,m=new Float32Array(2);W.singularValueDecompose2dScale(this.matrix,m);const[w,x]=m;W.singularValueDecompose2dScale(this.baseTransform,m);const E=w*m[0],C=x*m[1];let T=v,_=A,R=!1,M=!1;const L=Math.ceil(u*E),D=Math.ceil(h*C),B=Math.ceil(v*E),K=Math.ceil(A*C);L>=B?T=u:R=!0,D>=K?_=h:M=!0;const U=this.getSizeAndScale(T,this.ctx.canvas.width,E),Z=this.getSizeAndScale(_,this.ctx.canvas.height,C),V=t.cachedCanvases.getCanvas("pattern",U.size,Z.size),F=V.context,N=c.createCanvasGraphics(F,e);if(N.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(N,r,a),F.translate(-U.scale*d,-Z.scale*f),N.transform(0,U.scale,0,0,Z.scale,0,0),F.save(),(z=N.dependencyTracker)==null||z.save(),this.clipBbox(N,d,f,p,y),N.baseTransform=Qt(N.ctx),N.executeOperatorList(s),N.endDrawing(),(Y=N.dependencyTracker)==null||Y.restore(),F.restore(),R||M){const dt=V.canvas;R&&(T=u),M&&(_=h);const Q=this.getSizeAndScale(T,this.ctx.canvas.width,E),lt=this.getSizeAndScale(_,this.ctx.canvas.height,C),Lt=Q.size,de=lt.size,$t=t.cachedCanvases.getCanvas("pattern-workaround",Lt,de),yt=$t.context,fo=R?Math.floor(v/u):0,Wn=M?Math.floor(A/h):0;for(let Mt=0;Mt<=fo;Mt++)for(let Gn=0;Gn<=Wn;Gn++)yt.drawImage(dt,Lt*Mt,de*Gn,Lt,de,0,0,Lt,de);return{canvas:$t.canvas,scaleX:Q.scale,scaleY:lt.scale,offsetX:d,offsetY:f}}return{canvas:V.canvas,scaleX:U.scale,scaleY:Z.scale,offsetX:d,offsetY:f}}getSizeAndScale(t,e,i){const s=Math.max(Ly.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=s?r=s:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,s,r){const o=s-e,a=r-i;t.ctx.rect(e,i,o,a),W.axialAlignedBoundingBox([e,i,s,r],Qt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,r=t.current;switch(e){case gC.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;s.fillStyle=r.fillColor=o,s.strokeStyle=r.strokeColor=a;break;case gC.UNCOLORED:s.fillStyle=s.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new wB(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,s,r){let o=i;s!==Qe.SHADING&&(o=W.transform(o,e.baseTransform),this.matrix&&(o=W.transform(o,this.matrix)));const a=this.createPatternCanvas(e,r);let c=new DOMMatrix(o);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const u=t.createPattern(a.canvas,"repeat");return u.setTransform(c),u}};I(Ly,"MAX_PATTERN_SIZE",3e3);let hx=Ly;function JB({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=He.isLittleEndian?4278190080:255,[c,u]=o?[r,a]:[a,r],h=i>>3,d=i&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let y=0;y<s;y++){for(const A=t+h;t<A;t++){const m=t<f?n[t]:255;e[p++]=m&128?u:c,e[p++]=m&64?u:c,e[p++]=m&32?u:c,e[p++]=m&16?u:c,e[p++]=m&8?u:c,e[p++]=m&4?u:c,e[p++]=m&2?u:c,e[p++]=m&1?u:c}if(d===0)continue;const v=t<f?n[t++]:255;for(let A=0;A<d;A++)e[p++]=v&1<<7-A?u:c}return{srcPos:t,destPos:p}}const yC=16,vC=100,t8=15,wC=10,jn=16,bw=new DOMMatrix,fi=new Float32Array(2),au=new Float32Array([1/0,1/0,-1/0,-1/0]);function e8(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,s,r,o,a){t.transform(e,i,s,r,o,a),this.__originalTransform(e,i,s,r,o,a)},n.setTransform=function(e,i,s,r,o,a){t.setTransform(e,i,s,r,o,a),this.__originalSetTransform(e,i,s,r,o,a)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,r,o,a){t.bezierCurveTo(e,i,s,r,o,a),this.__originalBezierCurveTo(e,i,s,r,o,a)},n.rect=function(e,i,s,r){t.rect(e,i,s,r),this.__originalRect(e,i,s,r)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class n8{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Pg(n,t,e,i,s,r,o,a,c,u){const[h,d,f,p,y,v]=Qt(n);if(d===0&&f===0){const w=o*h+y,x=Math.round(w),E=a*p+v,C=Math.round(E),T=(o+c)*h+y,_=Math.abs(Math.round(T)-x)||1,R=(a+u)*p+v,M=Math.abs(Math.round(R)-C)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),x,C),n.drawImage(t,e,i,s,r,0,0,_,M),n.setTransform(h,d,f,p,y,v),[_,M]}if(h===0&&p===0){const w=a*f+y,x=Math.round(w),E=o*d+v,C=Math.round(E),T=(a+u)*f+y,_=Math.abs(Math.round(T)-x)||1,R=(o+c)*d+v,M=Math.abs(Math.round(R)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,x,C),n.drawImage(t,e,i,s,r,0,0,M,_),n.setTransform(h,d,f,p,y,v),[M,_]}n.drawImage(t,e,i,s,r,o,a,c,u);const A=Math.hypot(h,d),m=Math.hypot(f,p);return[A*c,m*u]}class xC{constructor(t,e,i){I(this,"alphaIsShape",!1);I(this,"fontSize",0);I(this,"fontSizeScale",1);I(this,"textMatrix",null);I(this,"textMatrixScale",1);I(this,"fontMatrix",O1);I(this,"leading",0);I(this,"x",0);I(this,"y",0);I(this,"lineX",0);I(this,"lineY",0);I(this,"charSpacing",0);I(this,"wordSpacing",0);I(this,"textHScale",1);I(this,"textRenderingMode",$e.FILL);I(this,"textRise",0);I(this,"fillColor","#000000");I(this,"strokeColor","#000000");I(this,"patternFill",!1);I(this,"patternStroke",!1);I(this,"fillAlpha",1);I(this,"strokeAlpha",1);I(this,"lineWidth",1);I(this,"activeSMask",null);I(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=au.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Qe.FILL,e=null){const i=this.minMax.slice();if(t===Qe.STROKE){e||Ot("Stroke bounding box must include transform."),W.singularValueDecompose2dScale(e,fi);const s=fi[0]*this.lineWidth/2,r=fi[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const t=W.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(au,0)}getClippedPathBoundingBox(t=Qe.FILL,e=null){return W.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function bC(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%jn,r=(e-s)/jn,o=s===0?r:r+1,a=n.createImageData(i,jn);let c=0,u;const h=t.data,d=a.data;let f,p,y,v;if(t.kind===wf.GRAYSCALE_1BPP){const A=h.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),w=m.length,x=i+7>>3,E=4294967295,C=He.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(y=f<r?jn:s,u=0,p=0;p<y;p++){const T=A-c;let _=0;const R=T>x?i:T*8-7,M=R&-8;let L=0,D=0;for(;_<M;_+=8)D=h[c++],m[u++]=D&128?E:C,m[u++]=D&64?E:C,m[u++]=D&32?E:C,m[u++]=D&16?E:C,m[u++]=D&8?E:C,m[u++]=D&4?E:C,m[u++]=D&2?E:C,m[u++]=D&1?E:C;for(;_<R;_++)L===0&&(D=h[c++],L=128),m[u++]=D&L?E:C,L>>=1}for(;u<w;)m[u++]=0;n.putImageData(a,0,f*jn)}}else if(t.kind===wf.RGBA_32BPP){for(p=0,v=i*jn*4,f=0;f<r;f++)d.set(h.subarray(c,c+v)),c+=v,n.putImageData(a,0,p),p+=jn;f<o&&(v=i*s*4,d.set(h.subarray(c,c+v)),n.putImageData(a,0,p))}else if(t.kind===wf.RGB_24BPP)for(y=jn,v=i*y,f=0;f<o;f++){for(f>=r&&(y=s,v=i*y),u=0,p=v;p--;)d[u++]=h[c++],d[u++]=h[c++],d[u++]=h[c++],d[u++]=255;n.putImageData(a,0,f*jn)}else throw new Error(`bad image kind: ${t.kind}`)}function AC(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%jn,r=(e-s)/jn,o=s===0?r:r+1,a=n.createImageData(i,jn);let c=0;const u=t.data,h=a.data;for(let d=0;d<o;d++){const f=d<r?jn:s;({srcPos:c}=JB({src:u,srcPos:c,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*jn)}}function Td(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function _g(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function SC(n,t){if(t)return!0;W.singularValueDecompose2dScale(n,fi);const e=Math.fround(ys.pixelRatio*lo.PDF_TO_CSS_UNITS);return fi[0]<=e&&fi[1]<=e}const i8=["butt","round","square"],s8=["miter","round","bevel"],r8={},EC={};var vs,dx,fx,px;const oS=class oS{constructor(t,e,i,s,r,{optionalContentConfig:o,markedContentStack:a=null},c,u,h){b(this,vs);this.ctx=t,this.current=new xC(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new n8(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(t,e,i=null){var s;return typeof e=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,i){const c=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Qt(this.compositeCtx))}this.ctx.save(),_g(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Qt(this.ctx)}executeOperatorList(t,e,i,s,r){var m;const o=t.argsArray,a=t.fnArray;let c=e||0;const u=o.length;if(u===c)return c;const h=u-c>wC&&typeof i=="function",d=h?Date.now()+t8:0;let f=0;const p=this.commonObjs,y=this.objs;let v,A;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,i),c;if(!r||r(c))if(v=a[c],A=o[c]??null,v!==nd.dependency)A===null?this[v](c):this[v](c,...A);else for(const w of A){(m=this.dependencyTracker)==null||m.recordNamedData(w,c);const x=w.startsWith("g_")?p:y;if(!x.has(w))return x.get(w,i),c}if(c++,c===u)return c;if(h&&++f>wC){if(Date.now()>d)return i(),c;f=0}}}endDrawing(){S(this,vs,dx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),S(this,vs,fx).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),a=i,c=s,u="prescale1",h,d;for(;r>2&&a>1||o>2&&c>1;){let f=a,p=c;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),h=this.cachedCanvases.getCanvas(u,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,a,c,0,0,f,p),t=h.canvas,a=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:c}}_createMaskCanvas(t,e){var L,D;const i=this.ctx,{width:s,height:r}=e,o=this.current.fillColor,a=this.current.patternFill,c=Qt(i);let u,h,d,f;if((e.bitmap||e.data)&&e.count>1){const B=e.bitmap||e.data.buffer;h=JSON.stringify(a?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(B),u||(u=new Map,this._cachedBitmapsMap.set(B,u));const K=u.get(h);if(K&&!a){const U=Math.round(Math.min(c[0],c[2])+c[4]),Z=Math.round(Math.min(c[1],c[3])+c[5]);return(L=this.dependencyTracker)==null||L.recordDependencies(t,Ti.transformAndFill),{canvas:K,offsetX:U,offsetY:Z}}d=K}d||(f=this.cachedCanvases.getCanvas("maskCanvas",s,r),AC(f.context,e));let p=W.transform(c,[1/s,0,0,-1/r,0,0]);p=W.transform(p,[1,0,0,1,0,-r]);const y=au.slice();W.axialAlignedBoundingBox([0,0,s,r],p,y);const[v,A,m,w]=y,x=Math.round(m-v)||1,E=Math.round(w-A)||1,C=this.cachedCanvases.getCanvas("fillCanvas",x,E),T=C.context,_=v,R=A;T.translate(-_,-R),T.transform(...p),d||(d=this._scaleImage(f.canvas,bs(T)),d=d.img,u&&a&&u.set(h,d)),T.imageSmoothingEnabled=SC(Qt(T),e.interpolate),Pg(T,d,0,0,d.width,d.height,0,0,s,r),T.globalCompositeOperation="source-in";const M=W.transform(bs(T),[1,0,0,1,-_,-R]);return T.fillStyle=a?o.getPattern(i,this,M,Qe.FILL,t):o,T.fillRect(0,0,s,r),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,C.canvas)),(D=this.dependencyTracker)==null||D.recordDependencies(t,Ti.transformAndFill),{canvas:C.canvas,offsetX:Math.round(_),offsetY:Math.round(R)}}setLineWidth(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",t),this.ctx.lineCap=i8[e]}setLineJoin(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",t),this.ctx.lineJoin=s8[e]}setMiterLimit(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var i,s,r,o,a;for(const[c,u]of e)switch(c){case"LW":this.setLineWidth(t,u);break;case"LC":this.setLineCap(t,u);break;case"LJ":this.setLineJoin(t,u);break;case"ML":this.setMiterLimit(t,u);break;case"D":this.setDash(t,u[0],u[1]);break;case"RI":this.setRenderingIntent(t,u);break;case"FL":this.setFlatness(t,u);break;case"Font":this.setFont(t,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=u;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(r=this.dependencyTracker)==null||r.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",t),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(a=this.dependencyTracker)==null||a.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,i);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),Td(this.suspendedCtx,o),e8(o,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Td(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const r=s[0],o=s[1],a=s[2]-r,c=s[3]-o;a===0||c===0||(this.genericComposeSMask(e.context,i,a,c,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,r,o,a,c,u,h,d){let f=t.canvas,p=c-h,y=u-d;if(o)if(p<0||y<0||p+i>f.width||y+s>f.height){const A=this.cachedCanvases.getCanvas("maskExtension",i,s),m=A.context;m.drawImage(f,-p,-y),m.globalCompositeOperation="destination-atop",m.fillStyle=o,m.fillRect(0,0,i,s),m.globalCompositeOperation="source-over",f=A.canvas,p=y=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(p,y,i,s),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(p,y,i,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?e.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(c,u,i,s),e.clip(v),e.globalCompositeOperation="destination-in",e.drawImage(f,p,y,i,s,c,u,i,s),e.restore()}save(t){var i;this.inSMaskMode&&Td(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(i=this.dependencyTracker)==null||i.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Td(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,s,r,o,a){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",t),this.ctx.transform(e,i,s,r,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,s){let[r]=i;if(!s){r||(r=i[0]=new Path2D),this[e](t,r);return}if(this.dependencyTracker!==null){const o=e===nd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-o,s[2]+o,s[1]-o,s[3]+o).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const o=i[0]=new Path2D;for(let a=0,c=r.length;a<c;)switch(r[a++]){case Ag.moveTo:o.moveTo(r[a++],r[a++]);break;case Ag.lineTo:o.lineTo(r[a++],r[a++]);break;case Ag.curveTo:o.bezierCurveTo(r[a++],r[a++],r[a++],r[a++],r[a++],r[a++]);break;case Ag.closePath:o.closePath();break;default:nt(`Unrecognized drawing path operator: ${r[a-1]}`);break}r=o}W.axialAlignedBoundingBox(s,Qt(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){var o;const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const a=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,bs(s),Qe.STROKE,t),a){const c=new Path2D;c.addPath(e,s.getTransform().invertSelf().multiplySelf(a)),e=c}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);(o=this.dependencyTracker)==null||o.recordDependencies(t,Ti.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Qe.STROKE,Qt(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){var u,h,d;const s=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let a=!1;if(o){const f=r.isModifyingCurrentTransform()?s.getTransform():null;if((u=this.dependencyTracker)==null||u.save(t),s.save(),s.fillStyle=r.getPattern(s,this,bs(s),Qe.FILL,t),f){const p=new Path2D;p.addPath(e,s.getTransform().invertSelf().multiplySelf(f)),e=p}a=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),(h=this.dependencyTracker)==null||h.recordDependencies(t,Ti.fill),a&&(s.restore(),(d=this.dependencyTracker)==null||d.restore(t)),i&&this.consumePath(t,e,c)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var i;this.ctx.fill(e),(i=this.dependencyTracker)==null||i.recordDependencies(t,Ti.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=r8}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=EC}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,r=i.getTransform().invertSelf();for(const{transform:o,x:a,y:c,fontSize:u,path:h}of e)h&&s.addPath(h,new DOMMatrix(o).preMultiplySelf(r).translate(a,c).scale(u,-u));i.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){var d,f;(d=this.dependencyTracker)==null||d.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||O1,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&nt("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const o=s.loadedName||"sans-serif",a=((f=s.systemFontInfo)==null?void 0:f.css)||`"${o}", ${s.fallbackName}`;let c="normal";s.black?c="900":s.bold&&(c="bold");const u=s.italic?"italic":"normal";let h=i;i<yC?h=yC:i>vC&&(h=vC),this.current.fontSizeScale=i/h,this.ctx.font=`${u} ${c} ${h}px ${a}`}setTextRenderingMode(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,i,s,r,o){var m,w,x,E;const a=this.ctx,c=this.current,u=c.font,h=c.textRenderingMode,d=c.fontSize/c.fontSizeScale,f=h&$e.FILL_STROKE_MASK,p=!!(h&$e.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,v=c.patternStroke&&!u.missingFile;let A;if((u.disableFontFace||p||y||v)&&!u.missingFile&&(A=u.getPathGenerator(this.commonObjs,e)),A&&(u.disableFontFace||y||v)){a.save(),a.translate(i,s),a.scale(d,-d),(m=this.dependencyTracker)==null||m.recordCharacterBBox(t,a,u);let C;if(f===$e.FILL||f===$e.FILL_STROKE)if(r){C=a.getTransform(),a.setTransform(...r);const T=S(this,vs,px).call(this,A,C,r);a.fill(T)}else a.fill(A);if(f===$e.STROKE||f===$e.FILL_STROKE)if(o){C||(C=a.getTransform()),a.setTransform(...o);const{a:T,b:_,c:R,d:M}=C,L=W.inverseTransform(o),D=W.transform([T,_,R,M,0,0],L);W.singularValueDecompose2dScale(D,fi),a.lineWidth*=Math.max(fi[0],fi[1])/d,a.stroke(S(this,vs,px).call(this,A,C,o))}else a.lineWidth/=d,a.stroke(A);a.restore()}else(f===$e.FILL||f===$e.FILL_STROKE)&&(a.fillText(e,i,s),(w=this.dependencyTracker)==null||w.recordCharacterBBox(t,a,u,d,i,s,()=>a.measureText(e))),(f===$e.STROKE||f===$e.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(t,a,u,d,i,s,()=>a.measureText(e)).recordDependencies(t,Ti.stroke)),a.strokeText(e,i,s));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Qt(a),x:i,y:s,fontSize:d,path:A}),(E=this.dependencyTracker)==null||E.recordCharacterBBox(t,a,u,d,i,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return rt(this,"isFontSubpixelAAEnabled",i)}showText(t,e){var R,M,L,D;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ti.showText).resetBBox(t),this.current.textRenderingMode&$e.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,s=i.font;if(s.isType3Font){this.showType3Text(t,e),(R=this.dependencyTracker)==null||R.recordShowTextOperation(t);return}const r=i.fontSize;if(r===0){(M=this.dependencyTracker)==null||M.recordOperation(t);return}const o=this.ctx,a=i.fontSizeScale,c=i.charSpacing,u=i.wordSpacing,h=i.fontDirection,d=i.textHScale*h,f=e.length,p=s.vertical,y=p?1:-1,v=s.defaultVMetrics,A=r*i.fontMatrix[0],m=i.textRenderingMode===$e.FILL&&!s.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),h>0?o.scale(d,-1):o.scale(d,1);let w,x;if(i.patternFill){o.save();const B=i.fillColor.getPattern(o,this,bs(o),Qe.FILL,t);w=Qt(o),o.restore(),o.fillStyle=B}if(i.patternStroke){o.save();const B=i.strokeColor.getPattern(o,this,bs(o),Qe.STROKE,t);x=Qt(o),o.restore(),o.strokeStyle=B}let E=i.lineWidth;const C=i.textMatrixScale;if(C===0||E===0){const B=i.textRenderingMode&$e.FILL_STROKE_MASK;(B===$e.STROKE||B===$e.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=C;if(a!==1&&(o.scale(a,a),E/=a),o.lineWidth=E,s.isInvalidPDFjsFont){const B=[];let K=0;for(const Z of e)B.push(Z.unicode),K+=Z.width;const U=B.join("");if(o.fillText(U,0,0),this.dependencyTracker!==null){const Z=o.measureText(U);this.dependencyTracker.recordBBox(t,this.ctx,-Z.actualBoundingBoxLeft,Z.actualBoundingBoxRight,-Z.actualBoundingBoxAscent,Z.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=K*A*d,o.restore(),this.compose();return}let T=0,_;for(_=0;_<f;++_){const B=e[_];if(typeof B=="number"){T+=y*B*r/1e3;continue}let K=!1;const U=(B.isSpace?u:0)+c,Z=B.fontChar,V=B.accent;let F,N,z=B.width;if(p){const Q=B.vmetric||v,lt=-(B.vmetric?Q[1]:z*.5)*A,Lt=Q[2]*A;z=Q?-Q[0]:z,F=lt/a,N=(T+Lt)/a}else F=T/a,N=0;let Y;if(s.remeasure&&z>0){Y=o.measureText(Z);const Q=Y.width*1e3/r*a;if(z<Q&&this.isFontSubpixelAAEnabled){const lt=z/Q;K=!0,o.save(),o.scale(lt,1),F/=lt}else z!==Q&&(F+=(z-Q)/2e3*r/a)}if(this.contentVisible&&(B.isInFont||s.missingFile)){if(m&&!V)o.fillText(Z,F,N),(L=this.dependencyTracker)==null||L.recordCharacterBBox(t,o,Y?{bbox:null}:s,r/a,F,N,()=>Y??o.measureText(Z));else if(this.paintChar(t,Z,F,N,w,x),V){const Q=F+r*V.offset.x/a,lt=N-r*V.offset.y/a;this.paintChar(t,V.fontChar,Q,lt,w,x)}}const dt=p?z*A-U*h:z*A+U*h;T+=dt,K&&o.restore()}p?i.y-=T:i.x+=T*d,o.restore(),this.compose(),(D=this.dependencyTracker)==null||D.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,s=this.current,r=s.font,o=s.fontSize,a=s.fontDirection,c=r.vertical?1:-1,u=s.charSpacing,h=s.wordSpacing,d=s.textHScale*a,f=s.fontMatrix||O1,p=e.length,y=s.textRenderingMode===$e.INVISIBLE;let v,A,m,w;if(y||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),s.textMatrix&&i.transform(...s.textMatrix),i.translate(s.x,s.y+s.textRise),i.scale(d,a);const x=this.dependencyTracker;for(this.dependencyTracker=x?new py(x,t):null,v=0;v<p;++v){if(A=e[v],typeof A=="number"){w=c*A*o/1e3,this.ctx.translate(w,0),s.x+=w*d;continue}const E=(A.isSpace?h:0)+u,C=r.charProcOperatorList[A.operatorListId];C?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...f),this.executeOperatorList(C),this.restore()):nt(`Type3 character "${A.operatorListId}" is not available.`);const T=[A.width,0];W.applyTransform(T,f),m=T[0]*o+E,i.translate(m,0),s.x+=m*d}i.restore(),x&&(this.dependencyTracker=x)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,s,r,o,a){var u;const c=new Path2D;c.rect(s,r,o-s,a-r),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(t,this.ctx,s,o,r,a).recordClipBox(t,this.ctx,s,o,r,a),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const s=this.baseTransform||Qt(this.ctx),r={createCanvasGraphics:(o,a)=>new oS(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new py(this.dependencyTracker,a,!0):null)};i=new hx(e,this.ctx,r,s)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=ZB(this.getObject(t,e)),this.cachedPatterns.set(e,s)),i&&(s.matrix=i),s}shadingFill(t,e){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const s=this._getPattern(t,e);i.fillStyle=s.getPattern(i,this,bs(i),Qe.SHADING,t);const r=bs(i);if(r){const{width:a,height:c}=i.canvas,u=au.slice();W.axialAlignedBoundingBox([0,0,a,c],r,u);const[h,d,f,p]=u;this.ctx.fillRect(h,d,f-h,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ti.transform).recordDependencies(t,Ti.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Ot("Should not call beginInlineImage")}beginImageData(){Ot("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){var s;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Qt(this.ctx),i)){W.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,a,c]=i,u=new Path2D;u.rect(r,o,a-r,c-o),this.ctx.clip(u),(s=this.dependencyTracker)==null||s.recordClipBox(t,this.ctx,r,a,o,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var x;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||mv("TODO: Support non-isolated groups."),e.knockout&&nt("Knockout groups not supported.");const s=Qt(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=au.slice();W.axialAlignedBoundingBox(e.bbox,Qt(i),r);const o=[0,0,i.canvas.width,i.canvas.height];r=W.intersect(r,o)||[0,0,0,0];const a=Math.floor(r[0]),c=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-a,1),h=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,h]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,u,h),p=f.context;p.translate(-a,-c),p.transform(...s);let y=new Path2D;const[v,A,m,w]=e.bbox;if(y.rect(v,A,m-v,w-A),e.matrix){const E=new Path2D;E.addPath(y,new DOMMatrix(e.matrix)),y=E}p.clip(y),e.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(a,c),i.save()),Td(i,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var r;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(r=this.dependencyTracker)==null||r.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=Qt(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const a=au.slice();W.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,a),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,i,s,r,o){if(S(this,vs,dx).call(this),_g(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const a=i[2]-i[0],c=i[3]-i[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=a,i[3]=c,W.singularValueDecompose2dScale(Qt(this.ctx),fi);const{viewportScale:u}=this,h=Math.ceil(a*this.outputScaleX*u),d=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(fi[0],0,0,-fi[1],0,c*fi[1]),_g(this.ctx)}else{_g(this.ctx),this.endPath(t);const u=new Path2D;u.rect(i[0],i[1],a,c),this.ctx.clip(u)}}this.current=new xC(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),S(this,vs,fx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var a;if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const s=this.ctx,r=this._createMaskCanvas(t,e),o=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,r.offsetX,r.offsetY),(a=this.dependencyTracker)==null||a.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+o.width,r.offsetY,r.offsetY+o.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,s=0,r=0,o,a){var d,f,p;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const u=Qt(c);c.transform(i,s,r,o,0,0);const h=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),(d=this.dependencyTracker)==null||d.resetBBox(t);for(let y=0,v=a.length;y<v;y+=2){const A=W.transform(u,[i,s,r,o,a[y],a[y+1]]);c.drawImage(h.canvas,A[4],A[5]),(f=this.dependencyTracker)==null||f.recordBBox(t,this.ctx,A[4],A[4]+h.canvas.width,A[5],A[5]+h.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var o,a,c;if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(t).recordDependencies(t,Ti.transformAndFill);for(const u of e){const{data:h,width:d,height:f,transform:p}=u,y=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=y.context;v.save();const A=this.getObject(t,h,u);AC(v,A),v.globalCompositeOperation="source-in",v.fillStyle=r?s.getPattern(v,this,bs(i),Qe.FILL,t):s,v.fillRect(0,0,d,f),v.restore(),i.save(),i.transform(...p),i.scale(1,-1),Pg(i,y.canvas,0,0,d,f,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){nt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,s,r){if(!this.contentVisible)return;const o=this.getObject(t,e);if(!o){nt("Dependent image isn't ready yet");return}const a=o.width,c=o.height,u=[];for(let h=0,d=r.length;h<d;h+=2)u.push({transform:[i,0,0,s,r[h],r[h+1]],x:0,y:0,w:a,h:c});this.paintInlineImageXObjectGroup(t,o,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,s),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t,e){var u;if(!this.contentVisible)return;const i=e.width,s=e.height,r=this.ctx;this.save(t);const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/i,-1/s);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",i,s).context;bC(d,e),a=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(a,bs(r));r.imageSmoothingEnabled=SC(Qt(r),e.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(t).recordBBox(t,r,0,i,-s,0).recordDependencies(t,Ti.imageXObject).recordOperation(t),Pg(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,i,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){var o,a,c;if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const u=e.width,h=e.height,f=this.cachedCanvases.getCanvas("inlineImage",u,h).context;bC(f,e),r=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(t);for(const u of i)s.save(),s.transform(...u.transform),s.scale(1,-1),Pg(s,r,u.x,u.y,u.w,u.h,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(t,s,0,1,-1,0),s.restore();(c=this.dependencyTracker)==null||c.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ti.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){var o,a;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const r=this.ctx;this.pendingClip?(s||(this.pendingClip===EC?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(a=this.dependencyTracker)==null||a.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Qt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:r}=this.ctx.getTransform();let o,a;if(i===0&&s===0){const c=Math.abs(e),u=Math.abs(r);if(c===u)if(t===0)o=a=1/c;else{const h=c*t;o=a=h<1?1/h:1}else if(t===0)o=1/c,a=1/u;else{const h=c*t,d=u*t;o=h<1?1/h:1,a=d<1?1/d:1}}else{const c=Math.abs(e*r-i*s),u=Math.hypot(e,i),h=Math.hypot(s,r);if(t===0)o=h/c,a=u/c;else{const d=t*c;o=h>d?h/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:s}}=this,[r,o]=this.getScaleForStroking();if(r===o){i.lineWidth=(s||1)*r,i.stroke(t);return}const a=i.getLineDash();e&&i.save(),i.scale(r,o),bw.a=1/r,bw.d=1/o;const c=new Path2D;if(c.addPath(t,bw),a.length>0){const u=Math.max(r,o);i.setLineDash(a.map(h=>h/u)),i.lineDashOffset/=u}i.lineWidth=s||1,i.stroke(c),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};vs=new WeakSet,dx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},fx=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},px=function(t,e,i){const s=new Path2D;return s.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),s};let vu=oS;for(const n in nd)vu.prototype[n]!==void 0&&(vu.prototype[nd[n]]=vu.prototype[n]);var Ku,Yu,kp,qu,o0;const cu=class cu{constructor(t){b(this,qu);b(this,Ku);b(this,Yu);b(this,kp);g(this,Ku,t),g(this,Yu,new DataView(l(this,Ku))),g(this,kp,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const u of cu.strings){const h=e.encode(t[u]);i[u]=h,s+=4+h.length}const r=new ArrayBuffer(s),o=new Uint8Array(r),a=new DataView(r);let c=0;for(const u of cu.strings){const h=i[u],d=h.length;a.setUint32(c,d),o.set(h,c+4),c+=4+d}return ft(c===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}get fontFamily(){return S(this,qu,o0).call(this,0)}get fontWeight(){return S(this,qu,o0).call(this,1)}get italicAngle(){return S(this,qu,o0).call(this,2)}};Ku=new WeakMap,Yu=new WeakMap,kp=new WeakMap,qu=new WeakSet,o0=function(t){ft(t<cu.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=l(this,Yu).getUint32(e)+4;const i=l(this,Yu).getUint32(e);return l(this,kp).decode(new Uint8Array(l(this,Ku),e+4,i))},I(cu,"strings",["fontFamily","fontWeight","italicAngle"]);let my=cu;var Ho,Fs,Rl,Ll,Kd;const uu=class uu{constructor(t){b(this,Ll);b(this,Ho);b(this,Fs);b(this,Rl);g(this,Ho,t),g(this,Fs,new DataView(l(this,Ho))),g(this,Rl,new TextDecoder)}static write(t){const e=new TextEncoder,i={};let s=0;for(const f of uu.strings){const p=e.encode(t[f]);i[f]=p,s+=4+p.length}s+=4;let r,o,a=1+s;t.style&&(r=e.encode(t.style.style),o=e.encode(t.style.weight),a+=4+r.length+4+o.length);const c=new ArrayBuffer(a),u=new Uint8Array(c),h=new DataView(c);let d=0;h.setUint8(d++,t.guessFallback?1:0),h.setUint32(d,0),d+=4,s=0;for(const f of uu.strings){const p=i[f],y=p.length;s+=4+y,h.setUint32(d,y),u.set(p,d+4),d+=4+y}return h.setUint32(d-s-4,s),t.style&&(h.setUint32(d,r.length),u.set(r,d+4),d+=4+r.length,h.setUint32(d,o.length),u.set(o,d+4),d+=4+o.length),ft(d<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(d)}get guessFallback(){return l(this,Fs).getUint8(0)!==0}get css(){return S(this,Ll,Kd).call(this,0)}get loadedName(){return S(this,Ll,Kd).call(this,1)}get baseFontName(){return S(this,Ll,Kd).call(this,2)}get src(){return S(this,Ll,Kd).call(this,3)}get style(){let t=1;t+=4+l(this,Fs).getUint32(t);const e=l(this,Fs).getUint32(t),i=l(this,Rl).decode(new Uint8Array(l(this,Ho),t+4,e));t+=4+e;const s=l(this,Fs).getUint32(t),r=l(this,Rl).decode(new Uint8Array(l(this,Ho),t+4,s));return{style:i,weight:r}}};Ho=new WeakMap,Fs=new WeakMap,Rl=new WeakMap,Ll=new WeakSet,Kd=function(t){ft(t<uu.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=l(this,Fs).getUint32(e)+4;const i=l(this,Fs).getUint32(e);return l(this,Rl).decode(new Uint8Array(l(this,Ho),e+4,i))},I(uu,"strings",["css","loadedName","baseFontName","src"]);let gy=uu;var Qu,Zu,Ju,th,Qn,Os,Pp,Pt,ue,Ki,a0,Yd;const st=class st{constructor({data:t,extra:e}){b(this,ue);b(this,Os);b(this,Pp);b(this,Pt);g(this,Os,t),g(this,Pp,new TextDecoder),g(this,Pt,new DataView(l(this,Os))),e&&Object.assign(this,e)}get black(){return S(this,ue,Ki).call(this,0)}get bold(){return S(this,ue,Ki).call(this,1)}get disableFontFace(){return S(this,ue,Ki).call(this,2)}get fontExtraProperties(){return S(this,ue,Ki).call(this,3)}get isInvalidPDFjsFont(){return S(this,ue,Ki).call(this,4)}get isType3Font(){return S(this,ue,Ki).call(this,5)}get italic(){return S(this,ue,Ki).call(this,6)}get missingFile(){return S(this,ue,Ki).call(this,7)}get remeasure(){return S(this,ue,Ki).call(this,8)}get vertical(){return S(this,ue,Ki).call(this,9)}get ascent(){return S(this,ue,a0).call(this,0)}get defaultWidth(){return S(this,ue,a0).call(this,1)}get descent(){return S(this,ue,a0).call(this,2)}get bbox(){let t=l(st,Zu);if(l(this,Pt).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<4;s++)i.push(l(this,Pt).getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=l(st,Ju);if(l(this,Pt).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<6;s++)i.push(l(this,Pt).getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=l(st,th);if(l(this,Pt).getUint8(t)===0)return;t+=1;const i=[];for(let s=0;s<3;s++)i.push(l(this,Pt).getInt16(t,!0)),t+=2;return i}get fallbackName(){return S(this,ue,Yd).call(this,0)}get loadedName(){return S(this,ue,Yd).call(this,1)}get mimetype(){return S(this,ue,Yd).call(this,2)}get name(){return S(this,ue,Yd).call(this,3)}get data(){let t=l(st,Qn);const e=l(this,Pt).getUint32(t);t+=4+e;const i=l(this,Pt).getUint32(t);t+=4+i;const s=l(this,Pt).getUint32(t);t+=4+s;const r=l(this,Pt).getUint32(t);if(r!==0)return new Uint8Array(l(this,Os),t+4,r)}clearData(){let t=l(st,Qn);const e=l(this,Pt).getUint32(t);t+=4+e;const i=l(this,Pt).getUint32(t);t+=4+i;const s=l(this,Pt).getUint32(t);t+=4+s;const r=l(this,Pt).getUint32(t);new Uint8Array(l(this,Os),t+4,r).fill(0),l(this,Pt).setUint32(t,0)}get cssFontInfo(){let t=l(st,Qn);const e=l(this,Pt).getUint32(t);t+=4+e;const i=l(this,Pt).getUint32(t);t+=4+i;const s=l(this,Pt).getUint32(t);if(s===0)return null;const r=new Uint8Array(s);return r.set(new Uint8Array(l(this,Os),t+4,s)),new my(r.buffer)}get systemFontInfo(){let t=l(st,Qn);const e=l(this,Pt).getUint32(t);t+=4+e;const i=l(this,Pt).getUint32(t);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(l(this,Os),t+4,i)),new gy(s.buffer)}static write(t){const e=t.systemFontInfo?gy.write(t.systemFontInfo):null,i=t.cssFontInfo?my.write(t.cssFontInfo):null,s=new TextEncoder,r={};let o=0;for(const v of st.strings)r[v]=s.encode(t[v]),o+=4+r[v].length;const a=l(st,Qn)+4+o+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),c=new ArrayBuffer(a),u=new Uint8Array(c),h=new DataView(c);let d=0;const f=st.bools.length;let p=0,y=0;for(let v=0;v<f;v++){const A=t[st.bools[v]];p|=(A===void 0?0:A?2:1)<<y,y+=2,(y===8||v===f-1)&&(h.setUint8(d++,p),p=0,y=0)}ft(d===l(st,Qu),"FontInfo.write: Boolean properties offset mismatch");for(const v of st.numbers)h.setFloat64(d,t[v]),d+=8;if(ft(d===l(st,Zu),"FontInfo.write: Number properties offset mismatch"),t.bbox){h.setUint8(d++,4);for(const v of t.bbox)h.setInt16(d,v,!0),d+=2}else h.setUint8(d++,0),d+=2*4;if(ft(d===l(st,Ju),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){h.setUint8(d++,6);for(const v of t.fontMatrix)h.setFloat64(d,v,!0),d+=8}else h.setUint8(d++,0),d+=8*6;if(ft(d===l(st,th),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){h.setUint8(d++,1);for(const v of t.defaultVMetrics)h.setInt16(d,v,!0),d+=2}else h.setUint8(d++,0),d+=3*2;ft(d===l(st,Qn),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(l(st,Qn),0),d+=4;for(const v of st.strings){const A=r[v],m=A.length;h.setUint32(d,m),u.set(A,d+4),d+=4+m}if(h.setUint32(l(st,Qn),d-l(st,Qn)-4),!e)h.setUint32(d,0),d+=4;else{const v=e.byteLength;h.setUint32(d,v),ft(d+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(e),d+4),d+=4+v}if(!i)h.setUint32(d,0),d+=4;else{const v=i.byteLength;h.setUint32(d,v),ft(d+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),d+4),d+=4+v}return t.data===void 0?(h.setUint32(d,0),d+=4):(h.setUint32(d,t.data.length),u.set(t.data,d+4),d+=4+t.data.length),ft(d<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(d)}};Qu=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,th=new WeakMap,Qn=new WeakMap,Os=new WeakMap,Pp=new WeakMap,Pt=new WeakMap,ue=new WeakSet,Ki=function(t){ft(t<st.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,s=l(this,Pt).getUint8(e)>>i&3;return s===0?void 0:s===2},a0=function(t){return ft(t<st.numbers.length,"Invalid number index"),l(this,Pt).getFloat64(l(st,Qu)+t*8)},Yd=function(t){ft(t<st.strings.length,"Invalid string index");let e=l(st,Qn)+4;for(let r=0;r<t;r++)e+=l(this,Pt).getUint32(e)+4;const i=l(this,Pt).getUint32(e),s=new Uint8Array(i);return s.set(new Uint8Array(l(this,Os),e+4,i)),l(this,Pp).decode(s)},I(st,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),I(st,"numbers",["ascent","defaultWidth","descent"]),I(st,"strings",["fallbackName","loadedName","mimetype","name"]),b(st,Qu,Math.ceil(st.bools.length*2/8)),b(st,Zu,l(st,Qu)+st.numbers.length*8),b(st,Ju,l(st,Zu)+1+2*4),b(st,th,l(st,Ju)+1+8*6),b(st,Qn,l(st,th)+1+2*3);let mx=st;var _p,Rp;class mi{static get workerPort(){return l(this,_p)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");g(this,_p,t)}static get workerSrc(){return l(this,Rp)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");g(this,Rp,t)}}_p=new WeakMap,Rp=new WeakMap,b(mi,_p,null),b(mi,Rp,"");var eh,Lp;class o8{constructor({parsedData:t,rawData:e}){b(this,eh);b(this,Lp);g(this,eh,t),g(this,Lp,e)}getRaw(){return l(this,Lp)}get(t){return l(this,eh).get(t)??null}[Symbol.iterator](){return l(this,eh).entries()}}eh=new WeakMap,Lp=new WeakMap;const zc=Symbol("INTERNAL");var Mp,Dp,Np,nh;class a8{constructor(t,{name:e,intent:i,usage:s,rbGroups:r}){b(this,Mp,!1);b(this,Dp,!1);b(this,Np,!1);b(this,nh,!0);g(this,Mp,!!(t&hi.DISPLAY)),g(this,Dp,!!(t&hi.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(l(this,Np))return l(this,nh);if(!l(this,nh))return!1;const{print:t,view:e}=this.usage;return l(this,Mp)?(e==null?void 0:e.viewState)!=="OFF":l(this,Dp)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==zc&&Ot("Internal method `_setVisible` called."),g(this,Np,i),g(this,nh,e)}}Mp=new WeakMap,Dp=new WeakMap,Np=new WeakMap,nh=new WeakMap;var $o,_t,ih,sh,Ip,gx;class l8{constructor(t,e=hi.DISPLAY){b(this,Ip);b(this,$o,null);b(this,_t,new Map);b(this,ih,null);b(this,sh,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,g(this,sh,t.order);for(const i of t.groups)l(this,_t).set(i.id,new a8(e,i));if(t.baseState==="OFF")for(const i of l(this,_t).values())i._setVisible(zc,!1);for(const i of t.on)l(this,_t).get(i)._setVisible(zc,!0);for(const i of t.off)l(this,_t).get(i)._setVisible(zc,!1);g(this,ih,this.getHash())}}isVisible(t){if(l(this,_t).size===0)return!0;if(!t)return mv("Optional content group not defined."),!0;if(t.type==="OCG")return l(this,_t).has(t.id)?l(this,_t).get(t.id).visible:(nt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return S(this,Ip,gx).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!l(this,_t).has(e))return nt(`Optional content group not found: ${e}`),!0;if(l(this,_t).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!l(this,_t).has(e))return nt(`Optional content group not found: ${e}`),!0;if(!l(this,_t).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!l(this,_t).has(e))return nt(`Optional content group not found: ${e}`),!0;if(!l(this,_t).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!l(this,_t).has(e))return nt(`Optional content group not found: ${e}`),!0;if(l(this,_t).get(e).visible)return!1}return!0}return nt(`Unknown optional content policy ${t.policy}.`),!0}return nt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const s=l(this,_t).get(t);if(!s){nt(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const o of s.rbGroups)for(const a of o)a!==t&&((r=l(this,_t).get(a))==null||r._setVisible(zc,!1,!0));s._setVisible(zc,!!e,!0),g(this,$o,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=l(this,_t).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!r.visible,e);break}}g(this,$o,null)}get hasInitialVisibility(){return l(this,ih)===null||this.getHash()===l(this,ih)}getOrder(){return l(this,_t).size?l(this,sh)?l(this,sh).slice():[...l(this,_t).keys()]:null}getGroup(t){return l(this,_t).get(t)||null}getHash(){if(l(this,$o)!==null)return l(this,$o);const t=new $R;for(const[e,i]of l(this,_t))t.update(`${e}:${i.visible}`);return g(this,$o,t.hexdigest())}[Symbol.iterator](){return l(this,_t).entries()}}$o=new WeakMap,_t=new WeakMap,ih=new WeakMap,sh=new WeakMap,Ip=new WeakSet,gx=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const r=t[s];let o;if(Array.isArray(r))o=S(this,Ip,gx).call(this,r);else if(l(this,_t).has(r))o=l(this,_t).get(r).visible;else return nt(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class c8{constructor(t,{disableRange:e=!1,disableStream:i=!1}){ft(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),t.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});ft(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new u8(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new h8(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class u8{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=yv(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h8{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function d8(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let h=a(e);return h=unescape(h),h=c(h),h=u(h),r(h)}if(e=o(n),e){const h=u(e);return r(h)}if(e=i("filename","i").exec(n),e){e=e[1];let h=a(e);return h=u(h),r(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=Wm(d);d=f.decode(p),t=!1}catch{}}return d}function r(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,v,A,m]=f;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[A,m]}const y=[];for(let v=0;v<d.length&&v in d;++v){let[A,m]=d[v];m=a(m),A&&(m=unescape(m),v===0&&(m=c(m))),y.push(m)}return y.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function c(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),y=h.slice(d+1).replace(/^[^']*'/,"");return s(f,y)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,A){return String.fromCharCode(parseInt(A,16))}),s(f,y);try{y=atob(y)}catch{}return s(f,y)})}return""}function iL(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function vv(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function sL({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function rL(n){const t=n.get("Content-Disposition");if(t){let e=d8(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(yv(e))return e}return null}function Ym(n,t){return new Hf(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function oL(n){return n===200||n===206}function aL(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function lL(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(nt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class f8{constructor(t){I(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=iL(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new p8(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new m8(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class p8{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,aL(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=vv(r.url),!oL(r.status))throw Ym(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:a,suggestedLength:c}=sL({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=rL(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ao("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:lL(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class m8{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const o=s.url;fetch(o,aL(r,this._withCredentials,this._abortController)).then(a=>{const c=vv(a.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!oL(a.status))throw Ym(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:lL(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Aw=200,Sw=206;function g8(n){const t=n.response;return typeof t!="string"?t:Wm(t).buffer}class y8{constructor({url:t,httpHeaders:e,withCredentials:i}){I(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=iL(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,o]of this.headers)e.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Sw):s.expectedStatus=Aw,e.responseType="arraybuffer",ft(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||Aw;if(!(r===Aw&&i.expectedStatus===Sw)&&r!==i.expectedStatus){i.onError(s.status);return}const a=g8(s);if(r===Sw){const c=s.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?i.onDone({begin:parseInt(u[1],10),chunk:a}):(nt('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone({begin:0,chunk:a}):i.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class v8{constructor(t){this._source=t,this._manager=new y8(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new w8(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new x8(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class w8{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=vv(e.responseURL);const i=e.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[c,...u]=a.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=sL({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=rL(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ym(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x8{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=vv((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=Ym(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const b8=/^[a-z][a-z0-9\-+.]+:/i;function A8(n){if(b8.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class S8{constructor(t){this.source=t,this.url=A8(t.url),ft(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new E8(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new C8(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class E8{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Ym(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ao("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C8{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const kd=Symbol("INITIAL_DATA");var Zn,Fp,yx;class cL{constructor(){b(this,Fp);b(this,Zn,Object.create(null))}get(t,e=null){if(e){const s=S(this,Fp,yx).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=l(this,Zn)[t];if(!i||i.data===kd)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=l(this,Zn)[t];return!!e&&e.data!==kd}delete(t){const e=l(this,Zn)[t];return!e||e.data===kd?!1:(delete l(this,Zn)[t],!0)}resolve(t,e=null){const i=S(this,Fp,yx).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in l(this,Zn)){const{data:i}=l(this,Zn)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}g(this,Zn,Object.create(null))}*[Symbol.iterator](){for(const t in l(this,Zn)){const{data:e}=l(this,Zn)[t];e!==kd&&(yield[t,e])}}}Zn=new WeakMap,Fp=new WeakSet,yx=function(t){var e;return(e=l(this,Zn))[t]||(e[t]={...Promise.withResolvers(),data:kd})};const T8=1e5,CC=30;var BC,Wo,Fn,Op,Bp,Ml,Lr,jp,Vp,Dl,rh,oh,Go,ah,zp,lh,Nl,Up,Hp,le,ch,Il,$p,Xo,uh,uo,uL,hL,vx,vi,l0,wx,dL,fL;let Xf=(le=class{constructor({textContentSource:t,container:e,viewport:i}){b(this,uo);b(this,Wo,Promise.withResolvers());b(this,Fn,null);b(this,Op,!1);b(this,Bp,!!((BC=globalThis.FontInspector)!=null&&BC.enabled));b(this,Ml,null);b(this,Lr,null);b(this,jp,0);b(this,Vp,0);b(this,Dl,null);b(this,rh,null);b(this,oh,0);b(this,Go,0);b(this,ah,Object.create(null));b(this,zp,[]);b(this,lh,null);b(this,Nl,[]);b(this,Up,new WeakMap);b(this,Hp,null);var c;if(t instanceof ReadableStream)g(this,lh,t);else if(typeof t=="object")g(this,lh,new ReadableStream({start(u){u.enqueue(t),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');g(this,Fn,g(this,rh,e)),g(this,Go,i.scale*ys.pixelRatio),g(this,oh,i.rotation),g(this,Lr,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:a}=i.rawDims;g(this,Hp,[1,0,0,-1,-o,a+r]),g(this,Vp,s),g(this,jp,r),S(c=le,vi,dL).call(c),Da(e,i),l(this,Wo).promise.finally(()=>{l(le,uh).delete(this),g(this,Lr,null),g(this,ah,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=He.platform;return rt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{l(this,Dl).read().then(({value:e,done:i})=>{if(i){l(this,Wo).resolve();return}l(this,Ml)??g(this,Ml,e.lang),Object.assign(l(this,ah),e.styles),S(this,uo,uL).call(this,e.items),t()},l(this,Wo).reject)};return g(this,Dl,l(this,lh).getReader()),l(le,uh).add(this),t(),l(this,Wo).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*ys.pixelRatio,s=t.rotation;if(s!==l(this,oh)&&(e==null||e(),g(this,oh,s),Da(l(this,rh),{rotation:s})),i!==l(this,Go)){e==null||e(),g(this,Go,i);const o={div:null,properties:null,ctx:S(r=le,vi,l0).call(r,l(this,Ml))};for(const a of l(this,Nl))o.properties=l(this,Up).get(a),o.div=a,S(this,uo,vx).call(this,o)}}cancel(){var e;const t=new ao("TextLayer task cancelled.");(e=l(this,Dl))==null||e.cancel(t).catch(()=>{}),g(this,Dl,null),l(this,Wo).reject(t)}get textDivs(){return l(this,Nl)}get textContentItemsStr(){return l(this,zp)}static cleanup(){if(!(l(this,uh).size>0)){l(this,ch).clear();for(const{canvas:t}of l(this,Il).values())t.remove();l(this,Il).clear()}}},Wo=new WeakMap,Fn=new WeakMap,Op=new WeakMap,Bp=new WeakMap,Ml=new WeakMap,Lr=new WeakMap,jp=new WeakMap,Vp=new WeakMap,Dl=new WeakMap,rh=new WeakMap,oh=new WeakMap,Go=new WeakMap,ah=new WeakMap,zp=new WeakMap,lh=new WeakMap,Nl=new WeakMap,Up=new WeakMap,Hp=new WeakMap,ch=new WeakMap,Il=new WeakMap,$p=new WeakMap,Xo=new WeakMap,uh=new WeakMap,uo=new WeakSet,uL=function(t){var s,r;if(l(this,Op))return;(r=l(this,Lr)).ctx??(r.ctx=S(s=le,vi,l0).call(s,l(this,Ml)));const e=l(this,Nl),i=l(this,zp);for(const o of t){if(e.length>T8){nt("Ignoring additional textDivs for performance reasons."),g(this,Op,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,Fn);g(this,Fn,document.createElement("span")),l(this,Fn).classList.add("markedContent"),o.id&&l(this,Fn).setAttribute("id",`${o.id}`),a.append(l(this,Fn))}else o.type==="endMarkedContent"&&g(this,Fn,l(this,Fn).parentNode);continue}i.push(o.str),S(this,uo,hL).call(this,o)}},hL=function(t){var v;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};l(this,Nl).push(e);const s=W.transform(l(this,Hp),t.transform);let r=Math.atan2(s[1],s[0]);const o=l(this,ah)[t.fontName];o.vertical&&(r+=Math.PI/2);let a=l(this,Bp)&&o.fontSubstitution||o.fontFamily;a=le.fontFamilyMap.get(a)||a;const c=Math.hypot(s[2],s[3]),u=c*S(v=le,vi,fL).call(v,a,o,l(this,Ml));let h,d;r===0?(h=s[4],d=s[5]-u):(h=s[4]+u*Math.sin(r),d=s[5]-u*Math.cos(r));const f="calc(var(--total-scale-factor) *",p=e.style;l(this,Fn)===l(this,rh)?(p.left=`${(100*h/l(this,Vp)).toFixed(2)}%`,p.top=`${(100*d/l(this,jp)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(l(le,Xo)*c).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,l(this,Bp)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),m=Math.abs(t.transform[3]);A!==m&&Math.max(A,m)/Math.min(A,m)>1.5&&(y=!0)}if(y&&(i.canvasWidth=o.vertical?t.height:t.width),l(this,Up).set(e,i),l(this,Lr).div=e,l(this,Lr).properties=i,S(this,uo,vx).call(this,l(this,Lr)),i.hasText&&l(this,Fn).append(e),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),l(this,Fn).append(A)}},vx=function(t){var a;const{div:e,properties:i,ctx:s}=t,{style:r}=e;let o="";if(l(le,Xo)>1&&(o=`scale(${1/l(le,Xo)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=r,{canvasWidth:u,fontSize:h}=i;S(a=le,vi,wx).call(a,s,h*l(this,Go),c);const{width:d}=s.measureText(e.textContent);d>0&&(o=`scaleX(${u*l(this,Go)/d}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},vi=new WeakSet,l0=function(t=null){let e=l(this,Il).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Il).set(t,e),l(this,$p).set(e,{size:0,family:""})}return e},wx=function(t,e,i){const s=l(this,$p).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},dL=function(){if(l(this,Xo)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),g(this,Xo,t.getBoundingClientRect().height),t.remove()},fL=function(t,e,i){const s=l(this,ch).get(t);if(s)return s;const r=S(this,vi,l0).call(this,i);r.canvas.width=r.canvas.height=CC,S(this,vi,wx).call(this,r,CC,t);const o=r.measureText(""),a=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let u=.8;return a?u=a/(a+c):(He.platform.isFirefox&&nt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?u=e.ascent:e.descent&&(u=1+e.descent)),l(this,ch).set(t,u),u},b(le,vi),b(le,ch,new Map),b(le,Il,new Map),b(le,$p,new WeakMap),b(le,Xo,null),b(le,uh,new Set),le);const k8=100;function qA(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new xx,{docId:e}=t,i=n.url?IB(n.url):null,s=n.data?FB(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,c=n.range instanceof QA?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof id?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Xm(n.docBaseUrl)?n.docBaseUrl:null,p=Eg(n.cMapUrl),y=n.cMapPacked!==!1,v=n.CMapReaderFactory||(An?HB:hC),A=Eg(n.iccUrl),m=Eg(n.standardFontDataUrl),w=n.StandardFontDataFactory||(An?$B:dC),x=Eg(n.wasmUrl),E=n.WasmFactory||(An?WB:fC),C=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!An,M=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!An&&(He.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:An,B=n.fontExtraProperties===!0,K=n.enableXfa===!0,U=n.ownerDocument||globalThis.document,Z=n.disableRange===!0,V=n.disableStream===!0,F=n.disableAutoFetch===!0,N=n.pdfBug===!0,z=n.CanvasFactory||(An?UB:jB),Y=n.FilterFactory||(An?zB:VB),dt=n.enableHWA===!0,Q=n.useWasm!==!1,lt=c?c.length:n.length??NaN,Lt=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!An&&!D,de=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(v===hC&&w===dC&&E===fC&&p&&m&&x&&Od(p,document.baseURI)&&Od(m,document.baseURI)&&Od(x,document.baseURI)),$t=null;gB(d);const yt={canvasFactory:new z({ownerDocument:U,enableHWA:dt}),filterFactory:new Y({docId:e,ownerDocument:U}),cMapReaderFactory:de?null:new v({baseUrl:p,isCompressed:y}),standardFontDataFactory:de?null:new w({baseUrl:m}),wasmFactory:de?null:new E({baseUrl:x})};h||(h=id.create({verbosity:d,port:mi.workerPort}),t._worker=h);const fo={docId:e,apiVersion:"5.4.296",data:s,password:a,disableAutoFetch:F,rangeChunkSize:u,length:lt,docBaseUrl:f,enableXfa:K,evaluatorOptions:{maxImageSize:T,disableFontFace:D,ignoreErrors:C,isEvalSupported:_,isOffscreenCanvasSupported:R,isImageDecoderSupported:M,canvasMaxAreaInBytes:L,fontExtraProperties:B,useSystemFonts:Lt,useWasm:Q,useWorkerFetch:de,cMapUrl:p,iccUrl:A,standardFontDataUrl:m,wasmUrl:x}},Wn={ownerDocument:U,pdfBug:N,styleElement:$t,loadingParams:{disableAutoFetch:F,enableXfa:K}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Mt=h.messageHandler.sendWithPromise("GetDocRequest",fo,s?[s.buffer]:null);let Gn;if(c)Gn=new c8(c,{disableRange:Z,disableStream:V});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const or=Od(i)?f8:An?S8:v8;Gn=new or({url:i,length:lt,httpHeaders:r,withCredentials:o,rangeChunkSize:u,disableRange:Z,disableStream:V})}return Mt.then(or=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const vt=new Hd(e,or,h.port),Wt=new R8(vt,t,Gn,Wn,yt,dt);t._transport=Wt,vt.send("Ready",null)})}).catch(t._capability.reject),t}var My;const Dy=class Dy{constructor(){I(this,"_capability",Promise.withResolvers());I(this,"_transport",null);I(this,"_worker",null);I(this,"docId",`d${Ee(Dy,My)._++}`);I(this,"destroyed",!1);I(this,"onPassword",null);I(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};My=new WeakMap,b(Dy,My,0);let xx=Dy;var Fl,Wp,Gp,Xp,Kp,jC;let QA=(jC=class{constructor(t,e,i=!1,s=null){b(this,Fl,Promise.withResolvers());b(this,Wp,[]);b(this,Gp,[]);b(this,Xp,[]);b(this,Kp,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(t){l(this,Kp).push(t)}addProgressListener(t){l(this,Xp).push(t)}addProgressiveReadListener(t){l(this,Gp).push(t)}addProgressiveDoneListener(t){l(this,Wp).push(t)}onDataRange(t,e){for(const i of l(this,Kp))i(t,e)}onDataProgress(t,e){l(this,Fl).promise.then(()=>{for(const i of l(this,Xp))i(t,e)})}onDataProgressiveRead(t){l(this,Fl).promise.then(()=>{for(const e of l(this,Gp))e(t)})}onDataProgressiveDone(){l(this,Fl).promise.then(()=>{for(const t of l(this,Wp))t()})}transportReady(){l(this,Fl).resolve()}requestDataRange(t,e){Ot("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Fl=new WeakMap,Wp=new WeakMap,Gp=new WeakMap,Xp=new WeakMap,Kp=new WeakMap,jC);class P8{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return rt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Mr,Ol,qd;class _8{constructor(t,e,i,s=!1){b(this,Ol);b(this,Mr,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new sC:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new cL,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new Gm({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return rt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:s="display",annotationMode:r=Ys.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:y=null}){var M,L,D;(M=this._stats)==null||M.time("Overall");const v=this._transport.getRenderingIntent(s,r,d,f),{renderingIntent:A,cacheKey:m}=v;g(this,Mr,!1),c||(c=this._transport.getOptionalContentConfig(A));let w=this._intentStates.get(m);w||(w=Object.create(null),this._intentStates.set(m,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(A&hi.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(v));const E=!!(this._pdfBug&&((D=globalThis.StepperManager)!=null&&D.enabled)),C=!this.recordedBBoxes&&(p||E),T=B=>{var K,U;if(w.renderTasks.delete(_),C){const Z=(K=_.gfx)==null?void 0:K.dependencyTracker.take();Z&&(_.stepper&&_.stepper.setOperatorBBoxes(Z,_.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=Z))}x&&g(this,Mr,!0),S(this,Ol,qd).call(this),B?(_.capability.reject(B),this._abortOperatorList({intentState:w,reason:B instanceof Error?B:new Error(B)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(U=globalThis.Stats)!=null&&U.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new bx({callback:T,params:{canvas:e,canvasContext:t,dependencyTracker:C?new XB(e,w.operatorList.length,E):null,viewport:i,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:y});(w.renderTasks||(w.renderTasks=new Set)).add(_);const R=_.task;return Promise.all([w.displayReadyCapability.promise,c]).then(([B,K])=>{var U;if(this.destroyed){T();return}if((U=this._stats)==null||U.time("Rendering"),!(K.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:B,optionalContentConfig:K}),_.operatorListChanged()}).catch(T),R}getOperatorList({intent:t="display",annotationMode:e=Ys.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var u;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(t,e,i,s,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>$f.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function r(){o.read().then(function({value:c,done:u}){if(u){i(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),r()},s)}const o=e.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),g(this,Mr,!1),Promise.all(t)}cleanup(t=!1){g(this,Mr,!0);const e=S(this,Ol,qd).call(this);return t&&e&&this._stats&&(this._stats=new sC),e}_startRenderPage(t,e){var s,r;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&S(this,Ol,qd).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:o}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:s},o).getReader(),u=this._intentStates.get(e);u.streamReader=c;const h=()=>{c.read().then(({value:d,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,u),h())},d=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();S(this,Ol,qd).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(d);else if(u.opListReadCapability)u.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof gv){let s=k8;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new ao(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Mr=new WeakMap,Ol=new WeakSet,qd=function(){if(!l(this,Mr)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),g(this,Mr,!1),!0};var Ko,is,Dr,Bl,Ny,jl,Vl,En,c0,pL,mL,Qd,hh,u0;const Gt=class Gt{constructor({name:t=null,port:e=null,verbosity:i=yB()}={}){b(this,En);b(this,Ko,Promise.withResolvers());b(this,is,null);b(this,Dr,null);b(this,Bl,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(l(Gt,Vl).has(e))throw new Error("Cannot use more than one PDFWorker per port.");l(Gt,Vl).set(e,this),S(this,En,pL).call(this,e)}else S(this,En,mL).call(this)}get promise(){return l(this,Ko).promise}get port(){return l(this,Dr)}get messageHandler(){return l(this,is)}destroy(){var t,e;this.destroyed=!0,(t=l(this,Bl))==null||t.terminate(),g(this,Bl,null),l(Gt,Vl).delete(l(this,Dr)),g(this,Dr,null),(e=l(this,is))==null||e.destroy(),g(this,is,null)}static create(t){const e=l(this,Vl).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Gt(t)}static get workerSrc(){if(mi.workerSrc)return mi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return rt(this,"_setupFakeWorkerGlobal",(async()=>l(this,hh,u0)?l(this,hh,u0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ko=new WeakMap,is=new WeakMap,Dr=new WeakMap,Bl=new WeakMap,Ny=new WeakMap,jl=new WeakMap,Vl=new WeakMap,En=new WeakSet,c0=function(){l(this,Ko).resolve(),l(this,is).send("configure",{verbosity:this.verbosity})},pL=function(t){g(this,Dr,t),g(this,is,new Hd("main","worker",t)),l(this,is).on("ready",()=>{}),S(this,En,c0).call(this)},mL=function(){if(l(Gt,jl)||l(Gt,hh,u0)){S(this,En,Qd).call(this);return}let{workerSrc:t}=Gt;try{Gt._isSameOrigin(window.location,t)||(t=Gt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Hd("main","worker",e),s=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?l(this,Ko).reject(new Error("Worker was destroyed")):S(this,En,Qd).call(this)},r=new AbortController;e.addEventListener("error",()=>{l(this,Bl)||s()},{signal:r.signal}),i.on("test",a=>{if(r.abort(),this.destroyed||!a){s();return}g(this,is,i),g(this,Dr,e),g(this,Bl,e),S(this,En,c0).call(this)}),i.on("ready",a=>{if(r.abort(),this.destroyed){s();return}try{o()}catch{S(this,En,Qd).call(this)}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{mv("The worker has been disabled.")}S(this,En,Qd).call(this)},Qd=function(){l(Gt,jl)||(nt("Setting up fake worker."),g(Gt,jl,!0)),Gt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){l(this,Ko).reject(new Error("Worker was destroyed"));return}const e=new BB;g(this,Dr,e);const i=`fake${Ee(Gt,Ny)._++}`,s=new Hd(i+"_worker",i,e);t.setup(s,e),g(this,is,new Hd(i,i+"_worker",e)),S(this,En,c0).call(this)}).catch(t=>{l(this,Ko).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},hh=new WeakSet,u0=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},b(Gt,hh),b(Gt,Ny,0),b(Gt,jl,!1),b(Gt,Vl,new WeakMap),An&&(g(Gt,jl,!0),mi.workerSrc||(mi.workerSrc="./pdf.worker.mjs")),Gt._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(e,i);return i.origin===s.origin},Gt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Gt.fromPort=t=>{if(TB("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Gt.create(t)};let id=Gt;var Nr,Bs,dh,fh,Ir,zl,Zd;class R8{constructor(t,e,i,s,r,o){b(this,zl);b(this,Nr,new Map);b(this,Bs,new Map);b(this,dh,new Map);b(this,fh,new Map);b(this,Ir,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new cL,this.fontLoader=new DB({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return rt(this,"annotationStorage",new XA)}getRenderingIntent(t,e=Ys.ENABLE,i=null,s=!1,r=!1){let o=hi.DISPLAY,a=sx;switch(t){case"any":o=hi.ANY;break;case"display":break;case"print":o=hi.PRINT;break;default:nt(`getRenderingIntent - invalid intent: ${t}`)}const c=o&hi.PRINT&&i instanceof GR?i:this.annotationStorage;switch(e){case Ys.DISABLE:o+=hi.ANNOTATIONS_DISABLE;break;case Ys.ENABLE:break;case Ys.ENABLE_FORMS:o+=hi.ANNOTATIONS_FORMS;break;case Ys.ENABLE_STORAGE:o+=hi.ANNOTATIONS_STORAGE,a=c.serializable;break;default:nt(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(o+=hi.IS_EDITING),r&&(o+=hi.OPLIST);const{ids:u,hash:h}=c.modifiedIds,d=[o,a.hash,h];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=l(this,Ir))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of l(this,Bs).values())t.push(s._destroy());l(this,Bs).clear(),l(this,dh).clear(),l(this,fh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,Nr).clear(),this.filterFactory.destroy(),Xf.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ao("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){s.close();return}ft(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:o}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=e.onProgress)==null||u.call(e,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(i,s)=>{ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){s.close();return}ft(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{r.cancel(o),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new P8(i,this))}),t.on("DocException",i=>{e._capability.reject(Rn(i))}),t.on("PasswordRequest",i=>{g(this,Ir,Promise.withResolvers());try{if(!e.onPassword)throw Rn(i);const s=r=>{r instanceof Error?l(this,Ir).reject(r):l(this,Ir).resolve({password:r})};e.onPassword(s,i.code)}catch(s){l(this,Ir).reject(s)}return l(this,Ir).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;l(this,Bs).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const d=r.error;nt(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}const a=new mx(r),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,u=new NB(a,c,r.extra,r.charProcOperatorList);this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:h}=r;ft(h,"The imageRef must be defined.");for(const d of l(this,Bs).values())for(const[,f]of d.objs)if((f==null?void 0:f.ref)===h)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,r,o])=>{var c;if(this.destroyed)return;const a=l(this,Bs).get(s);if(!a.objs.has(i)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(r){case"Image":case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&nt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=l(this,dh).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,fh).set(r.refStr,t);const o=new _8(e,r,this,this._params.pdfBug);return l(this,Bs).set(e,o),o});return l(this,dh).set(e,s),s}getPageIndex(t){return rx(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return S(this,zl,Zd).call(this,"GetFieldObjects")}hasJSActions(){return S(this,zl,Zd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return S(this,zl,Zd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return S(this,zl,Zd).call(this,"GetOptionalContentConfig").then(e=>new l8(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=l(this,Nr).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,o;return{info:s[0],metadata:s[1]?new o8(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,Nr).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of l(this,Bs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),l(this,Nr).clear(),this.filterFactory.destroy(!0),Xf.cleanup()}}cachedPageNumber(t){if(!rx(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return l(this,fh).get(e)??null}}Nr=new WeakMap,Bs=new WeakMap,dh=new WeakMap,fh=new WeakMap,Ir=new WeakMap,zl=new WeakSet,Zd=function(t,e=null){const i=l(this,Nr).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return l(this,Nr).set(t,s),s};var Yo;class L8{constructor(t){b(this,Yo,null);I(this,"onContinue",null);I(this,"onError",null);g(this,Yo,t)}get promise(){return l(this,Yo).capability.promise}cancel(t=0){l(this,Yo).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=l(this,Yo).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=l(this,Yo);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Yo=new WeakMap;var qo,Ul;const Za=class Za{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:y=null}){b(this,qo,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new L8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=p,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,u;if(this.cancelled)return;if(this._canvas){if(l(Za,Ul).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Za,Ul).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:r,dependencyTracker:o}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new vu(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(t=null,e=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),l(this,qo)&&(window.cancelAnimationFrame(l(this,qo)),g(this,qo,null)),l(Za,Ul).delete(this._canvas),t||(t=new gv(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(s=this.task).onError)==null||r.call(s,t)}operatorListChanged(){var t,e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.gfx.dependencyTracker)==null||t.growOperationsCount(this.operatorList.fnArray.length),(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?g(this,qo,window.requestAnimationFrame(()=>{g(this,qo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Za,Ul).delete(this._canvas),this.callback())))}};qo=new WeakMap,Ul=new WeakMap,b(Za,Ul,new WeakSet);let bx=Za;const gL="5.4.296",yL="f56dc8601";var Jn,Hl,ph,ke,Yp,mh,Fr,qp,Qo,ss,Qp,Rt,Ax,Sx,Ex,Ka,vL,wo;const Ln=class Ln{constructor({editor:t=null,uiManager:e=null}){b(this,Rt);b(this,Jn,null);b(this,Hl,null);b(this,ph);b(this,ke,null);b(this,Yp,!1);b(this,mh,!1);b(this,Fr,null);b(this,qp);b(this,Qo,null);b(this,ss,null);var i,s;t?(g(this,mh,!1),g(this,Fr,t)):g(this,mh,!0),g(this,ss,(t==null?void 0:t._uiManager)||e),g(this,qp,l(this,ss)._eventBus),g(this,ph,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((s=l(this,ss))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),l(Ln,Qp)||g(Ln,Qp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return rt(this,"_keyboardManager",new Km([[["Escape","mac+Escape"],Ln.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ln.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ln.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ln.prototype._moveToPrevious],[["Home","mac+Home"],Ln.prototype._moveToBeginning],[["End","mac+End"],Ln.prototype._moveToEnd]]))}renderButton(){const t=g(this,Jn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",l(this,Fr)&&(t.ariaControls=`${l(this,Fr).id}_colorpicker_dropdown`);const e=l(this,ss)._signal;t.addEventListener("click",S(this,Rt,Ka).bind(this),{signal:e}),t.addEventListener("keydown",S(this,Rt,Ex).bind(this),{signal:e});const i=g(this,Hl,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=l(this,ph),t.append(i),t}renderMainDropdown(){const t=g(this,ke,S(this,Rt,Ax).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===l(this,Jn)){S(this,Rt,Ka).call(this,t);return}const e=t.target.getAttribute("data-color");e&&S(this,Rt,Sx).call(this,e,t)}_moveToNext(t){var e,i;if(!l(this,Rt,wo)){S(this,Rt,Ka).call(this,t);return}if(t.target===l(this,Jn)){(e=l(this,ke).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=l(this,ke))==null?void 0:e.firstChild)||t.target===l(this,Jn)){l(this,Rt,wo)&&this._hideDropdownFromKeyboard();return}l(this,Rt,wo)||S(this,Rt,Ka).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!l(this,Rt,wo)){S(this,Rt,Ka).call(this,t);return}(e=l(this,ke).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!l(this,Rt,wo)){S(this,Rt,Ka).call(this,t);return}(e=l(this,ke).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=l(this,ke))==null||t.classList.add("hidden"),l(this,Jn).ariaExpanded="false",(e=l(this,Qo))==null||e.abort(),g(this,Qo,null)}_hideDropdownFromKeyboard(){var t;if(!l(this,mh)){if(!l(this,Rt,wo)){(t=l(this,Fr))==null||t.unselect();return}this.hideDropdown(),l(this,Jn).focus({preventScroll:!0,focusVisible:l(this,Yp)})}}updateColor(t){if(l(this,Hl)&&(l(this,Hl).style.backgroundColor=t),!l(this,ke))return;const e=l(this,ss).highlightColors.values();for(const i of l(this,ke).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=l(this,Jn))==null||t.remove(),g(this,Jn,null),g(this,Hl,null),(e=l(this,ke))==null||e.remove(),g(this,ke,null)}};Jn=new WeakMap,Hl=new WeakMap,ph=new WeakMap,ke=new WeakMap,Yp=new WeakMap,mh=new WeakMap,Fr=new WeakMap,qp=new WeakMap,Qo=new WeakMap,ss=new WeakMap,Qp=new WeakMap,Rt=new WeakSet,Ax=function(){const t=document.createElement("div"),e=l(this,ss)._signal;t.addEventListener("contextmenu",bi,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,Fr)&&(t.id=`${l(this,Fr).id}_colorpicker_dropdown`);for(const[i,s]of l(this,ss).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",l(Ln,Qp)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=s,r.ariaSelected=s===l(this,ph),r.addEventListener("click",S(this,Rt,Sx).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",S(this,Rt,Ex).bind(this),{signal:e}),t},Sx=function(t,e){e.stopPropagation(),l(this,qp).dispatch("switchannotationeditorparams",{source:this,type:ht.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},Ex=function(t){Ln._keyboardManager.exec(this,t)},Ka=function(t){if(l(this,Rt,wo)){this.hideDropdown();return}if(g(this,Yp,t.detail===0),l(this,Qo)||(g(this,Qo,new AbortController),window.addEventListener("pointerdown",S(this,Rt,vL).bind(this),{signal:l(this,ss).combinedSignal(l(this,Qo))})),l(this,Jn).ariaExpanded="true",l(this,ke)){l(this,ke).classList.remove("hidden");return}const e=g(this,ke,S(this,Rt,Ax).call(this));l(this,Jn).append(e)},vL=function(t){var e;(e=l(this,ke))!=null&&e.contains(t.target)||this.hideDropdown()},wo=function(){return l(this,ke)&&!l(this,ke).classList.contains("hidden")},b(Ln,Qp,null);let Kf=Ln;var js,Zp,gh,Jp;const Ja=class Ja{constructor(t){b(this,js,null);b(this,Zp,null);b(this,gh,null);g(this,Zp,t),g(this,gh,t._uiManager),l(Ja,Jp)||g(Ja,Jp,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,js))return l(this,js);const{editorType:t,colorType:e,colorValue:i}=l(this,Zp),s=g(this,js,document.createElement("input"));return s.type="color",s.value=i||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",l(Ja,Jp)[t]),s.addEventListener("input",()=>{l(this,gh).updateParams(e,s.value)},{signal:l(this,gh)._signal}),s}update(t){l(this,js)&&(l(this,js).value=t)}destroy(){var t;(t=l(this,js))==null||t.remove(),g(this,js,null)}hideDropdown(){}};js=new WeakMap,Zp=new WeakMap,gh=new WeakMap,Jp=new WeakMap,b(Ja,Jp,null);let yy=Ja;function TC(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Pd(n){return Math.max(0,Math.min(255,255*n))}class kC{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Pd(t),[t,t,t]}static G_HTML([t]){const e=TC(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Pd)}static RGB_HTML(t){return`#${t.map(TC).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[Pd(1-Math.min(1,t+s)),Pd(1-Math.min(1,i+s)),Pd(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,r=1-e,o=1-i,a=Math.min(s,r,o);return["CMYK",s,r,o,a]}}class M8{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ot("Abstract method `_createSVG` called.")}}class Yf extends M8{_createSVG(t){return document.createElementNS(ar,t)}}const D8=9,Cc=new WeakSet,N8=new Date().getTimezoneOffset()*60*1e3;class PC{static create(t){switch(t.data.annotationType){case fe.LINK:return new ZA(t);case fe.TEXT:return new F8(t);case fe.WIDGET:switch(t.data.fieldType){case"Tx":return new O8(t);case"Btn":return t.data.radioButton?new bL(t):t.data.checkBox?new j8(t):new V8(t);case"Ch":return new z8(t);case"Sig":return new B8(t)}return new Lc(t);case fe.POPUP:return new Tx(t);case fe.FREETEXT:return new TL(t);case fe.LINE:return new H8(t);case fe.SQUARE:return new $8(t);case fe.CIRCLE:return new W8(t);case fe.POLYLINE:return new kL(t);case fe.CARET:return new X8(t);case fe.INK:return new JA(t);case fe.POLYGON:return new G8(t);case fe.HIGHLIGHT:return new PL(t);case fe.UNDERLINE:return new K8(t);case fe.SQUIGGLY:return new Y8(t);case fe.STRIKEOUT:return new q8(t);case fe.STAMP:return new _L(t);case fe.FILEATTACHMENT:return new Q8(t);default:return new ie(t)}}}var $l,yh,Fi,tm,Cx;const aS=class aS{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){b(this,tm);b(this,$l,null);b(this,yh,!1);b(this,Fi,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return aS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:t}=this,e=(i=this.annotationStorage)==null?void 0:i.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var a;const t=(a=this.annotationStorage)==null?void 0:a.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:s}=this.data;let r=-1/0,o=-1/0;if((e==null?void 0:e.length)>=8){for(let c=0;c<e.length;c+=8)e[c+1]>o?(o=e[c+1],r=e[c+2]):e[c+1]===o&&(r=Math.max(r,e[c+2]));return[r,o]}if((i==null?void 0:i.length)>=1){for(const c of i)for(let u=0,h=c.length;u<h;u+=2)c[u+1]>o?(o=c[u+1],r=c[u]):c[u+1]===o&&(r=Math.max(r,c[u]));if(r!==1/0)return[r,o]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/i,t[1]=100*(t[1]-o)/s,t}get commentText(){var e,i,s;const{data:t}=this;return((i=(e=this.annotationStorage.getRawValue(`${Uf}${t.id}`))==null?void 0:e.popup)==null?void 0:i.contents)||((s=t.contentsObj)==null?void 0:s.str)||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Uf}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;(e=((t=l(this,Fi))==null?void 0:t.popup)||this.popup)==null||e.remove(),g(this,Fi,this.popup=null)}updateEdited(t){var r;if(!this.container)return;t.rect&&(l(this,$l)||g(this,$l,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&S(this,tm,Cx).call(this,e);let s=((r=l(this,Fi))==null?void 0:r.popup)||this.popup;!s&&(i!=null&&i.text)&&(this._createPopup(i),s=l(this,Fi).popup),s&&(s.updateEdited(t),i!=null&&i.deleted&&(s.remove(),g(this,Fi,null),this.popup=null))}resetEdited(){var t;l(this,$l)&&(S(this,tm,Cx).call(this,l(this,$l).rect),(t=l(this,Fi))==null||t.popup.resetEdited(),g(this,$l,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof Lc)&&!(this instanceof ZA)&&(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof Tx){const{rotation:v}=e;return!e.hasOwnCanvas&&v!==0&&this.setRotation(v,r),r}const{width:a,height:c}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const v=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(v>0||A>0){const w=`calc(${v}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof bL){const w=`calc(${a}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=w}switch(e.borderStyle.style){case Fc.SOLID:o.borderStyle="solid";break;case Fc.DASHED:o.borderStyle="dashed";break;case Fc.BEVELED:nt("Unimplemented border style: beveled");break;case Fc.INSET:nt("Unimplemented border style: inset");break;case Fc.UNDERLINE:o.borderBottomStyle="solid";break}const m=e.borderColor||null;m?(g(this,yh,!0),o.borderColor=W.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const u=W.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(u[0]-f)/h}%`,o.top=`${100*(u[1]-p)/d}%`;const{rotation:y}=e;return e.hasOwnCanvas||y===0?(o.width=`${100*a/h}%`,o.height=`${100*c/d}%`):this.setRotation(y,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:o}=this;t%180!==0&&([r,o]=[o,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*o/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const r=s.detail[e],o=r[0],a=r.slice(1);s.target.style[i]=kC[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:kC[`${o}_rgb`](a)})};return rt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||i[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,r]of Object.entries(e)){const o=i[s];if(o){const a={detail:{[s]:r},target:t};o(a),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,r]=this.data.rect.map(v=>Math.fround(v));if(t.length===8){const[v,A,m,w]=t.subarray(2,6);if(s===v&&r===A&&e===m&&i===w)return}const{style:o}=this.container;let a;if(l(this,yh)){const{borderColor:v,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const c=s-e,u=r-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,A=t.length;v<A;v+=8){const m=t[v],w=t[v+1],x=t[v+2],E=t[v+3],C=h.createElement("rect"),T=(x-e)/c,_=(r-w)/u,R=(m-x)/c,M=(w-E)/u;C.setAttribute("x",T),C.setAttribute("y",_),C.setAttribute("width",R),C.setAttribute("height",M),p.append(C),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${_}" width="${R}" height="${M}"/>`)}l(this,yh)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(t=null){const{data:e}=this;let i,s;t?(i={str:t.text},s=t.date):(i=e.contentsObj,s=e.modificationDate);const r=g(this,Fi,new Tx({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(l(this,Fi)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,Fi)}render(){Ot("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:o,exportValues:a}of s){if(r===-1||o===e)continue;const c=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Cc.has(u)){nt(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:c,domElement:u})}return i}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,o=s.getAttribute("data-element-id");o!==e&&Cc.has(s)&&i.push({id:o,exportValue:r,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};$l=new WeakMap,yh=new WeakMap,Fi=new WeakMap,tm=new WeakSet,Cx=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:c}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-a)/r}%`,e.top=`${100*(o-t[3]+c)/o}%`,s===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(s)};let ie=aS;class I8 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var pi,Ya,wL,xL;class ZA extends ie{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});b(this,pi);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),r=!0):e.attachment?(S(this,pi,wL).call(this,s,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(S(this,pi,xL).call(this,s,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,i,s=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&S(this,pi,Ya).call(this),s&&(e.title=s)}_bindNamedAction(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),s&&(e.title=s),S(this,pi,Ya).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(e[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),S(this,pi,Ya).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),S(this,pi,Ya).call(this),!this._fieldObjects){nt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var d;s==null||s();const{fields:r,refs:o,include:a}=i,c=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const y=this._fieldObjects[p]||[];for(const{id:v}of y)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===a&&c.push(y)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,h=[];for(const f of c){const{id:p}=f;switch(h.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Cc.has(y)){nt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}pi=new WeakSet,Ya=function(){this.container.setAttribute("data-internal-link","")},wL=function(e,i,s="",r=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:s&&(e.title=s),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},S(this,pi,Ya).call(this)},xL=function(e,i,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),s&&(e.title=s),S(this,pi,Ya).call(this)};class F8 extends ie{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Lc extends ie{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return He.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,r){i.includes("mouse")?t.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var a;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o)}}))})}_setEventListeners(t,e,i,s){var r,o,a;for(const[c,u]of i)(u==="Action"||(r=this.data.actions)!=null&&r[u])&&((u==="Focus"||u==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,c,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":W.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||D8,r=t.style;let o;const a=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(u/(gw*s))||1,d=u/h;o=Math.min(s,c(d/gw))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(s,c(u/gw))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=W.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class O8 extends Lc{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),r.setValue(o.id,{[s]:i})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let a=o.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Cc.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:p}=this.data,y=!!f&&this.enableScripting;d&&(i.title=d),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",A=>{const m=this.data.defaultFieldValue??"";i.value=h.userValue=m,h.formattedValue=null});let v=A=>{const{formattedValue:m}=h;m!=null&&(A.target.value=m),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",m=>{var x;if(h.focused)return;const{target:w}=m;if(y&&(w.type=f,p&&(w.step=p)),h.userValue){const E=h.userValue;if(y)if(f==="time"){const C=new Date(E),T=[C.getHours(),C.getMinutes(),C.getSeconds()];w.value=T.map(_=>_.toString().padStart(2,"0")).join(":")}else w.value=new Date(E-N8).toISOString().split(f==="date"?"T":".",1)[0];else w.value=E}h.lastCommittedValue=w.value,h.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const w={value(x){h.userValue=x.detail.value??"",y||t.setValue(e,{value:h.userValue.toString()}),x.target.value=h.userValue},formattedValue(x){const{formattedValue:E}=x.detail;h.formattedValue=E,E!=null&&x.target!==document.activeElement&&(x.target.value=E);const C={formattedValue:E};y&&(C.value=E),t.setValue(e,C)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var _;const{charLimit:E}=x.detail,{target:C}=x;if(E===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",E);let T=h.userValue;!T||T.length<=E||(T=T.slice(0,E),C.value=h.userValue=T,t.setValue(e,{value:T}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(w,m)}),i.addEventListener("keydown",m=>{var E;h.commitKey=1;let w=-1;if(m.key==="Escape"?w=0:m.key==="Enter"&&!this.data.multiLine?w=2:m.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:x}=m.target;h.lastCommittedValue!==x&&(h.lastCommittedValue=x,h.userValue=x,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const A=v;v=null,i.addEventListener("blur",m=>{var E,C;if(!h.focused||!m.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(h.focused=!1);const{target:w}=m;let{value:x}=w;if(y){if(x&&f==="time"){const T=x.split(":").map(_=>parseInt(_,10));x=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),w.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();w.type="text"}h.userValue=x,h.lastCommittedValue!==x&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),A(m)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",m=>{var M;h.lastCommittedValue=null;const{data:w,target:x}=m,{value:E,selectionStart:C,selectionEnd:T}=x;let _=C,R=T;switch(m.inputType){case"deleteWordBackward":{const L=E.substring(0,C).match(/\w*[^\w]*$/);L&&(_-=L[0].length);break}case"deleteWordForward":{const L=E.substring(C).match(/^[^\w]*\w*/);L&&(R+=L[0].length);break}case"deleteContentBackward":C===T&&(_-=1);break;case"deleteContentForward":C===T&&(R+=1);break}m.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,change:w||"",willCommit:!1,selStart:_,selEnd:R}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(v&&i.addEventListener("blur",v),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class B8 extends Lc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class j8 extends Lc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Cc.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,i)){const h=c&&u.exportValue===e.exportValue;u.domElement&&(u.domElement.checked=h),t.setValue(u.id,{value:h})}t.setValue(i,{value:c})}),r.addEventListener("resetform",o=>{const a=e.defaultFieldValue||"Off";o.target.checked=a===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class bL extends Lc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(Cc.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,i))t.setValue(u.id,{value:!1});t.setValue(i,{value:c})}),r.addEventListener("resetform",o=>{const a=e.defaultFieldValue;o.target.checked=a!=null&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",a=>{const c={value:u=>{const h=o===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class V8 extends ZA{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class z8 extends Lc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");Cc.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),r=!1),s.append(d)}let o=null;if(r){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),o=()=>{h.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let c=a(!1);const u=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const v of s.options)v.selected=y.has(v.value);t.setValue(e,{value:a(!0)}),c=a(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,y=f.detail.remove;p[y].selected=!1,s.remove(y),p.length>0&&Array.prototype.findIndex.call(p,A=>A.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:a(!0),items:u(f)}),c=a(!1)},clear(f){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),c=a(!1)},insert(f){const{index:p,displayValue:y,exportValue:v}=f.detail.insert,A=s.children[p],m=document.createElement("option");m.textContent=y,m.value=v,A?A.before(m):s.append(m),t.setValue(e,{value:a(!0),items:u(f)}),c=a(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const y of p){const{displayValue:v,exportValue:A}=y,m=document.createElement("option");m.textContent=v,m.value=A,s.append(m)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:a(!0),items:u(f)}),c=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);t.setValue(e,{value:a(!0)}),c=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),s.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);t.setValue(e,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:c,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var em,kx;class Tx extends ie{constructor(e){const{data:i,elements:s,parent:r}=e,o=!!r._commentManager;super(e,{isRenderable:!o&&ie._hasPopupData(i)});b(this,em);if(this.elements=s,o&&ie._hasPopupData(i)){const a=this.popup=S(this,em,kx).call(this);for(const c of s)c.popup=a}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const i=this.popup=S(this,em,kx).call(this),s=[];for(const r of this.elements)r.popup=i,r.container.ariaHasPopup="dialog",s.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(r=>`${$A}${r}`).join(",")),this.container}}em=new WeakSet,kx=function(){return new U8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ti,Zo,Iy,Fy,vh,wh,ae,Vs,Jo,Wl,xh,bh,zs,ei,Or,Br,Ne,jr,ta,nm,Vr,Ah,Gl,ea,un,na,at,h0,Px,_x,Rx,d0,Lx,AL,SL,EL,CL,f0,p0,Mx;class U8{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:r,contentsObj:o,richText:a,parent:c,rect:u,parentRect:h,open:d,commentManager:f=null}){b(this,at);b(this,ti,null);b(this,Zo,S(this,at,EL).bind(this));b(this,Iy,S(this,at,Mx).bind(this));b(this,Fy,S(this,at,p0).bind(this));b(this,vh,S(this,at,f0).bind(this));b(this,wh,null);b(this,ae,null);b(this,Vs,null);b(this,Jo,null);b(this,Wl,null);b(this,xh,null);b(this,bh,null);b(this,zs,!1);b(this,ei,null);b(this,Or,null);b(this,Br,null);b(this,Ne,null);b(this,jr,null);b(this,ta,null);b(this,nm,null);b(this,Vr,null);b(this,Ah,null);b(this,Gl,null);b(this,ea,!1);b(this,un,null);b(this,na,null);g(this,ae,t),g(this,Ah,s),g(this,Vs,o),g(this,Vr,a),g(this,xh,c),g(this,wh,e),g(this,nm,u),g(this,bh,h),g(this,Wl,i),g(this,ti,f),g(this,un,i[0]),g(this,Jo,Wf.toDateObject(r)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(S(this,at,h0).call(this),l(this,ae).hidden=!0,d&&S(this,at,f0).call(this))}renderCommentButton(){if(l(this,Ne)||(l(this,jr)||S(this,at,Px).call(this),!l(this,jr)))return;const{signal:t}=g(this,Or,new AbortController),e=!!l(this,un).extraPopupElement,i=()=>{l(this,ti).toggleCommentPopup(this,!0,void 0,!e)},s=()=>{l(this,ti).toggleCommentPopup(this,!1,!0,!e)},r=()=>{l(this,ti).toggleCommentPopup(this,!1,!1)};if(e){g(this,Ne,l(this,un).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",l(this,Zo),{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",s,{signal:t}),o.addEventListener("pointerleave",r,{signal:t}),o.classList.add("popupTriggerArea")}else{const o=g(this,Ne,document.createElement("button"));o.className="annotationCommentButton";const a=l(this,un).container;o.style.zIndex=a.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),S(this,at,Rx).call(this),S(this,at,_x).call(this),o.addEventListener("keydown",l(this,Zo),{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",s,{signal:t}),o.addEventListener("pointerleave",r,{signal:t}),a.after(o)}}get commentButtonColor(){const{color:t,opacity:e}=l(this,un).commentData;return t?l(this,xh)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;(t=l(this,Ne))==null||t.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}=l(this,un).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:s,modificationDate:r}}get elementBeforePopup(){return l(this,Ne)}get comment(){return l(this,na)||g(this,na,l(this,un).commentText),l(this,na)}set comment(t){t!==this.comment&&(l(this,un).commentText=g(this,na,t))}get parentBoundingClientRect(){return l(this,un).layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){l(this,Ne)&&(l(this,Ne).classList.toggle("selected",t),l(this,Ne).ariaExpanded=e)}setSelectedCommentButton(t){l(this,Ne).classList.toggle("selected",t)}get commentPopupPosition(){if(l(this,ta))return l(this,ta);const{x:t,y:e,height:i}=l(this,Ne).getBoundingClientRect(),{x:s,y:r,width:o,height:a}=l(this,un).layer.getBoundingClientRect();return[(t-s)/o,(e+i-r)/a]}set commentPopupPosition(t){g(this,ta,t)}hasDefaultPopupPosition(){return l(this,ta)===null}get commentButtonPosition(){return l(this,jr)}get commentButtonWidth(){return l(this,Ne).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=l(this,ta)||this.commentButtonPosition.map(u=>u/100),s=this.parentBoundingClientRect,{x:r,y:o,width:a,height:c}=s;l(this,ti).showDialog(null,this,r+e*a,o+i*c,{...t,parentDimensions:s})}render(){var i,s;if(l(this,ei))return;const t=g(this,ei,document.createElement("div"));if(t.className="popup",l(this,wh)){const r=t.style.outlineColor=W.makeHexColor(...l(this,wh));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",(i=l(this,Ah))!=null&&i.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=l(this,Ah)}if(t.append(e),l(this,Jo)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Jo).valueOf()})),r.dateTime=l(this,Jo).toISOString(),e.append(r)}GA({html:l(this,at,d0)||l(this,Vs).str,dir:(s=l(this,Vs))==null?void 0:s.dir,className:"popupContent"},t),l(this,ae).append(t)}updateEdited({rect:t,popup:e,deleted:i}){var s;if(l(this,ti)){i?(this.remove(),g(this,na,null)):e&&(e.deleted?this.remove():(S(this,at,Rx).call(this),g(this,na,e.text))),t&&(g(this,jr,null),S(this,at,Px).call(this),S(this,at,_x).call(this));return}if(i||e!=null&&e.deleted){this.remove();return}S(this,at,h0).call(this),l(this,Gl)||g(this,Gl,{contentsObj:l(this,Vs),richText:l(this,Vr)}),t&&g(this,Br,null),e&&e.text&&(g(this,Vr,S(this,at,SL).call(this,e.text)),g(this,Jo,Wf.toDateObject(e.date)),g(this,Vs,null)),(s=l(this,ei))==null||s.remove(),g(this,ei,null)}resetEdited(){var t;l(this,Gl)&&({contentsObj:Ee(this,Vs)._,richText:Ee(this,Vr)._}=l(this,Gl),g(this,Gl,null),(t=l(this,ei))==null||t.remove(),g(this,ei,null),g(this,Br,null))}remove(){var t,e,i;if((t=l(this,Or))==null||t.abort(),g(this,Or,null),(e=l(this,ei))==null||e.remove(),g(this,ei,null),g(this,ea,!1),g(this,zs,!1),(i=l(this,Ne))==null||i.remove(),g(this,Ne,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){g(this,ea,this.isVisible),l(this,ea)&&(l(this,ae).hidden=!0)}maybeShow(){l(this,ti)||(S(this,at,h0).call(this),l(this,ea)&&(l(this,ei)||S(this,at,p0).call(this),g(this,ea,!1),l(this,ae).hidden=!1))}get isVisible(){return l(this,ti)?!1:l(this,ae).hidden===!1}}ti=new WeakMap,Zo=new WeakMap,Iy=new WeakMap,Fy=new WeakMap,vh=new WeakMap,wh=new WeakMap,ae=new WeakMap,Vs=new WeakMap,Jo=new WeakMap,Wl=new WeakMap,xh=new WeakMap,bh=new WeakMap,zs=new WeakMap,ei=new WeakMap,Or=new WeakMap,Br=new WeakMap,Ne=new WeakMap,jr=new WeakMap,ta=new WeakMap,nm=new WeakMap,Vr=new WeakMap,Ah=new WeakMap,Gl=new WeakMap,ea=new WeakMap,un=new WeakMap,na=new WeakMap,at=new WeakSet,h0=function(){var e;if(l(this,Or))return;g(this,Or,new AbortController);const{signal:t}=l(this,Or);for(const i of this.trigger)i.addEventListener("click",l(this,vh),{signal:t}),i.addEventListener("pointerenter",l(this,Fy),{signal:t}),i.addEventListener("pointerleave",l(this,Iy),{signal:t}),i.classList.add("popupTriggerArea");for(const i of l(this,Wl))(e=i.container)==null||e.addEventListener("keydown",l(this,Zo),{signal:t})},Px=function(){const t=l(this,Wl).find(e=>e.hasCommentButton);t&&g(this,jr,t._normalizePoint(t.commentButtonPosition))},_x=function(){if(l(this,un).extraPopupElement&&!l(this,un).editor)return;this.renderCommentButton();const[t,e]=l(this,jr),{style:i}=l(this,Ne);i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`},Rx=function(){l(this,un).extraPopupElement||(this.renderCommentButton(),l(this,Ne).style.backgroundColor=this.commentButtonColor||"")},d0=function(){const t=l(this,Vr),e=l(this,Vs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&l(this,Vr).html||null},Lx=function(){var t,e,i;return((i=(e=(t=l(this,at,d0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},AL=function(){var t,e,i;return((i=(e=(t=l(this,at,d0))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},SL=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:l(this,at,AL),fontSize:l(this,at,Lx)?`calc(${l(this,at,Lx)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return i},EL=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&l(this,zs))&&S(this,at,f0).call(this)},CL=function(){if(l(this,Br)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:r}}}=l(this,xh);let o=!!l(this,bh),a=o?l(this,bh):l(this,nm);for(const y of l(this,Wl))if(!a||W.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const c=W.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),h=o?a[2]-a[0]+5:0,d=c[0]+h,f=c[1];g(this,Br,[100*(d-s)/e,100*(f-r)/i]);const{style:p}=l(this,ae);p.left=`${l(this,Br)[0]}%`,p.top=`${l(this,Br)[1]}%`},f0=function(){if(l(this,ti)){l(this,ti).toggleCommentPopup(this,!1);return}g(this,zs,!l(this,zs)),l(this,zs)?(S(this,at,p0).call(this),l(this,ae).addEventListener("click",l(this,vh)),l(this,ae).addEventListener("keydown",l(this,Zo))):(S(this,at,Mx).call(this),l(this,ae).removeEventListener("click",l(this,vh)),l(this,ae).removeEventListener("keydown",l(this,Zo)))},p0=function(){l(this,ei)||this.render(),this.isVisible?l(this,zs)&&l(this,ae).classList.add("focused"):(S(this,at,CL).call(this),l(this,ae).hidden=!1,l(this,ae).style.zIndex=parseInt(l(this,ae).style.zIndex)+1e3)},Mx=function(){l(this,ae).classList.remove("focused"),!(l(this,zs)||!this.isVisible)&&(l(this,ae).hidden=!0,l(this,ae).style.zIndex=parseInt(l(this,ae).style.zIndex)-1e3)};class TL extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=et.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var im;class H8 extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,im,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=g(this,im,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,im)}addHighlightArea(){this.container.classList.add("highlightArea")}}im=new WeakMap;var sm;class $8 extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,sm,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,a=g(this,sm,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",s-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,sm)}addHighlightArea(){this.container.classList.add("highlightArea")}}sm=new WeakMap;var rm;class W8 extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,rm,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),o=e.borderStyle.width,a=g(this,rm,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",s/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",s/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,rm)}addHighlightArea(){this.container.classList.add("highlightArea")}}rm=new WeakMap;var om;class kL extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,om,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:r},width:o,height:a}=this;if(!i)return this.container;const c=this.svgFactory.create(o,a,!0);let u=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-e[0],y=e[3]-i[d+1];u.push(`${p},${y}`)}u=u.join(" ");const h=g(this,om,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,om)}addHighlightArea(){this.container.classList.add("highlightArea")}}om=new WeakMap;class G8 extends kL{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class X8 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var am,Xl,lm,Dx;class JA extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,lm);b(this,am,null);b(this,Xl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?et.HIGHLIGHT:et.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:s,borderStyle:r,popupRef:o}}=this,{transform:a,width:c,height:u}=S(this,lm,Dx).call(this,i,e),h=this.svgFactory.create(c,u,!0),d=g(this,am,this.svgFactory.createElement("svg:g"));h.append(d),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let f=0,p=s.length;f<p;f++){const y=this.svgFactory.createElement(this.svgElementName);l(this,Xl).push(y),y.setAttribute("points",s[f].join(",")),d.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:s,rect:r}=e,o=l(this,am);if(i>=0&&o.setAttribute("stroke-width",i||1),s)for(let a=0,c=l(this,Xl).length;a<c;a++)l(this,Xl)[a].setAttribute("points",s[a].join(","));if(r){const{transform:a,width:c,height:u}=S(this,lm,Dx).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return l(this,Xl)}addHighlightArea(){this.container.classList.add("highlightArea")}}am=new WeakMap,Xl=new WeakMap,lm=new WeakSet,Dx=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class PL extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=et.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class K8 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Y8 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class q8 extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class _L extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=et.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var cm,um,Nx;class Q8 extends ie{constructor(e){var s;super(e,{isRenderable:!0});b(this,um);b(this,cm,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",S(this,um,Nx).bind(this)),g(this,cm,s);const{isMac:r}=He.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&S(this,um,Nx).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return l(this,cm)}addHighlightArea(){this.container.classList.add("highlightArea")}}cm=new WeakMap,um=new WeakSet,Nx=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Sh,Kl,Eh,ia,hm,Yl,Fa,Ix,Fx,Ch;let tS=(Ch=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:o,structTreeLayer:a,commentManager:c,linkService:u,annotationStorage:h}){b(this,Fa);b(this,Sh,null);b(this,Kl,null);b(this,Eh,null);b(this,ia,new Map);b(this,hm,null);b(this,Yl,null);this.div=t,g(this,Sh,e),g(this,Kl,i),g(this,hm,a||null),g(this,Yl,u||null),g(this,Eh,h||new XA),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=c||null}hasEditableAnnotations(){return l(this,ia).size>0}async render(t){var o,a,c;const{annotations:e}=t,i=this.div;Da(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:l(this,Yl),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Yf,annotationStorage:l(this,Eh),enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===fe.POPUP;if(h){const p=s.get(u.id);if(!p)continue;r.elements=p}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;r.data=u;const d=PC.create(r);if(!d.isRenderable)continue;if(!h&&u.popupRef){const p=s.get(u.popupRef);p?p.push(d):s.set(u.popupRef,[d])}const f=d.render();u.hidden&&(f.style.visibility="hidden"),await S(this,Fa,Ix).call(this,f,u.id,r.elements),(a=(o=d.extraPopupElement)==null?void 0:o.popup)==null||a.renderCommentButton(),d._isEditable&&(l(this,ia).set(d.data.id,d),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(d))}S(this,Fa,Fx).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:l(this,Yl),svgFactory:new Yf,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=Ch._defaultBorderStyle),e.data=i;const s=PC.create(e);if(!s.isRenderable)continue;const r=s.render();await S(this,Fa,Ix).call(this,r,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Da(e,{rotation:t.rotation}),S(this,Fa,Fx).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(l(this,ia).values())}getEditableAnnotation(t){return l(this,ia).get(t)}addFakeAnnotation(t){var a;const{div:e}=this,{id:i,rotation:s}=t,r=new I8({data:{id:i,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:l(this,Yl),annotationStorage:l(this,Eh)}),o=r.render();return e.append(o),(a=l(this,Sh))==null||a.moveElementInDOM(e,o,o,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return rt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Fc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Sh=new WeakMap,Kl=new WeakMap,Eh=new WeakMap,ia=new WeakMap,hm=new WeakMap,Yl=new WeakMap,Fa=new WeakSet,Ix=async function(t,e,i){var a,c;const s=t.firstChild||t,r=s.id=`${$A}${e}`,o=await((a=l(this,hm))==null?void 0:a.getAriaAttributes(r));if(o)for(const[u,h]of o)s.setAttribute(u,h);i?i.at(-1).container.after(t):(this.div.append(t),(c=l(this,Sh))==null||c.moveElementInDOM(this.div,t,s,!1))},Fx=function(){var e;if(!l(this,Kl))return;const t=this.div;for(const[i,s]of l(this,Kl)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s);const a=l(this,ia).get(i);a&&(a._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,s),a._hasNoCanvas=!1):a.canvas=s)}l(this,Kl).clear()},Ch);const Rg=/\r\n?|\n/g;var ni,dm,ql,ii,be,RL,LL,ML,m0,eo,g0,y0,DL,Bx,NL;const Ut=class Ut extends Vt{constructor(e){super({...e,name:"freeTextEditor"});b(this,be);b(this,ni,"");b(this,dm,`${this.id}-editor`);b(this,ql,null);b(this,ii);I(this,"_colorPicker",null);this.color=e.color||Ut._defaultColor||Vt._defaultLineColor,g(this,ii,e.fontSize||Ut._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=Ut.prototype,i=o=>o.isEmpty(),s=Na.TRANSLATE_SMALL,r=Na.TRANSLATE_BIG;return rt(this,"_keyboardManager",new Km([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){Vt.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ht.FREETEXT_SIZE:Ut._defaultFontSize=i;break;case ht.FREETEXT_COLOR:Ut._defaultColor=i;break}}updateParams(e,i){switch(e){case ht.FREETEXT_SIZE:S(this,be,RL).call(this,i);break;case ht.FREETEXT_COLOR:S(this,be,LL).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ht.FREETEXT_SIZE,Ut._defaultFontSize],[ht.FREETEXT_COLOR,Ut._defaultColor||Vt._defaultLineColor]]}get propertiesToUpdate(){return[[ht.FREETEXT_SIZE,l(this,ii)],[ht.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new yy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ht.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ut._internalPadding*e,-(Ut._internalPadding+l(this,ii))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),g(this,ql,new AbortController);const e=this._uiManager.combinedSignal(l(this,ql));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,dm)),this._isDraggable=!0,(e=l(this,ql))==null||e.abort(),g(this,ql,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=l(this,ni),i=g(this,ni,S(this,be,ML).call(this).trimEnd());if(e===i)return;const s=r=>{if(g(this,ni,r),!r){this.remove();return}S(this,be,y0).call(this),this._uiManager.rebuild(this),S(this,be,m0).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),S(this,be,m0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ut._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,dm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${l(this,ii)}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let y,v;switch(this.rotation){case 0:y=e+(a[0]-f)/h,v=i+this.height-(a[1]-p)/d;break;case 90:y=e+(a[0]-f)/h,v=i-(a[1]-p)/d,[c,u]=[u,-c];break;case 180:y=e-this.width+(a[0]-f)/h,v=i-(a[1]-p)/d,[c,u]=[-c,-u];break;case 270:y=e+(a[0]-f-this.height*d)/h,v=i+(a[1]-p-this.width*h)/d,[c,u]=[-u,c];break}this.setAt(y*r,v*o,c,u)}else this._moveAfterPaste(e,i);S(this,be,y0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var y,v,A;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=S(y=Ut,eo,Bx).call(y,i.getData("text")||"").replaceAll(Rg,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=a,h=[],d=[];if(c.nodeType===Node.TEXT_NODE){const m=c.parentElement;if(d.push(c.nodeValue.slice(u).replaceAll(Rg,"")),m!==this.editorDiv){let w=h;for(const x of this.editorDiv.childNodes){if(x===m){w=d;continue}w.push(S(v=Ut,eo,g0).call(v,x))}}h.push(c.nodeValue.slice(0,u).replaceAll(Rg,""))}else if(c===this.editorDiv){let m=h,w=0;for(const x of this.editorDiv.childNodes)w++===u&&(m=d),m.push(S(A=Ut,eo,g0).call(A,x))}g(this,ni,`${h.join(`
`)}${r}${d.join(`
`)}`),S(this,be,y0).call(this);const f=new Range;let p=Math.sumPrecise(h.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const w=m.nodeValue.length;if(p<=w){f.setStart(m,p),f.setEnd(m,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ut._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,i,s){var a;let r=null;if(e instanceof TL){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:h,rotation:d,id:f,popupRef:p,richText:y,contentsObj:v,creationDate:A,modificationDate:m},textContent:w,textPosition:x,parent:{page:{pageNumber:E}}}=e;if(!w||w.length===0)return null;r=e={annotationType:et.FREETEXT,color:Array.from(u),fontSize:c,value:w.join(`
`),position:x,pageIndex:E-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(v==null?void 0:v.str)||null,richText:y,creationDate:A,modificationDate:m}}const o=await super.deserialize(e,i,s);return g(o,ii,e.fontSize),o.color=W.makeHexColor(...e.color),g(o,ni,S(a=Ut,eo,Bx).call(a,e.value)),o._initialData=r,e.comment&&o.setCommentData(e),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Vt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:i,fontSize:l(this,ii),value:S(this,be,DL).call(this)});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!S(this,be,NL).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(!i)return null;const{style:s}=i;s.fontSize=`calc(${l(this,ii)}px * var(--total-scale-factor))`,s.color=this.color,i.replaceChildren();for(const r of l(this,ni).split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),i.append(o)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,ni)}}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ni=new WeakMap,dm=new WeakMap,ql=new WeakMap,ii=new WeakMap,be=new WeakSet,RL=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-l(this,ii))*this.parentScale),g(this,ii,r),S(this,be,m0).call(this)},s=l(this,ii);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},LL=function(e){const i=r=>{this.color=r,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ML=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(S(s=Ut,eo,g0).call(s,r)),i=r);return e.join(`
`)},m0=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},eo=new WeakSet,g0=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Rg,"")},y0=function(){if(this.editorDiv.replaceChildren(),!!l(this,ni))for(const e of l(this,ni).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},DL=function(){return l(this,ni).replaceAll(""," ")},Bx=function(e){return e.replaceAll(" ","")},NL=function(e){const{value:i,fontSize:s,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((a,c)=>a!==r[c])||e.pageIndex!==o},b(Ut,eo),I(Ut,"_freeTextDefaultContent",""),I(Ut,"_internalPadding",0),I(Ut,"_defaultColor",null),I(Ut,"_defaultFontSize",10),I(Ut,"_type","freetext"),I(Ut,"_editorType",et.FREETEXT);let Ox=Ut;class ${toSVGPath(){Ot("Abstract method `toSVGPath` must be implemented.")}get box(){Ot("Abstract getter `box` must be implemented.")}serialize(t,e){Ot("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,s,r,o){o||(o=new Float32Array(t.length));for(let a=0,c=t.length;a<c;a+=2)o[a]=e+t[a]*s,o[a+1]=i+t[a+1]*r;return o}static _rescaleAndSwap(t,e,i,s,r,o){o||(o=new Float32Array(t.length));for(let a=0,c=t.length;a<c;a+=2)o[a]=e+t[a+1]*s,o[a+1]=i+t[a]*r;return o}static _translate(t,e,i,s){s||(s=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)s[r]=e+t[r],s[r+1]=i+t[r+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,s,r){switch(r){case 90:return[1-e/i,t/s];case 180:return[1-t/i,1-e/s];case 270:return[e/i,1-t/s];default:return[t/i,e/s]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,s,r,o){return[(t+5*i)/6,(e+5*s)/6,(5*i+r)/6,(5*s+o)/6,(i+r)/2,(s+o)/2]}}I($,"PRECISION",1e-4);var si,rs,Th,kh,Us,ct,Ql,Zl,fm,pm,Ph,_h,sa,mm,Oy,By,Le,Jd,IL,FL,OL,BL,jL,VL;const dr=class dr{constructor({x:t,y:e},i,s,r,o,a=0){b(this,Le);b(this,si);b(this,rs,[]);b(this,Th);b(this,kh);b(this,Us,[]);b(this,ct,new Float32Array(18));b(this,Ql);b(this,Zl);b(this,fm);b(this,pm);b(this,Ph);b(this,_h);b(this,sa,[]);g(this,si,i),g(this,_h,r*s),g(this,kh,o),l(this,ct).set([NaN,NaN,NaN,NaN,t,e],6),g(this,Th,a),g(this,pm,l(dr,mm)*s),g(this,fm,l(dr,By)*s),g(this,Ph,s),l(this,sa).push(t,e)}isEmpty(){return isNaN(l(this,ct)[8])}add({x:t,y:e}){var M;g(this,Ql,t),g(this,Zl,e);const[i,s,r,o]=l(this,si);let[a,c,u,h]=l(this,ct).subarray(8,12);const d=t-u,f=e-h,p=Math.hypot(d,f);if(p<l(this,fm))return!1;const y=p-l(this,pm),v=y/p,A=v*d,m=v*f;let w=a,x=c;a=u,c=h,u+=A,h+=m,(M=l(this,sa))==null||M.push(t,e);const E=-m/y,C=A/y,T=E*l(this,_h),_=C*l(this,_h);return l(this,ct).set(l(this,ct).subarray(2,8),0),l(this,ct).set([u+T,h+_],4),l(this,ct).set(l(this,ct).subarray(14,18),12),l(this,ct).set([u-T,h-_],16),isNaN(l(this,ct)[6])?(l(this,Us).length===0&&(l(this,ct).set([a+T,c+_],2),l(this,Us).push(NaN,NaN,NaN,NaN,(a+T-i)/r,(c+_-s)/o),l(this,ct).set([a-T,c-_],14),l(this,rs).push(NaN,NaN,NaN,NaN,(a-T-i)/r,(c-_-s)/o)),l(this,ct).set([w,x,a,c,u,h],6),!this.isEmpty()):(l(this,ct).set([w,x,a,c,u,h],6),Math.abs(Math.atan2(x-c,w-a)-Math.atan2(m,A))<Math.PI/2?([a,c,u,h]=l(this,ct).subarray(2,6),l(this,Us).push(NaN,NaN,NaN,NaN,((a+u)/2-i)/r,((c+h)/2-s)/o),[a,c,w,x]=l(this,ct).subarray(14,18),l(this,rs).push(NaN,NaN,NaN,NaN,((w+a)/2-i)/r,((x+c)/2-s)/o),!0):([w,x,a,c,u,h]=l(this,ct).subarray(0,6),l(this,Us).push(((w+5*a)/6-i)/r,((x+5*c)/6-s)/o,((5*a+u)/6-i)/r,((5*c+h)/6-s)/o,((a+u)/2-i)/r,((c+h)/2-s)/o),[u,h,a,c,w,x]=l(this,ct).subarray(12,18),l(this,rs).push(((w+5*a)/6-i)/r,((x+5*c)/6-s)/o,((5*a+u)/6-i)/r,((5*c+h)/6-s)/o,((a+u)/2-i)/r,((c+h)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=l(this,Us),e=l(this,rs);if(isNaN(l(this,ct)[6])&&!this.isEmpty())return S(this,Le,IL).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);S(this,Le,OL).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return S(this,Le,FL).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,r,o){return new zL(t,e,i,s,r,o)}getOutlines(){var d;const t=l(this,Us),e=l(this,rs),i=l(this,ct),[s,r,o,a]=l(this,si),c=new Float32Array((((d=l(this,sa))==null?void 0:d.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(l(this,sa)[f]-s)/o,c[f+1]=(l(this,sa)[f+1]-r)/a;if(c[c.length-2]=(l(this,Ql)-s)/o,c[c.length-1]=(l(this,Zl)-r)/a,isNaN(i[6])&&!this.isEmpty())return S(this,Le,BL).call(this,c);const u=new Float32Array(l(this,Us).length+24+l(this,rs).length);let h=t.length;for(let f=0;f<h;f+=2){if(isNaN(t[f])){u[f]=u[f+1]=NaN;continue}u[f]=t[f],u[f+1]=t[f+1]}h=S(this,Le,VL).call(this,u,h);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=e[f+p],u[h+1]=e[f+p+1],h+=2}return S(this,Le,jL).call(this,u,h),this.newFreeDrawOutline(u,c,l(this,si),l(this,Ph),l(this,Th),l(this,kh))}};si=new WeakMap,rs=new WeakMap,Th=new WeakMap,kh=new WeakMap,Us=new WeakMap,ct=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,fm=new WeakMap,pm=new WeakMap,Ph=new WeakMap,_h=new WeakMap,sa=new WeakMap,mm=new WeakMap,Oy=new WeakMap,By=new WeakMap,Le=new WeakSet,Jd=function(){const t=l(this,ct).subarray(4,6),e=l(this,ct).subarray(16,18),[i,s,r,o]=l(this,si);return[(l(this,Ql)+(t[0]-e[0])/2-i)/r,(l(this,Zl)+(t[1]-e[1])/2-s)/o,(l(this,Ql)+(e[0]-t[0])/2-i)/r,(l(this,Zl)+(e[1]-t[1])/2-s)/o]},IL=function(){const[t,e,i,s]=l(this,si),[r,o,a,c]=S(this,Le,Jd).call(this);return`M${(l(this,ct)[2]-t)/i} ${(l(this,ct)[3]-e)/s} L${(l(this,ct)[4]-t)/i} ${(l(this,ct)[5]-e)/s} L${r} ${o} L${a} ${c} L${(l(this,ct)[16]-t)/i} ${(l(this,ct)[17]-e)/s} L${(l(this,ct)[14]-t)/i} ${(l(this,ct)[15]-e)/s} Z`},FL=function(t){const e=l(this,rs);t.push(`L${e[4]} ${e[5]} Z`)},OL=function(t){const[e,i,s,r]=l(this,si),o=l(this,ct).subarray(4,6),a=l(this,ct).subarray(16,18),[c,u,h,d]=S(this,Le,Jd).call(this);t.push(`L${(o[0]-e)/s} ${(o[1]-i)/r} L${c} ${u} L${h} ${d} L${(a[0]-e)/s} ${(a[1]-i)/r}`)},BL=function(t){const e=l(this,ct),[i,s,r,o]=l(this,si),[a,c,u,h]=S(this,Le,Jd).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-s)/o,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-s)/o,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-s)/o,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-s)/o],0),this.newFreeDrawOutline(d,t,l(this,si),l(this,Ph),l(this,Th),l(this,kh))},jL=function(t,e){const i=l(this,rs);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},VL=function(t,e){const i=l(this,ct).subarray(4,6),s=l(this,ct).subarray(16,18),[r,o,a,c]=l(this,si),[u,h,d,f]=S(this,Le,Jd).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-o)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[0]-r)/a,(s[1]-o)/c],e),e+=24},b(dr,mm,8),b(dr,Oy,2),b(dr,By,l(dr,mm)+l(dr,Oy));let vy=dr;var Rh,Jl,zr,gm,ri,ym,me,jy,UL;class zL extends ${constructor(e,i,s,r,o,a){super();b(this,jy);b(this,Rh);b(this,Jl,new Float32Array(4));b(this,zr);b(this,gm);b(this,ri);b(this,ym);b(this,me);g(this,me,e),g(this,ri,i),g(this,Rh,s),g(this,ym,r),g(this,zr,o),g(this,gm,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],S(this,jy,UL).call(this,a);const[c,u,h,d]=l(this,Jl);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-c)/h,e[f+1]=(e[f+1]-u)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-c)/h,i[f+1]=(i[f+1]-u)/d}toSVGPath(){const e=[`M${l(this,me)[4]} ${l(this,me)[5]}`];for(let i=6,s=l(this,me).length;i<s;i+=6){if(isNaN(l(this,me)[i])){e.push(`L${l(this,me)[i+4]} ${l(this,me)[i+5]}`);continue}e.push(`C${l(this,me)[i]} ${l(this,me)[i+1]} ${l(this,me)[i+2]} ${l(this,me)[i+3]} ${l(this,me)[i+4]} ${l(this,me)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,r],o){const a=s-e,c=r-i;let u,h;switch(o){case 0:u=$._rescale(l(this,me),e,r,a,-c),h=$._rescale(l(this,ri),e,r,a,-c);break;case 90:u=$._rescaleAndSwap(l(this,me),e,i,a,c),h=$._rescaleAndSwap(l(this,ri),e,i,a,c);break;case 180:u=$._rescale(l(this,me),s,i,-a,c),h=$._rescale(l(this,ri),s,i,-a,c);break;case 270:u=$._rescaleAndSwap(l(this,me),s,r,-a,-c),h=$._rescaleAndSwap(l(this,ri),s,r,-a,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return l(this,Jl)}newOutliner(e,i,s,r,o,a=0){return new vy(e,i,s,r,o,a)}getNewOutline(e,i){const[s,r,o,a]=l(this,Jl),[c,u,h,d]=l(this,Rh),f=o*h,p=a*d,y=s*h+c,v=r*d+u,A=this.newOutliner({x:l(this,ri)[0]*f+y,y:l(this,ri)[1]*p+v},l(this,Rh),l(this,ym),e,l(this,gm),i??l(this,zr));for(let m=2;m<l(this,ri).length;m+=2)A.add({x:l(this,ri)[m]*f+y,y:l(this,ri)[m+1]*p+v});return A.getOutlines()}}Rh=new WeakMap,Jl=new WeakMap,zr=new WeakMap,gm=new WeakMap,ri=new WeakMap,ym=new WeakMap,me=new WeakMap,jy=new WeakSet,UL=function(e){const i=l(this,me);let s=i[4],r=i[5];const o=[s,r,s,r];let a=s,c=r,u=s,h=r;const d=e?Math.max:Math.min,f=new Float32Array(4);for(let y=6,v=i.length;y<v;y+=6){const A=i[y+4],m=i[y+5];isNaN(i[y])?(W.pointBoundingBox(A,m,o),c>m?(a=A,c=m):c===m&&(a=d(a,A)),h<m?(u=A,h=m):h===m&&(u=d(u,A))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,W.bezierBoundingBox(s,r,...i.slice(y,y+6),f),W.rectBoundingBox(f[0],f[1],f[2],f[3],o),c>f[1]?(a=f[0],c=f[1]):c===f[1]&&(a=d(a,f[0])),h<f[3]?(u=f[2],h=f[3]):h===f[3]&&(u=d(u,f[2]))),s=A,r=m}const p=l(this,Jl);p[0]=o[0]-l(this,zr),p[1]=o[1]-l(this,zr),p[2]=o[2]-o[0]+2*l(this,zr),p[3]=o[3]-o[1]+2*l(this,zr),this.firstPoint=[a,c],this.lastPoint=[u,h]};var vm,wm,xm,ra,os,kn,HL,v0,$L,WL,Vx;class jx{constructor(t,e=0,i=0,s=!0){b(this,kn);b(this,vm);b(this,wm);b(this,xm);b(this,ra,[]);b(this,os,[]);const r=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:v,y:A,width:m,height:w}of t){const x=Math.floor((v-e)/o)*o,E=Math.ceil((v+m+e)/o)*o,C=Math.floor((A-e)/o)*o,T=Math.ceil((A+w+e)/o)*o,_=[x,C,T,!0],R=[E,C,T,!1];l(this,ra).push(_,R),W.rectBoundingBox(x,C,E,T,r)}const a=r[2]-r[0]+2*i,c=r[3]-r[1]+2*i,u=r[0]-i,h=r[1]-i;let d=s?-1/0:1/0,f=1/0;const p=l(this,ra).at(s?-1:-2),y=[p[0],p[2]];for(const v of l(this,ra)){const[A,m,w,x]=v;!x&&s?m<f?(f=m,d=A):m===f&&(d=Math.max(d,A)):x&&!s&&(m<f?(f=m,d=A):m===f&&(d=Math.min(d,A))),v[0]=(A-u)/a,v[1]=(m-h)/c,v[2]=(w-h)/c}g(this,vm,new Float32Array([u,h,a,c])),g(this,wm,[d,f]),g(this,xm,y)}getOutlines(){l(this,ra).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of l(this,ra))e[3]?(t.push(...S(this,kn,Vx).call(this,e)),S(this,kn,$L).call(this,e)):(S(this,kn,WL).call(this,e),t.push(...S(this,kn,Vx).call(this,e)));return S(this,kn,HL).call(this,t)}}vm=new WeakMap,wm=new WeakMap,xm=new WeakMap,ra=new WeakMap,os=new WeakMap,kn=new WeakSet,HL=function(t){const e=[],i=new Set;for(const o of t){const[a,c,u]=o;e.push([a,c,o],[a,u,o])}e.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=e.length;o<a;o+=2){const c=e[o][2],u=e[o+1][2];c.push(u),u.push(c),i.add(c),i.add(u)}const s=[];let r;for(;i.size>0;){const o=i.values().next().value;let[a,c,u,h,d]=o;i.delete(o);let f=a,p=c;for(r=[a,u],s.push(r);;){let y;if(i.has(h))y=h;else if(i.has(d))y=d;else break;i.delete(y),[a,c,u,h,d]=y,f!==a&&(r.push(f,p,a,p===c?c:u),f=a),p=p===c?u:c}r.push(f,p)}return new Z8(s,l(this,vm),l(this,wm),l(this,xm))},v0=function(t){const e=l(this,os);let i=0,s=e.length-1;for(;i<=s;){const r=i+s>>1,o=e[r][0];if(o===t)return r;o<t?i=r+1:s=r-1}return s+1},$L=function([,t,e]){const i=S(this,kn,v0).call(this,t);l(this,os).splice(i,0,[t,e])},WL=function([,t,e]){const i=S(this,kn,v0).call(this,t);for(let s=i;s<l(this,os).length;s++){const[r,o]=l(this,os)[s];if(r!==t)break;if(r===t&&o===e){l(this,os).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,o]=l(this,os)[s];if(r!==t)break;if(r===t&&o===e){l(this,os).splice(s,1);return}}},Vx=function(t){const[e,i,s]=t,r=[[e,i,s]],o=S(this,kn,v0).call(this,s);for(let a=0;a<o;a++){const[c,u]=l(this,os)[a];for(let h=0,d=r.length;h<d;h++){const[,f,p]=r[h];if(!(u<=f||p<=c)){if(f>=c){if(p>u)r[h][1]=u;else{if(d===1)return[];r.splice(h,1),h--,d--}continue}r[h][2]=c,p>u&&r.push([e,u,p])}}}return r};var bm,Lh;class Z8 extends ${constructor(e,i,s,r){super();b(this,bm);b(this,Lh);g(this,Lh,e),g(this,bm,i),this.firstPoint=s,this.lastPoint=r}toSVGPath(){const e=[];for(const i of l(this,Lh)){let[s,r]=i;e.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const a=i[o],c=i[o+1];a===s?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${a}`),s=a)}e.push("Z")}return e.join(" ")}serialize([e,i,s,r],o){const a=[],c=s-e,u=r-i;for(const h of l(this,Lh)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=e+h[f]*c,d[f+1]=r-h[f+1]*u;a.push(d)}return a}get box(){return l(this,bm)}get classNamesForOutlining(){return["highlightOutline"]}}bm=new WeakMap,Lh=new WeakMap;class zx extends vy{newFreeDrawOutline(t,e,i,s,r,o){return new J8(t,e,i,s,r,o)}}class J8 extends zL{newOutliner(t,e,i,s,r,o=0){return new zx(t,e,i,s,r,o)}}var Mh,Am,Ur,tc,Sm,On,Em,Cm,ec,oi,ai,Ke,Dh,Nh,hn,Ih,Oi,Tm,ot,Ux,w0,GL,XL,KL,Hx,qa,zi,Uc,YL,x0,b0,qL,QL,ZL,JL,tM;const wt=class wt extends Vt{constructor(e){super({...e,name:"highlightEditor"});b(this,ot);b(this,Mh,null);b(this,Am,0);b(this,Ur);b(this,tc,null);b(this,Sm,null);b(this,On,null);b(this,Em,null);b(this,Cm,0);b(this,ec,null);b(this,oi,null);b(this,ai,null);b(this,Ke,!1);b(this,Dh,null);b(this,Nh,null);b(this,hn,null);b(this,Ih,"");b(this,Oi);b(this,Tm,"");this.color=e.color||wt._defaultColor,g(this,Oi,e.thickness||wt._defaultThickness),this.opacity=e.opacity||wt._defaultOpacity,g(this,Ur,e.boxes||null),g(this,Tm,e.methodOfCreation||""),g(this,Ih,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(g(this,Ke,!0),S(this,ot,w0).call(this,e),S(this,ot,qa).call(this)):l(this,Ur)&&(g(this,Mh,e.anchorNode),g(this,Am,e.anchorOffset),g(this,Em,e.focusNode),g(this,Cm,e.focusOffset),S(this,ot,Ux).call(this),S(this,ot,qa).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=wt.prototype;return rt(this,"_keyboardManager",new Km([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Ke)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,Oi),methodOfCreation:l(this,Tm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;Vt.initialize(e,i),wt._defaultColor||(wt._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ht.HIGHLIGHT_COLOR:wt._defaultColor=i;break;case ht.HIGHLIGHT_THICKNESS:wt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return l(this,Nh)}get commentButtonPosition(){return l(this,Dh)}updateParams(e,i){switch(e){case ht.HIGHLIGHT_COLOR:S(this,ot,GL).call(this,i);break;case ht.HIGHLIGHT_THICKNESS:S(this,ot,XL).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ht.HIGHLIGHT_COLOR,wt._defaultColor],[ht.HIGHLIGHT_THICKNESS,wt._defaultThickness]]}get propertiesToUpdate(){return[[ht.HIGHLIGHT_COLOR,this.color||wt._defaultColor],[ht.HIGHLIGHT_THICKNESS,l(this,Oi)||wt._defaultThickness],[ht.HIGHLIGHT_FREE,l(this,Ke)]]}onUpdatedColor(){var e,i;(e=this.parent)==null||e.drawLayer.updateProperties(l(this,ai),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=l(this,Sm))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",g(this,Sm,new Kf({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(S(this,ot,b0).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,S(this,ot,b0).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){S(this,ot,Hx).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,ot,qa).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?S(this,ot,Hx).call(this):e&&(S(this,ot,qa).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,o,a;const{drawLayer:i}=this.parent;let s;l(this,Ke)?(e=(e-this.rotation+360)%360,s=S(r=wt,zi,Uc).call(r,l(this,oi).box,e)):s=S(o=wt,zi,Uc).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(l(this,ai),{bbox:s,root:{"data-main-rotation":e}}),i.updateProperties(l(this,hn),{bbox:S(a=wt,zi,Uc).call(a,l(this,On).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();l(this,Ih)&&(e.setAttribute("aria-label",l(this,Ih)),e.setAttribute("role","mark")),l(this,Ke)?e.classList.add("free"):this.div.addEventListener("keydown",S(this,ot,YL).bind(this),{signal:this._uiManager._signal});const i=g(this,ec,document.createElement("div"));return e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,tc),this.setDims(this.width,this.height),xR(this,l(this,ec),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,hn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(l(this,hn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:S(this,ot,x0).call(this,!0);break;case 1:case 3:S(this,ot,x0).call(this,!1);break}}select(){var e;super.select(),l(this,hn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,hn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),l(this,hn)&&((e=this.parent)==null||e.drawLayer.updateProperties(l(this,hn),{rootClass:{selected:!1}}),l(this,Ke)||S(this,ot,x0).call(this,!1))}get _mustFixPosition(){return!l(this,Ke)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(l(this,ai),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(l(this,hn),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:s,x:r,y:o}){const{x:a,y:c,width:u,height:h}=s.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=y=>{d.abort(),S(this,zi,JL).call(this,e,y)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Jt,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",bi,{signal:f}),s.addEventListener("pointermove",S(this,zi,ZL).bind(this,e),{signal:f}),this._freeHighlight=new zx({x:r,y:o},[a,c,u,h],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,s){var v,A,m,w;let r=null;if(e instanceof PL){const{data:{quadPoints:x,rect:E,rotation:C,id:T,color:_,opacity:R,popupRef:M,richText:L,contentsObj:D,creationDate:B,modificationDate:K},parent:{page:{pageNumber:U}}}=e;r=e={annotationType:et.HIGHLIGHT,color:Array.from(_),opacity:R,quadPoints:x,boxes:null,pageIndex:U-1,rect:E.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:L,comment:(D==null?void 0:D.str)||null,creationDate:B,modificationDate:K}}else if(e instanceof JA){const{data:{inkLists:x,rect:E,rotation:C,id:T,color:_,borderStyle:{rawWidth:R},popupRef:M,richText:L,contentsObj:D,creationDate:B,modificationDate:K},parent:{page:{pageNumber:U}}}=e;r=e={annotationType:et.HIGHLIGHT,color:Array.from(_),thickness:R,inkLists:x,boxes:null,pageIndex:U-1,rect:E.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:L,comment:(D==null?void 0:D.str)||null,creationDate:B,modificationDate:K}}const{color:o,quadPoints:a,inkLists:c,opacity:u}=e,h=await super.deserialize(e,i,s);h.color=W.makeHexColor(...o),h.opacity=u||1,c&&g(h,Oi,e.thickness),h._initialData=r,e.comment&&h.setCommentData(e);const[d,f]=h.pageDimensions,[p,y]=h.pageTranslation;if(a){const x=g(h,Ur,[]);for(let E=0;E<a.length;E+=8)x.push({x:(a[E]-p)/d,y:1-(a[E+1]-y)/f,width:(a[E+2]-a[E])/d,height:(a[E+1]-a[E+5])/f});S(v=h,ot,Ux).call(v),S(A=h,ot,qa).call(A),h.rotate(h.rotation)}else if(c){g(h,Ke,!0);const x=c[0],E={x:x[0]-p,y:f-(x[1]-y)},C=new zx(E,[0,0,d,f],1,l(h,Oi)/2,!0,.001);for(let R=0,M=x.length;R<M;R+=2)E.x=x[R]-p,E.y=f-(x[R+1]-y),C.add(E);const{id:T,clipPathId:_}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);S(m=h,ot,w0).call(m,{highlightOutlines:C.getOutlines(),highlightId:T,clipPathId:_}),S(w=h,ot,qa).call(w),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=Vt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:i,opacity:this.opacity,thickness:l(this,Oi),quadPoints:S(this,ot,qL).call(this),outlines:S(this,ot,QL).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!S(this,ot,tM).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Mh=new WeakMap,Am=new WeakMap,Ur=new WeakMap,tc=new WeakMap,Sm=new WeakMap,On=new WeakMap,Em=new WeakMap,Cm=new WeakMap,ec=new WeakMap,oi=new WeakMap,ai=new WeakMap,Ke=new WeakMap,Dh=new WeakMap,Nh=new WeakMap,hn=new WeakMap,Ih=new WeakMap,Oi=new WeakMap,Tm=new WeakMap,ot=new WeakSet,Ux=function(){const e=new jx(l(this,Ur),.001);g(this,oi,e.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,oi).box;const i=new jx(l(this,Ur),.0025,.001,this._uiManager.direction==="ltr");g(this,On,i.getOutlines());const{firstPoint:s}=l(this,oi);g(this,Dh,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:r}=l(this,On);g(this,Nh,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},w0=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var f,p;if(g(this,oi,e),g(this,On,e.getNewOutline(l(this,Oi)/2+1.5,.0025)),i>=0)g(this,ai,i),g(this,tc,s),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),g(this,hn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,On).box,path:{d:l(this,On).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,ai),{bbox:S(f=wt,zi,Uc).call(f,l(this,oi).box,(y-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,hn),{bbox:S(p=wt,zi,Uc).call(p,l(this,On).box,y),path:{d:l(this,On).toSVGPath()}})}const[o,a,c,u]=e.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=u;break;case 90:{const[y,v]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*v/y,this.height=u*y/v;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=u;break;case 270:{const[y,v]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*v/y,this.height=u*y/v;break}}const{firstPoint:h}=e;g(this,Dh,[(h[0]-o)/c,(h[1]-a)/u]);const{lastPoint:d}=l(this,On);g(this,Nh,[(d[0]-o)/c,(d[1]-a)/u])},GL=function(e){const i=(o,a)=>{this.color=o,this.opacity=a,this.onUpdatedColor()},s=this.color,r=this.opacity;this.addCommands({cmd:i.bind(this,e,wt._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},XL=function(e){const i=l(this,Oi),s=r=>{g(this,Oi,r),S(this,ot,KL).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ht.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},KL=function(e){l(this,Ke)&&(S(this,ot,w0).call(this,{highlightOutlines:l(this,oi).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},Hx=function(){l(this,ai)===null||!this.parent||(this.parent.drawLayer.remove(l(this,ai)),g(this,ai,null),this.parent.drawLayer.remove(l(this,hn)),g(this,hn,null))},qa=function(e=this.parent){l(this,ai)===null&&({id:Ee(this,ai)._,clipPathId:Ee(this,tc)._}=e.drawLayer.draw({bbox:l(this,oi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,Ke)},path:{d:l(this,oi).toSVGPath()}},!1,!0),g(this,hn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,Ke)},bbox:l(this,On).box,path:{d:l(this,On).toSVGPath()}},l(this,Ke))),l(this,ec)&&(l(this,ec).style.clipPath=l(this,tc)))},zi=new WeakSet,Uc=function([e,i,s,r],o){switch(o){case 90:return[1-i-r,e,r,s];case 180:return[1-e-s,1-i-r,s,r];case 270:return[i,1-e-s,r,s]}return[e,i,s,r]},YL=function(e){wt._keyboardManager.exec(this,e)},x0=function(e){if(!l(this,Mh))return;const i=window.getSelection();e?i.setPosition(l(this,Mh),l(this,Am)):i.setPosition(l(this,Em),l(this,Cm))},b0=function(){return l(this,Ke)?this.rotation:0},qL=function(){if(l(this,Ke))return null;const[e,i]=this.pageDimensions,[s,r]=this.pageTranslation,o=l(this,Ur),a=new Float32Array(o.length*8);let c=0;for(const{x:u,y:h,width:d,height:f}of o){const p=u*e+s,y=(1-h)*i+r;a[c]=a[c+4]=p,a[c+1]=a[c+3]=y,a[c+2]=a[c+6]=p+d*e,a[c+5]=a[c+7]=y-f*i,c+=8}return a},QL=function(e){return l(this,oi).serialize(e,S(this,ot,b0).call(this))},ZL=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},JL=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tM=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((s,r)=>s!==i[r])},b(wt,zi),I(wt,"_defaultColor",null),I(wt,"_defaultOpacity",1),I(wt,"_defaultThickness",12),I(wt,"_type","highlight"),I(wt,"_editorType",et.HIGHLIGHT),I(wt,"_freeHighlightId",-1),I(wt,"_freeHighlight",null),I(wt,"_freeHighlightClipId","");let wy=wt;var nc;class eM{constructor(){b(this,nc,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){l(this,nc)[t]=e}toSVGProperties(){const t=l(this,nc);return g(this,nc,Object.create(null)),{root:t}}reset(){g(this,nc,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Ot("Not implemented")}}nc=new WeakMap;var li,Fh,Ie,ic,sc,oa,aa,la,rc,mt,$x,Wx,Gx,tf,nM,A0,ef,Hc;const X=class X extends Vt{constructor(e){super(e);b(this,mt);b(this,li,null);b(this,Fh);I(this,"_colorPicker",null);I(this,"_drawId",null);g(this,Fh,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(S(this,mt,$x).call(this,e),S(this,mt,tf).call(this))}static _mergeSVGProperties(e,i){const s=new Set(Object.keys(e));for(const[r,o]of Object.entries(i))s.has(r)?Object.assign(e[r],o):e[r]=o;return e}static getDefaultDrawingOptions(e){Ot("Not implemented")}static get typesMap(){Ot("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(l(X,Ie).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)e.push([s,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)e.push([s,i[r]]);return e}_updateProperty(e,i,s){const r=this._drawingOptions,o=r[i],a=c=>{var h;r.updateProperty(i,c);const u=l(this,li).updateProperty(i,c);u&&S(this,mt,ef).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,s),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,X._mergeSVGProperties(l(this,li).getPathResizingSVGProperties(S(this,mt,A0).call(this)),{bbox:S(this,mt,Hc).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,X._mergeSVGProperties(l(this,li).getPathResizedSVGProperties(S(this,mt,A0).call(this)),{bbox:S(this,mt,Hc).call(this)}))}_onTranslating(e,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:S(this,mt,Hc).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,X._mergeSVGProperties(l(this,li).getPathTranslatedSVGProperties(S(this,mt,A0).call(this),this.parentDimensions),{bbox:S(this,mt,Hc).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,Fh)&&(g(this,Fh,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){S(this,mt,Gx).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,mt,tf).call(this),S(this,mt,ef).call(this,l(this,li).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),S(this,mt,Gx).call(this)):e&&(this._uiManager.addShouldRescale(this),S(this,mt,tf).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,X._mergeSVGProperties({bbox:S(this,mt,Hc).call(this)},l(this,li).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&S(this,mt,ef).call(this,l(this,li).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");return s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),s}static createDrawerInstance(e,i,s,r,o){Ot("Not implemented")}static startDrawing(e,i,s,r){var A;const{target:o,offsetX:a,offsetY:c,pointerId:u,pointerType:h}=r;if(l(X,aa)&&l(X,aa)!==h)return;const{viewport:{rotation:d}}=e,{width:f,height:p}=o.getBoundingClientRect(),y=g(X,ic,new AbortController),v=e.combinedSignal(y);if(l(X,oa)||g(X,oa,u),l(X,aa)??g(X,aa,h),window.addEventListener("pointerup",m=>{var w;l(X,oa)===m.pointerId?this._endDraw(m):(w=l(X,la))==null||w.delete(m.pointerId)},{signal:v}),window.addEventListener("pointercancel",m=>{var w;l(X,oa)===m.pointerId?this._currentParent.endDrawingSession():(w=l(X,la))==null||w.delete(m.pointerId)},{signal:v}),window.addEventListener("pointerdown",m=>{l(X,aa)===m.pointerType&&((l(X,la)||g(X,la,new Set)).add(m.pointerId),l(X,Ie).isCancellable()&&(l(X,Ie).removeLastElement(),l(X,Ie).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",bi,{signal:v}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),o.addEventListener("touchmove",m=>{m.timeStamp===l(X,rc)&&Jt(m)},{signal:v}),e.toggleDrawing(),(A=i._editorUndoBar)==null||A.hide(),l(X,Ie)){e.drawLayer.updateProperties(this._currentDrawId,l(X,Ie).startNew(a,c,f,p,d));return}i.updateUIForDefaultProperties(this),g(X,Ie,this.createDrawerInstance(a,c,f,p,d)),g(X,sc,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(l(X,sc).toSVGProperties(),l(X,Ie).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(g(X,rc,-1),!l(X,Ie))return;const{offsetX:i,offsetY:s,pointerId:r}=e;if(l(X,oa)===r){if(((o=l(X,la))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(X,Ie).add(i,s)),g(X,rc,e.timeStamp),Jt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,g(X,Ie,null),g(X,sc,null),g(X,aa,null),g(X,rc,NaN)),l(X,ic)&&(l(X,ic).abort(),g(X,ic,null),g(X,oa,NaN),g(X,la,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,l(X,Ie).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=l(X,Ie),r=this._currentDrawId,o=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:ht.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ht.DRAW_STEP),!l(X,Ie).isEmpty()){const{pageDimensions:[s,r],scale:o}=i,a=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(X,Ie).getOutlines(s*o,r*o,o,this._INNER_MARGIN),drawingOptions:l(X,sc),mustBeCommitted:!e});return this._cleanup(!0),a}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,s,r,o,a){Ot("Not implemented")}static async deserialize(e,i,s){var d,f;const{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:c}}=i.viewport,u=this.deserializeDraw(a,c,r,o,this._INNER_MARGIN,e),h=await super.deserialize(e,i,s);return h.createDrawingOptions(e),S(d=h,mt,$x).call(d,{drawOutlines:u}),S(f=h,mt,tf).call(f),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[i,s]=this.pageTranslation,[r,o]=this.pageDimensions;return l(this,li).serialize([i,s,r,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};li=new WeakMap,Fh=new WeakMap,Ie=new WeakMap,ic=new WeakMap,sc=new WeakMap,oa=new WeakMap,aa=new WeakMap,la=new WeakMap,rc=new WeakMap,mt=new WeakSet,$x=function({drawOutlines:e,drawId:i,drawingOptions:s}){g(this,li,e),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=S(this,mt,Wx).call(this,e,this.parent),S(this,mt,ef).call(this,e.box)},Wx=function(e,i){const{id:s}=i.drawLayer.draw(X._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s},Gx=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},tf=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=S(this,mt,Wx).call(this,l(this,li),e)}},nM=function([e,i,s,r]){const{parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[i,1-e,s*(a/o),r*(o/a)];case 180:return[1-e,1-i,s,r];case 270:return[1-i,e,s*(a/o),r*(o/a)];default:return[e,i,s,r]}},A0=function(){const{x:e,y:i,width:s,height:r,parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[1-i,e,s*(o/a),r*(a/o)];case 180:return[1-e,1-i,s,r];case 270:return[i,1-e,s*(o/a),r*(a/o)];default:return[e,i,s,r]}},ef=function(e){[this.x,this.y,this.width,this.height]=S(this,mt,nM).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Hc=function(){const{x:e,y:i,width:s,height:r,rotation:o,parentRotation:a,parentDimensions:[c,u]}=this;switch((o*4+a)/90){case 1:return[1-i-r,e,r,s];case 2:return[1-e-s,1-i-r,s,r];case 3:return[i,1-e-s,r,s];case 4:return[e,i-s*(c/u),r*(u/c),s*(c/u)];case 5:return[1-i,e,s*(c/u),r*(u/c)];case 6:return[1-e-r*(u/c),1-i,r*(u/c),s*(c/u)];case 7:return[i-s*(c/u),1-e-r*(u/c),s*(c/u),r*(u/c)];case 8:return[e-s,i-r,s,r];case 9:return[1-i,e-s,r,s];case 10:return[1-e,1-i,s,r];case 11:return[i-r,1-e,r,s];case 12:return[e-r*(u/c),i,r*(u/c),s*(c/u)];case 13:return[1-i-s*(c/u),e-r*(u/c),s*(c/u),r*(u/c)];case 14:return[1-e,1-i-s*(c/u),r*(u/c),s*(c/u)];case 15:return[i,1-e,s*(c/u),r*(u/c)];default:return[e,i,s,r]}},I(X,"_currentDrawId",-1),I(X,"_currentParent",null),b(X,Ie,null),b(X,ic,null),b(X,sc,null),b(X,oa,NaN),b(X,aa,null),b(X,la,null),b(X,rc,NaN),I(X,"_INNER_MARGIN",3);let xy=X;var Hs,Fe,Oe,oc,Oh,wn,Ye,Bi,ac,lc,cc,Bh,S0;class tj{constructor(t,e,i,s,r,o){b(this,Bh);b(this,Hs,new Float64Array(6));b(this,Fe);b(this,Oe);b(this,oc);b(this,Oh);b(this,wn);b(this,Ye,"");b(this,Bi,0);b(this,ac,new qm);b(this,lc);b(this,cc);g(this,lc,i),g(this,cc,s),g(this,oc,r),g(this,Oh,o),[t,e]=S(this,Bh,S0).call(this,t,e);const a=g(this,Fe,[NaN,NaN,NaN,NaN,t,e]);g(this,wn,[t,e]),g(this,Oe,[{line:a,points:l(this,wn)}]),l(this,Hs).set(a,0)}updateProperty(t,e){t==="stroke-width"&&g(this,Oh,e)}isEmpty(){return!l(this,Oe)||l(this,Oe).length===0}isCancellable(){return l(this,wn).length<=10}add(t,e){[t,e]=S(this,Bh,S0).call(this,t,e);const[i,s,r,o]=l(this,Hs).subarray(2,6),a=t-r,c=e-o;return Math.hypot(l(this,lc)*a,l(this,cc)*c)<=2?null:(l(this,wn).push(t,e),isNaN(i)?(l(this,Hs).set([r,o,t,e],2),l(this,Fe).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(l(this,Hs)[0])&&l(this,Fe).splice(6,6),l(this,Hs).set([i,s,r,o,t,e],0),l(this,Fe).push(...$.createBezierPoints(i,s,r,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(l(this,wn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,s,r){g(this,lc,i),g(this,cc,s),g(this,oc,r),[t,e]=S(this,Bh,S0).call(this,t,e);const o=g(this,Fe,[NaN,NaN,NaN,NaN,t,e]);g(this,wn,[t,e]);const a=l(this,Oe).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),l(this,Oe).push({line:o,points:l(this,wn)}),l(this,Hs).set(o,0),g(this,Bi,0),this.toSVGPath(),null}getLastElement(){return l(this,Oe).at(-1)}setLastElement(t){return l(this,Oe)?(l(this,Oe).push(t),g(this,Fe,t.line),g(this,wn,t.points),g(this,Bi,0),{path:{d:this.toSVGPath()}}):l(this,ac).setLastElement(t)}removeLastElement(){if(!l(this,Oe))return l(this,ac).removeLastElement();l(this,Oe).pop(),g(this,Ye,"");for(let t=0,e=l(this,Oe).length;t<e;t++){const{line:i,points:s}=l(this,Oe)[t];g(this,Fe,i),g(this,wn,s),g(this,Bi,0),this.toSVGPath()}return{path:{d:l(this,Ye)}}}toSVGPath(){const t=$.svgRound(l(this,Fe)[4]),e=$.svgRound(l(this,Fe)[5]);if(l(this,wn).length===2)return g(this,Ye,`${l(this,Ye)} M ${t} ${e} Z`),l(this,Ye);if(l(this,wn).length<=6){const s=l(this,Ye).lastIndexOf("M");g(this,Ye,`${l(this,Ye).slice(0,s)} M ${t} ${e}`),g(this,Bi,6)}if(l(this,wn).length===4){const s=$.svgRound(l(this,Fe)[10]),r=$.svgRound(l(this,Fe)[11]);return g(this,Ye,`${l(this,Ye)} L ${s} ${r}`),g(this,Bi,12),l(this,Ye)}const i=[];l(this,Bi)===0&&(i.push(`M ${t} ${e}`),g(this,Bi,6));for(let s=l(this,Bi),r=l(this,Fe).length;s<r;s+=6){const[o,a,c,u,h,d]=l(this,Fe).slice(s,s+6).map($.svgRound);i.push(`C${o} ${a} ${c} ${u} ${h} ${d}`)}return g(this,Ye,l(this,Ye)+i.join(" ")),g(this,Bi,l(this,Fe).length),l(this,Ye)}getOutlines(t,e,i,s){const r=l(this,Oe).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),l(this,ac).build(l(this,Oe),t,e,i,l(this,oc),l(this,Oh),s),g(this,Hs,null),g(this,Fe,null),g(this,Oe,null),g(this,Ye,null),l(this,ac)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Hs=new WeakMap,Fe=new WeakMap,Oe=new WeakMap,oc=new WeakMap,Oh=new WeakMap,wn=new WeakMap,Ye=new WeakMap,Bi=new WeakMap,ac=new WeakMap,lc=new WeakMap,cc=new WeakMap,Bh=new WeakSet,S0=function(t,e){return $._normalizePoint(t,e,l(this,lc),l(this,cc),l(this,oc))};var xn,km,Pm,ci,$s,Ws,jh,Vh,uc,Ze,cr,iM,sM,rM;class qm extends ${constructor(){super(...arguments);b(this,Ze);b(this,xn);b(this,km,0);b(this,Pm);b(this,ci);b(this,$s);b(this,Ws);b(this,jh);b(this,Vh);b(this,uc)}build(e,i,s,r,o,a,c){g(this,$s,i),g(this,Ws,s),g(this,jh,r),g(this,Vh,o),g(this,uc,a),g(this,Pm,c??0),g(this,ci,e),S(this,Ze,sM).call(this)}get thickness(){return l(this,uc)}setLastElement(e){return l(this,ci).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,ci).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of l(this,ci)){if(e.push(`M${$.svgRound(i[4])} ${$.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${$.svgRound(i[10])} ${$.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[o,a,c,u,h,d]=i.subarray(s,s+6).map($.svgRound);e.push(`C${o} ${a} ${c} ${u} ${h} ${d}`)}}return e.join("")}serialize([e,i,s,r],o){const a=[],c=[],[u,h,d,f]=S(this,Ze,iM).call(this);let p,y,v,A,m,w,x,E,C;switch(l(this,Vh)){case 0:C=$._rescale,p=e,y=i+r,v=s,A=-r,m=e+u*s,w=i+(1-h-f)*r,x=e+(u+d)*s,E=i+(1-h)*r;break;case 90:C=$._rescaleAndSwap,p=e,y=i,v=s,A=r,m=e+h*s,w=i+u*r,x=e+(h+f)*s,E=i+(u+d)*r;break;case 180:C=$._rescale,p=e+s,y=i,v=-s,A=r,m=e+(1-u-d)*s,w=i+h*r,x=e+(1-u)*s,E=i+(h+f)*r;break;case 270:C=$._rescaleAndSwap,p=e+s,y=i+r,v=-s,A=-r,m=e+(1-h-f)*s,w=i+(1-u-d)*r,x=e+(1-h)*s,E=i+(1-u)*r;break}for(const{line:T,points:_}of l(this,ci))a.push(C(T,p,y,v,A,o?new Array(T.length):null)),c.push(C(_,p,y,v,A,o?new Array(_.length):null));return{lines:a,points:c,rect:[m,w,x,E]}}static deserialize(e,i,s,r,o,{paths:{lines:a,points:c},rotation:u,thickness:h}){const d=[];let f,p,y,v,A;switch(u){case 0:A=$._rescale,f=-e/s,p=i/r+1,y=1/s,v=-1/r;break;case 90:A=$._rescaleAndSwap,f=-i/r,p=-e/s,y=1/r,v=1/s;break;case 180:A=$._rescale,f=e/s+1,p=-i/r,y=-1/s,v=1/r;break;case 270:A=$._rescaleAndSwap,f=i/r+1,p=e/s+1,y=-1/r,v=-1/s;break}if(!a){a=[];for(const w of c){const x=w.length;if(x===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(x-2));a.push(E);let[C,T,_,R]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,C,T],0);for(let M=4;M<x;M+=2){const L=w[M],D=w[M+1];E.set($.createBezierPoints(C,T,_,R,L,D),(M-2)*3),[C,T,_,R]=[_,R,L,D]}}}for(let w=0,x=a.length;w<x;w++)d.push({line:A(a[w].map(E=>E??NaN),f,p,y,v),points:A(c[w].map(E=>E??NaN),f,p,y,v)});const m=new this.prototype.constructor;return m.build(d,s,r,1,u,h,o),m}get box(){return l(this,xn)}updateProperty(e,i){return e==="stroke-width"?S(this,Ze,rM).call(this,i):null}updateParentDimensions([e,i],s){const[r,o]=S(this,Ze,cr).call(this);g(this,$s,e),g(this,Ws,i),g(this,jh,s);const[a,c]=S(this,Ze,cr).call(this),u=a-r,h=c-o,d=l(this,xn);return d[0]-=u,d[1]-=h,d[2]+=2*u,d[3]+=2*h,d}updateRotation(e){return g(this,km,e),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,xn).map($.svgRound).join(" ")}get defaultProperties(){const[e,i]=l(this,xn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$.svgRound(e)} ${$.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=l(this,xn);let s=0,r=0,o=0,a=0,c=0,u=0;switch(l(this,km)){case 90:r=i/e,o=-e/i,c=e;break;case 180:s=-1,a=-1,c=e,u=i;break;case 270:r=-i/e,o=e/i,u=i;break;default:return""}return`matrix(${s} ${r} ${o} ${a} ${$.svgRound(c)} ${$.svgRound(u)})`}getPathResizingSVGProperties([e,i,s,r]){const[o,a]=S(this,Ze,cr).call(this),[c,u,h,d]=l(this,xn);if(Math.abs(h-o)<=$.PRECISION||Math.abs(d-a)<=$.PRECISION){const A=e+s/2-(c+h/2),m=i+r/2-(u+d/2);return{path:{"transform-origin":`${$.svgRound(e)} ${$.svgRound(i)}`,transform:`${this.rotationTransform} translate(${A} ${m})`}}}const f=(s-2*o)/(h-2*o),p=(r-2*a)/(d-2*a),y=h/s,v=d/r;return{path:{"transform-origin":`${$.svgRound(c)} ${$.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${v}) translate(${$.svgRound(o)} ${$.svgRound(a)}) scale(${f} ${p}) translate(${$.svgRound(-o)} ${$.svgRound(-a)})`}}}getPathResizedSVGProperties([e,i,s,r]){const[o,a]=S(this,Ze,cr).call(this),c=l(this,xn),[u,h,d,f]=c;if(c[0]=e,c[1]=i,c[2]=s,c[3]=r,Math.abs(d-o)<=$.PRECISION||Math.abs(f-a)<=$.PRECISION){const m=e+s/2-(u+d/2),w=i+r/2-(h+f/2);for(const{line:x,points:E}of l(this,ci))$._translate(x,m,w,x),$._translate(E,m,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$.svgRound(e)} ${$.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(s-2*o)/(d-2*o),y=(r-2*a)/(f-2*a),v=-p*(u+o)+e+o,A=-y*(h+a)+i+a;if(p!==1||y!==1||v!==0||A!==0)for(const{line:m,points:w}of l(this,ci))$._rescale(m,v,A,p,y,m),$._rescale(w,v,A,p,y,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$.svgRound(e)} ${$.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],s){const[r,o]=s,a=l(this,xn),c=e-a[0],u=i-a[1];if(l(this,$s)===r&&l(this,Ws)===o)for(const{line:h,points:d}of l(this,ci))$._translate(h,c,u,h),$._translate(d,c,u,d);else{const h=l(this,$s)/r,d=l(this,Ws)/o;g(this,$s,r),g(this,Ws,o);for(const{line:f,points:p}of l(this,ci))$._rescale(f,c,u,h,d,f),$._rescale(p,c,u,h,d,p);a[2]*=h,a[3]*=d}return a[0]=e,a[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${$.svgRound(e)} ${$.svgRound(i)}`}}}get defaultSVGProperties(){const e=l(this,xn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${$.svgRound(e[0])} ${$.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}xn=new WeakMap,km=new WeakMap,Pm=new WeakMap,ci=new WeakMap,$s=new WeakMap,Ws=new WeakMap,jh=new WeakMap,Vh=new WeakMap,uc=new WeakMap,Ze=new WeakSet,cr=function(e=l(this,uc)){const i=l(this,Pm)+e/2*l(this,jh);return l(this,Vh)%180===0?[i/l(this,$s),i/l(this,Ws)]:[i/l(this,Ws),i/l(this,$s)]},iM=function(){const[e,i,s,r]=l(this,xn),[o,a]=S(this,Ze,cr).call(this,0);return[e+o,i+a,s-2*o,r-2*a]},sM=function(){const e=g(this,xn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of l(this,ci)){if(r.length<=12){for(let c=4,u=r.length;c<u;c+=6)W.pointBoundingBox(r[c],r[c+1],e);continue}let o=r[4],a=r[5];for(let c=6,u=r.length;c<u;c+=6){const[h,d,f,p,y,v]=r.subarray(c,c+6);W.bezierBoundingBox(o,a,h,d,f,p,y,v,e),o=y,a=v}}const[i,s]=S(this,Ze,cr).call(this);e[0]=fn(e[0]-i,0,1),e[1]=fn(e[1]-s,0,1),e[2]=fn(e[2]+i,0,1),e[3]=fn(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]},rM=function(e){const[i,s]=S(this,Ze,cr).call(this);g(this,uc,e);const[r,o]=S(this,Ze,cr).call(this),[a,c]=[r-i,o-s],u=l(this,xn);return u[0]-=a,u[1]-=c,u[2]+=2*a,u[3]+=2*c,u};class wv extends eM{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Vt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new wv(this._viewParameters);return t.updateAll(this),t}}var Vy,oM;const hu=class hu extends xy{constructor(e){super({...e,name:"inkEditor"});b(this,Vy);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){Vt.initialize(e,i),this._defaultDrawingOptions=new wv(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return rt(this,"typesMap",new Map([[ht.INK_THICKNESS,"stroke-width"],[ht.INK_COLOR,"stroke"],[ht.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,s,r,o){return new tj(e,i,s,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,s,r,o,a){return qm.deserialize(e,i,s,r,o,a)}static async deserialize(e,i,s){let r=null;if(e instanceof JA){const{data:{inkLists:a,rect:c,rotation:u,id:h,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:y,richText:v,contentsObj:A,creationDate:m,modificationDate:w},parent:{page:{pageNumber:x}}}=e;r=e={annotationType:et.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:x-1,rect:c.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:y,richText:v,comment:(A==null?void 0:A.str)||null,creationDate:m,modificationDate:w}}const o=await super.deserialize(e,i,s);return o._initialData=r,e.comment&&o.setCommentData(e),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new yy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ht.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:s}){this._drawingOptions=hu.getDefaultDrawingOptions({stroke:W.makeHexColor(...e),"stroke-width":i,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":a}}=this,c=Object.assign(super.serialize(e),{color:Vt._colorManager.convert(r),opacity:o,thickness:a,paths:{lines:i,points:s}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!S(this,Vy,oM).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:i,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};Vy=new WeakSet,oM=function(e){const{color:i,thickness:s,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,c)=>a!==i[c])||e.thickness!==s||e.opacity!==r||e.pageIndex!==o},I(hu,"_type","ink"),I(hu,"_editorType",et.INK),I(hu,"_defaultDrawingOptions",null);let Xx=hu;class Kx extends qm{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Lg=8,_d=3;var hc,bt,Yx,as,aM,lM,qx,E0,cM,uM,hM,Qx,Zx,dM;class qs{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:s},r,o,a,c){let u=new OffscreenCanvas(1,1),h=u.getContext("2d",{alpha:!1});const d=200,f=h.font=`${i} ${s} ${d}px ${e}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:v,actualBoundingBoxDescent:A,fontBoundingBoxAscent:m,fontBoundingBoxDescent:w,width:x}=h.measureText(t),E=1.5,C=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,x)*E),T=Math.ceil(Math.max(Math.abs(v)+Math.abs(A)||d,Math.abs(m)+Math.abs(w)||d)*E);u=new OffscreenCanvas(C,T),h=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=f,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,C,T),h.fillStyle="black",h.fillText(t,C*(E-1)/2,T*(3-E)/2);const _=S(this,bt,Qx).call(this,h.getImageData(0,0,C,T).data),R=S(this,bt,hM).call(this,_),M=S(this,bt,Zx).call(this,R),L=S(this,bt,qx).call(this,_,C,T,M);return this.processDrawnLines({lines:{curves:L,width:C,height:T},pageWidth:r,pageHeight:o,rotation:a,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,e,i,s,r){const[o,a,c]=S(this,bt,dM).call(this,t),[u,h]=S(this,bt,uM).call(this,o,a,c,Math.hypot(a,c)*l(this,hc).sigmaSFactor,l(this,hc).sigmaR,l(this,hc).kernelSize),d=S(this,bt,Zx).call(this,h),f=S(this,bt,qx).call(this,u,a,c,d);return this.processDrawnLines({lines:{curves:f,width:a,height:c},pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:o,areContours:a}){s%180!==0&&([e,i]=[i,e]);const{curves:c,width:u,height:h}=t,d=t.thickness??0,f=[],p=Math.min(e/u,i/h),y=p/e,v=p/i,A=[];for(const{points:w}of c){const x=o?S(this,bt,cM).call(this,w):w;if(!x)continue;A.push(x);const E=x.length,C=new Float32Array(E),T=new Float32Array(3*(E===2?2:E-2));if(f.push({line:T,points:C}),E===2){C[0]=x[0]*y,C[1]=x[1]*v,T.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[_,R,M,L]=x;_*=y,R*=v,M*=y,L*=v,C.set([_,R,M,L],0),T.set([NaN,NaN,NaN,NaN,_,R],0);for(let D=4;D<E;D+=2){const B=C[D]=x[D]*y,K=C[D+1]=x[D+1]*v;T.set($.createBezierPoints(_,R,M,L,B,K),(D-2)*3),[_,R,M,L]=[M,L,B,K]}}if(f.length===0)return null;const m=a?new Kx:new qm;return m.build(f,e,i,1,s,a?0:d,r),{outline:m,newCurves:A,areContours:a,thickness:d,width:u,height:h}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:s,height:r}){let o=1/0,a=-1/0,c=0;for(const x of t){c+=x.length;for(let E=2,C=x.length;E<C;E++){const T=x[E]-x[E-2];o=Math.min(o,T),a=Math.max(a,T)}}let u;o>=-128&&a<=127?u=Int8Array:o>=-32768&&a<=32767?u=Int16Array:u=Int32Array;const h=t.length,d=Lg+_d*h,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(c-2*h)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=s,f[p++]=r,f[p++]=e?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=h,f[p++]=u.BYTES_PER_ELEMENT;for(const x of t)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const y=new CompressionStream("deflate-raw"),v=y.writable.getWriter();await v.ready,v.write(f);const A=u.prototype.constructor;for(const x of t){const E=new A(x.length-2);for(let C=2,T=x.length;C<T;C++)E[C-2]=x[C]-x[C-2];v.write(E)}v.close();const m=await new Response(y.readable).arrayBuffer(),w=new Uint8Array(m);return lR(w)}static async decompressSignature(t){try{const e=CB(t),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,a=0;for await(const x of i)o||(o=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),o.set(x,a),a+=x.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const h=c[2],d=c[3],f=c[4]===0,p=c[5],y=c[6],v=c[7],A=[],m=(Lg+_d*y)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(v){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,m);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,m);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,m);break}a=0;for(let x=0;x<y;x++){const E=c[_d*x+Lg],C=new Float32Array(E+2);A.push(C);for(let T=0;T<_d-1;T++)C[T]=c[_d*x+Lg+T+1];for(let T=0;T<E;T++)C[T+2]=C[T]+w[a++]}return{areContours:f,thickness:p,outlines:A,width:h,height:d}}catch(e){return nt(`decompressSignature: ${e}`),null}}}hc=new WeakMap,bt=new WeakSet,Yx=function(t,e,i,s){return i-=t,s-=e,i===0?s>0?0:4:i===1?s+6:2-s},as=new WeakMap,aM=function(t,e,i,s,r,o,a){const c=S(this,bt,Yx).call(this,i,s,r,o);for(let u=0;u<8;u++){const h=(-u+c-a+16)%8,d=l(this,as)[2*h],f=l(this,as)[2*h+1];if(t[(i+d)*e+(s+f)]!==0)return h}return-1},lM=function(t,e,i,s,r,o,a){const c=S(this,bt,Yx).call(this,i,s,r,o);for(let u=0;u<8;u++){const h=(u+c+a+16)%8,d=l(this,as)[2*h],f=l(this,as)[2*h+1];if(t[(i+d)*e+(s+f)]!==0)return h}return-1},qx=function(t,e,i,s){const r=t.length,o=new Int32Array(r);for(let h=0;h<r;h++)o[h]=t[h]<=s?1:0;for(let h=1;h<i-1;h++)o[h*e]=o[h*e+e-1]=0;for(let h=0;h<e;h++)o[h]=o[e*i-1-h]=0;let a=1,c;const u=[];for(let h=1;h<i-1;h++){c=1;for(let d=1;d<e-1;d++){const f=h*e+d,p=o[f];if(p===0)continue;let y=h,v=d;if(p===1&&o[f-1]===0)a+=1,v-=1;else if(p>=1&&o[f+1]===0)a+=1,v+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const A=[d,h],m=v===d+1,w={isHole:m,points:A,id:a,parent:0};u.push(w);let x;for(const D of u)if(D.id===c){x=D;break}x?x.isHole?w.parent=m?x.parent:c:w.parent=m?c:x.parent:w.parent=m?c:0;const E=S(this,bt,aM).call(this,o,e,h,d,y,v,0);if(E===-1){o[f]=-a,o[f]!==1&&(c=Math.abs(o[f]));continue}let C=l(this,as)[2*E],T=l(this,as)[2*E+1];const _=h+C,R=d+T;y=_,v=R;let M=h,L=d;for(;;){const D=S(this,bt,lM).call(this,o,e,M,L,y,v,1);C=l(this,as)[2*D],T=l(this,as)[2*D+1];const B=M+C,K=L+T;A.push(K,B);const U=M*e+L;if(o[U+1]===0?o[U]=-a:o[U]===1&&(o[U]=a),B===h&&K===d&&M===_&&L===R){o[f]!==1&&(c=Math.abs(o[f]));break}else y=M,v=L,M=B,L=K}}}return u},E0=function(t,e,i,s){if(i-e<=4){for(let _=e;_<i-2;_+=2)s.push(t[_],t[_+1]);return}const r=t[e],o=t[e+1],a=t[i-4]-r,c=t[i-3]-o,u=Math.hypot(a,c),h=a/u,d=c/u,f=h*o-d*r,p=c/a,y=1/u,v=Math.atan(p),A=Math.cos(v),m=Math.sin(v),w=y*(Math.abs(A)+Math.abs(m)),x=y*(1-w+w**2),E=Math.max(Math.atan(Math.abs(m+A)*x),Math.atan(Math.abs(m-A)*x));let C=0,T=e;for(let _=e+2;_<i-2;_+=2){const R=Math.abs(f-h*t[_+1]+d*t[_]);R>C&&(T=_,C=R)}C>(u*E)**2?(S(this,bt,E0).call(this,t,e,T+2,s),S(this,bt,E0).call(this,t,T,i,s)):s.push(r,o)},cM=function(t){const e=[],i=t.length;return S(this,bt,E0).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},uM=function(t,e,i,s,r,o){const a=new Float32Array(o**2),c=-2*s**2,u=o>>1;for(let v=0;v<o;v++){const A=(v-u)**2;for(let m=0;m<o;m++)a[v*o+m]=Math.exp((A+(m-u)**2)/c)}const h=new Float32Array(256),d=-2*r**2;for(let v=0;v<256;v++)h[v]=Math.exp(v**2/d);const f=t.length,p=new Uint8Array(f),y=new Uint32Array(256);for(let v=0;v<i;v++)for(let A=0;A<e;A++){const m=v*e+A,w=t[m];let x=0,E=0;for(let T=0;T<o;T++){const _=v+T-u;if(!(_<0||_>=i))for(let R=0;R<o;R++){const M=A+R-u;if(M<0||M>=e)continue;const L=t[_*e+M],D=a[T*o+R]*h[Math.abs(L-w)];x+=L*D,E+=D}}const C=p[m]=Math.round(x/E);y[C]++}return[p,y]},hM=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},Qx=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let s=-1/0,r=1/0;for(let a=0,c=i.length;a<c;a++){const u=i[a]=t[a<<2];s=Math.max(s,u),r=Math.min(r,u)}const o=255/(s-r);for(let a=0,c=i.length;a<c;a++)i[a]=(i[a]-r)*o;return i},Zx=function(t){let e,i=-1/0,s=-1/0;const r=t.findIndex(c=>c!==0);let o=r,a=r;for(e=r;e<256;e++){const c=t[e];c>i&&(e-o>s&&(s=e-o,a=e-1),i=c,o=e)}for(e=a-1;e>=0&&!(t[e]>t[e+1]);e--);return e},dM=function(t){const e=t,{width:i,height:s}=t,{maxDim:r}=l(this,hc);let o=i,a=s;if(i>r||s>r){let f=i,p=s,y=Math.log2(Math.max(i,s)/r);const v=Math.floor(y);y=y===v?v-1:v;for(let m=0;m<y;m++){o=Math.ceil(f/2),a=Math.ceil(p/2);const w=new OffscreenCanvas(o,a);w.getContext("2d").drawImage(t,0,0,f,p,0,0,o,a),f=o,p=a,t!==e&&t.close(),t=w.transferToImageBitmap()}const A=Math.min(r/o,r/a);o=Math.round(o*A),a=Math.round(a*A)}const u=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,a),u.filter="grayscale(1)",u.drawImage(t,0,0,t.width,t.height,0,0,o,a);const h=u.getImageData(0,0,o,a).data;return[S(this,bt,Qx).call(this,h),o,a]},b(qs,bt),b(qs,hc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),b(qs,as,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class eS extends eM{constructor(){super(),super.updateProperties({fill:Vt._defaultLineColor,"stroke-width":0})}clone(){const t=new eS;return t.updateAll(this),t}}class nS extends wv{constructor(t){super(t),super.updateProperties({stroke:Vt._defaultLineColor,"stroke-width":1})}clone(){const t=new nS(this._viewParameters);return t.updateAll(this),t}}var ca,Gs,ua,dc;const Xn=class Xn extends xy{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});b(this,ca,!1);b(this,Gs,null);b(this,ua,null);b(this,dc,null);this._willKeepAspectRatio=!0,g(this,ua,e.signatureData||null),g(this,Gs,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){Vt.initialize(e,i),this._defaultDrawingOptions=new eS,this._defaultDrawnSignatureOptions=new nS(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return rt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,Gs)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(l(this,ua)){const{lines:r,mustSmooth:o,areContours:a,description:c,uuid:u,heightInPage:h}=l(this,ua),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,y=qs.processDrawnLines({lines:r,pageWidth:d,pageHeight:f,rotation:p,innerMargin:Xn._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(y,h,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,Gs)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){g(this,dc,e),this.addEditToolbar()}getUuid(){return l(this,dc)}get description(){return l(this,Gs)}set description(e){g(this,Gs,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:s,width:r,height:o}=l(this,ua),a=Math.max(r,o),c=qs.processDrawnLines({lines:{curves:e.map(u=>({points:u})),thickness:s,width:r,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,s,r){const{x:o,y:a}=this,{outline:c}=g(this,ua,e);g(this,ca,c instanceof Kx),this.description=s;let u;l(this,ca)?u=Xn.getDefaultDrawingOptions():(u=Xn._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,h]=this.pageDimensions;let d=i/h;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return qs.process(e,i,s,r,Xn._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:o}=this.parent.viewport;return qs.extractContoursFromText(e,i,s,r,o,Xn._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return qs.processDrawnLines({lines:e,pageWidth:i,pageHeight:s,rotation:r,innerMargin:Xn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=Xn.getDefaultDrawingOptions():(this._drawingOptions=Xn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(e),{isSignature:!0,areContours:l(this,ca),color:[0,0,0],thickness:l(this,ca)?0:r});return this.addComment(o),e?(o.paths={lines:i,points:s},o.uuid=l(this,dc),o.isCopy=!0):o.lines=i,l(this,Gs)&&(o.accessibilityData={type:"Figure",alt:l(this,Gs)}),o}static deserializeDraw(e,i,s,r,o,a){return a.areContours?Kx.deserialize(e,i,s,r,o,a):qm.deserialize(e,i,s,r,o,a)}static async deserialize(e,i,s){var o;const r=await super.deserialize(e,i,s);return g(r,ca,e.areContours),r.description=((o=e.accessibilityData)==null?void 0:o.alt)||"",g(r,dc,e.uuid),r}};ca=new WeakMap,Gs=new WeakMap,ua=new WeakMap,dc=new WeakMap,I(Xn,"_type","signature"),I(Xn,"_editorType",et.SIGNATURE),I(Xn,"_defaultDrawingOptions",null);let Jx=Xn;var Kt,Be,ha,Hr,da,zh,$r,fc,Xs,ui,Uh,gt,nf,sf,C0,T0,k0,eb,P0,fM;class tb extends Vt{constructor(e){super({...e,name:"stampEditor"});b(this,gt);b(this,Kt,null);b(this,Be,null);b(this,ha,null);b(this,Hr,null);b(this,da,null);b(this,zh,"");b(this,$r,null);b(this,fc,!1);b(this,Xs,null);b(this,ui,!1);b(this,Uh,!1);g(this,Hr,e.bitmapUrl),g(this,da,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){Vt.initialize(e,i)}static isHandlingMimeForPasting(e){return dy.includes(e)}static paste(e,i){i.pasteEditor({mode:et.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:a}=e||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:r,width:o,height:a,channels:r.length/(o*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var e;l(this,Be)&&(g(this,Kt,null),this._uiManager.imageManager.deleteId(l(this,Be)),(e=l(this,$r))==null||e.remove(),g(this,$r,null),l(this,Xs)&&(clearTimeout(l(this,Xs)),g(this,Xs,null))),super.remove()}rebuild(){if(!this.parent){l(this,Be)&&S(this,gt,C0).call(this);return}super.rebuild(),this.div!==null&&(l(this,Be)&&l(this,$r)===null&&S(this,gt,C0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(l(this,ha)||l(this,Kt)||l(this,Hr)||l(this,da)||l(this,Be)||l(this,fc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,fc)||(l(this,Kt)?S(this,gt,T0).call(this):S(this,gt,C0).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(g(this,Be,s),r&&g(this,Kt,r),g(this,fc,!1),S(this,gt,T0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,Xs)!==null&&clearTimeout(l(this,Xs)),g(this,Xs,setTimeout(()=>{g(this,Xs,null),S(this,gt,eb).call(this)},200))}copyCanvas(e,i,s=!1){e||(e=224);const{width:r,height:o}=l(this,Kt),a=new ys;let c=l(this,Kt),u=r,h=o,d=null;if(i){if(r>i||o>i){const _=Math.min(i/r,i/o);u=Math.floor(r*_),h=Math.floor(o*_)}d=document.createElement("canvas");const p=d.width=Math.ceil(u*a.sx),y=d.height=Math.ceil(h*a.sy);l(this,ui)||(c=S(this,gt,k0).call(this,p,y));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let A="white",m="#cfcfd8";this._uiManager.hcmFilter!=="none"?m="black":PB.isDarkMode&&(A="#8f8f9d",m="#42414d");const w=15,x=w*a.sx,E=w*a.sy,C=new OffscreenCanvas(x*2,E*2),T=C.getContext("2d");T.fillStyle=A,T.fillRect(0,0,x*2,E*2),T.fillStyle=m,T.fillRect(0,0,x,E),T.fillRect(x,E,x,E),v.fillStyle=v.createPattern(C,"repeat"),v.fillRect(0,0,p,y),v.drawImage(c,0,0,c.width,c.height,0,0,p,y)}let f=null;if(s){let p,y;if(a.symmetric&&c.width<e&&c.height<e)p=c.width,y=c.height;else if(c=l(this,Kt),r>e||o>e){const m=Math.min(e/r,e/o);p=Math.floor(r*m),y=Math.floor(o*m),l(this,ui)||(c=S(this,gt,k0).call(this,p,y))}const A=new OffscreenCanvas(p,y).getContext("2d",{willReadFrequently:!0});A.drawImage(c,0,0,c.width,c.height,0,0,p,y),f={width:p,height:y,data:A.getImageData(0,0,p,y).data}}return{canvas:d,width:u,height:h,imageData:f}}static async deserialize(e,i,s){var A;let r=null,o=!1;if(e instanceof _L){const{data:{rect:m,rotation:w,id:x,structParent:E,popupRef:C,richText:T,contentsObj:_,creationDate:R,modificationDate:M},container:L,parent:{page:{pageNumber:D}},canvas:B}=e;let K,U;B?(delete e.canvas,{id:K,bitmap:U}=s.imageManager.getFromCanvas(L.id,B),B.remove()):(o=!0,e._hasNoCanvas=!0);const Z=((A=await i._structTree.getAriaAttributes(`${$A}${x}`))==null?void 0:A.get("aria-label"))||"";r=e={annotationType:et.STAMP,bitmapId:K,bitmap:U,pageIndex:D-1,rect:m.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:Z},isSvg:!1,structParent:E,popupRef:C,richText:T,comment:(_==null?void 0:_.str)||null,creationDate:R,modificationDate:M}}const a=await super.deserialize(e,i,s),{rect:c,bitmap:u,bitmapUrl:h,bitmapId:d,isSvg:f,accessibilityData:p}=e;o?(s.addMissingCanvas(e.id,a),g(a,fc,!0)):d&&s.imageManager.isValidId(d)?(g(a,Be,d),u&&g(a,Kt,u)):g(a,Hr,h),g(a,ui,f);const[y,v]=a.pageDimensions;return a.width=(c[2]-c[0])/y,a.height=(c[3]-c[1])/v,p&&(a.altTextData=p),a._initialData=r,e.comment&&a.setCommentData(e),g(a,Uh,!!r),a}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:l(this,Be),isSvg:l(this,ui)});if(this.addComment(s),e)return s.bitmapUrl=S(this,gt,P0).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=S(this,gt,fM).call(this,s);return c.isSame?null:(c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(i===null)return s;i.stamps||(i.stamps=new Map);const a=l(this,ui)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(l(this,Be)))i.stamps.set(l(this,Be),{area:a,serialized:s}),s.bitmap=S(this,gt,P0).call(this,!1);else if(l(this,ui)){const c=i.stamps.get(l(this,Be));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=S(this,gt,P0).call(this,!1))}return s}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Kt=new WeakMap,Be=new WeakMap,ha=new WeakMap,Hr=new WeakMap,da=new WeakMap,zh=new WeakMap,$r=new WeakMap,fc=new WeakMap,Xs=new WeakMap,ui=new WeakMap,Uh=new WeakMap,gt=new WeakSet,nf=function(e,i=!1){if(!e){this.remove();return}g(this,Kt,e.bitmap),i||(g(this,Be,e.id),g(this,ui,e.isSvg)),e.file&&g(this,zh,e.file.name),S(this,gt,T0).call(this)},sf=function(){if(g(this,ha,null),this._uiManager.enableWaiting(!1),!!l(this,$r)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Kt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Kt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},C0=function(){if(l(this,Be)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Be)).then(s=>S(this,gt,nf).call(this,s,!0)).finally(()=>S(this,gt,sf).call(this));return}if(l(this,Hr)){const s=l(this,Hr);g(this,Hr,null),this._uiManager.enableWaiting(!0),g(this,ha,this._uiManager.imageManager.getFromUrl(s).then(r=>S(this,gt,nf).call(this,r)).finally(()=>S(this,gt,sf).call(this)));return}if(l(this,da)){const s=l(this,da);g(this,da,null),this._uiManager.enableWaiting(!0),g(this,ha,this._uiManager.imageManager.getFromFile(s).then(r=>S(this,gt,nf).call(this,r)).finally(()=>S(this,gt,sf).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=dy.join(",");const i=this._uiManager._signal;g(this,ha,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),S(this,gt,nf).call(this,r)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>S(this,gt,sf).call(this))),e.click()},T0=function(){var u;const{div:e}=this;let{width:i,height:s}=l(this,Kt);const[r,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>a*r||s>a*o){const h=Math.min(a*r/i,a*o/s);i*=h,s*=h}this._uiManager.enableWaiting(!1);const c=g(this,$r,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=i/r,this.height=s/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),S(this,gt,eb).call(this),l(this,Uh)||(this.parent.addUndoableEditor(this),g(this,Uh,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,zh)&&this.div.setAttribute("aria-description",l(this,zh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},k0=function(e,i){const{width:s,height:r}=l(this,Kt);let o=s,a=r,c=l(this,Kt);for(;o>2*e||a>2*i;){const u=o,h=a;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(c,0,0,u,h,0,0,o,a),c=d.transferToImageBitmap()}return c},eb=function(){const[e,i]=this.parentDimensions,{width:s,height:r}=this,o=new ys,a=Math.ceil(s*e*o.sx),c=Math.ceil(r*i*o.sy),u=l(this,$r);if(!u||u.width===a&&u.height===c)return;u.width=a,u.height=c;const h=l(this,ui)?l(this,Kt):S(this,gt,k0).call(this,a,c),d=u.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,a,c)},P0=function(e){if(e){if(l(this,ui)){const r=this._uiManager.imageManager.getSvgUrl(l(this,Be));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=l(this,Kt),i.getContext("2d").drawImage(l(this,Kt),0,0),i.toDataURL()}if(l(this,ui)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*lo.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*lo.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(l(this,Kt),0,0,l(this,Kt).width,l(this,Kt).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(l(this,Kt))},fM=function(e){var a;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=e.pageIndex===i,o=(((a=e.accessibilityData)==null?void 0:a.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},I(tb,"_type","stamp"),I(tb,"_editorType",et.STAMP);var pc,Hh,fa,pa,Wr,Bn,ma,$h,Wh,ls,Gr,je,Xr,ga,Gh,q,ya,Ft,nb,pM,Ss,ib,sb,_0;const qi=class qi{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:o,drawLayer:a,textLayer:c,viewport:u,l10n:h}){b(this,Ft);b(this,pc);b(this,Hh,!1);b(this,fa,null);b(this,pa,null);b(this,Wr,null);b(this,Bn,new Map);b(this,ma,!1);b(this,$h,!1);b(this,Wh,!1);b(this,ls,null);b(this,Gr,null);b(this,je,null);b(this,Xr,null);b(this,ga,null);b(this,Gh,-1);b(this,q);const d=[...l(qi,ya).values()];if(!qi._initialized){qi._initialized=!0;for(const f of d)f.initialize(h,t)}t.registerEditorTypes(d),g(this,q,t),this.pageIndex=e,this.div=i,g(this,pc,r),g(this,fa,o),this.viewport=u,g(this,je,c),this.drawLayer=a,this._structTree=s,l(this,q).addLayer(this)}get isEmpty(){return l(this,Bn).size===0}get isInvisible(){return this.isEmpty&&l(this,q).getMode()===et.NONE}updateToolbar(t){l(this,q).updateToolbar(t)}updateMode(t=l(this,q).getMode()){switch(S(this,Ft,_0).call(this),t){case et.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case et.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case et.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===et.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of l(qi,ya).values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=l(this,je))==null?void 0:e.div)}setEditingState(t){l(this,q).setEditingState(t)}addCommands(t){l(this,q).addCommands(t)}cleanUndoStack(t){l(this,q).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=l(this,fa))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;g(this,Wh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=l(this,ga))==null||i.abort(),g(this,ga,null);const t=new Set;for(const s of l(this,Ft,nb))s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,q).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));const e=l(this,fa);if(e)for(const s of e.getEditableAnnotations()){if(s.hide(),l(this,q).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}g(this,Wh,!1),l(this,q)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(g(this,$h,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,je)&&!l(this,ga)){g(this,ga,new AbortController);const s=l(this,q).combinedSignal(l(this,ga));l(this,je).div.addEventListener("pointerdown",r=>{const{clientX:a,clientY:c,timeStamp:u}=r,h=l(this,Gh);if(u-h>500){g(this,Gh,u);return}g(this,Gh,-1);const{classList:d}=this.div;d.toggle("getElements",!0);const f=document.elementsFromPoint(a,c);if(d.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const y=new RegExp(`^${Uf}[0-9]+$`);for(const A of f)if(y.test(A.id)){p=A.id;break}if(!p)return;const v=l(this,Bn).get(p);(v==null?void 0:v.annotationElementId)===null&&(r.stopPropagation(),r.preventDefault(),v.dblclick(r))},{signal:s,capture:!0})}const t=l(this,fa);if(t){const s=new Map,r=new Map;for(const a of l(this,Ft,nb)){if(a.disableEditing(),!a.annotationElementId){a.updateFakeAnnotationElement(t);continue}if(a.serialize()!==null){s.set(a.annotationElementId,a);continue}else r.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}const o=t.getEditableAnnotations();for(const a of o){const{id:c}=a.data;if(l(this,q).isDeletedAnnotationElement(c)){a.updateEdited({deleted:!0});continue}let u=r.get(c);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=s.get(c),u&&(l(this,q).addChangedExistingAnnotation(u),u.renderAnnotationElement(a)&&u.show(!1)),a.show()}}S(this,Ft,_0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const s of l(qi,ya).values())e.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),g(this,$h,!1)}getEditableAnnotation(t){var e;return((e=l(this,fa))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){l(this,q).getActive()!==t&&l(this,q).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=l(this,je))!=null&&t.div&&!l(this,Xr)){g(this,Xr,new AbortController);const e=l(this,q).combinedSignal(l(this,Xr));l(this,je).div.addEventListener("pointerdown",S(this,Ft,pM).bind(this),{signal:e}),l(this,je).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=l(this,je))!=null&&t.div&&l(this,Xr)&&(l(this,Xr).abort(),g(this,Xr,null),l(this,je).div.classList.remove("highlighting"))}enableClick(){if(l(this,pa))return;g(this,pa,new AbortController);const t=l(this,q).combinedSignal(l(this,pa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=l(this,pa))==null||t.abort(),g(this,pa,null)}attach(t){l(this,Bn).set(t.id,t);const{annotationElementId:e}=t;e&&l(this,q).isDeletedAnnotationElement(e)&&l(this,q).removeDeletedAnnotationElement(t)}detach(t){var e;l(this,Bn).delete(t.id),(e=l(this,pc))==null||e.removePointerInTextLayer(t.contentDiv),!l(this,$h)&&t.annotationElementId&&l(this,q).addDeletedAnnotationElement(t)}remove(t){this.detach(t),l(this,q).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(l(this,q).addDeletedAnnotationElement(t.annotationElementId),Vt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),l(this,q).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!l(this,Wh)),l(this,q).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!l(this,Wr)&&(t._focusEventsAllowed=!1,g(this,Wr,setTimeout(()=>{g(this,Wr,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:l(this,q)._signal}),e.focus())},0))),t._structTreeParentId=(i=l(this,pc))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of l(this,Bn).values())if(e.uid===t)return e;return null}getNextId(){return l(this,q).getId()}combinedSignal(t){return l(this,q).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=l(this,Ft,Ss))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await l(this,q).updateMode(t.mode);const{offsetX:i,offsetY:s}=S(this,Ft,sb).call(this),r=this.getNextId(),o=S(this,Ft,ib).call(this,{parent:this,id:r,x:i,y:s,uiManager:l(this,q),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=l(qi,ya).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,l(this,q)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),r=S(this,Ft,ib).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:l(this,q),isCentered:e,...i});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(t={}){this.createAndAddNewEditor(S(this,Ft,sb).call(this),!0,t)}setSelected(t){l(this,q).setSelected(t)}toggleSelected(t){l(this,q).toggleSelected(t)}unselect(t){l(this,q).unselect(t)}pointerup(t){var s;const{isMac:e}=He.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!l(this,ma)||(g(this,ma,!1),(s=l(this,Ft,Ss))!=null&&s.isDrawer&&l(this,Ft,Ss).supportMultipleDrawings))return;if(!l(this,Hh)){g(this,Hh,!0);return}const i=l(this,q).getMode();if(i===et.STAMP||i===et.SIGNATURE){l(this,q).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var s;if(l(this,q).getMode()===et.HIGHLIGHT&&this.enableTextSelection(),l(this,ma)){g(this,ma,!1);return}const{isMac:e}=He.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(g(this,ma,!0),(s=l(this,Ft,Ss))!=null&&s.isDrawer){this.startDrawingSession(t);return}const i=l(this,q).getActive();g(this,Hh,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),l(this,ls)){l(this,Ft,Ss).startDrawing(this,l(this,q),!1,t);return}l(this,q).setCurrentDrawingSession(this),g(this,ls,new AbortController);const e=l(this,q).combinedSignal(l(this,ls));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(g(this,Gr,null),this.commitOrRemove())},{signal:e}),l(this,Ft,Ss).startDrawing(this,l(this,q),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&g(this,Gr,e);return}l(this,Gr)&&setTimeout(()=>{var e;(e=l(this,Gr))==null||e.focus(),g(this,Gr,null)},0)}endDrawingSession(t=!1){return l(this,ls)?(l(this,q).setCurrentDrawingSession(null),l(this,ls).abort(),g(this,ls,null),g(this,Gr,null),l(this,Ft,Ss).endDrawing(t)):null}findNewParent(t,e,i){const s=l(this,q).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return l(this,ls)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,ls)&&l(this,Ft,Ss).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=l(this,q).getActive())==null?void 0:t.parent)===this&&(l(this,q).commitOrRemove(),l(this,q).setActiveEditor(null)),l(this,Wr)&&(clearTimeout(l(this,Wr)),g(this,Wr,null));for(const i of l(this,Bn).values())(e=l(this,pc))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,l(this,Bn).clear(),l(this,q).removeLayer(this)}render({viewport:t}){this.viewport=t,Da(this.div,t);for(const e of l(this,q).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){l(this,q).commitOrRemove(),S(this,Ft,_0).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Da(this.div,{rotation:i}),e!==i)for(const s of l(this,Bn).values())s.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return l(this,q).viewParameters.realScale}};pc=new WeakMap,Hh=new WeakMap,fa=new WeakMap,pa=new WeakMap,Wr=new WeakMap,Bn=new WeakMap,ma=new WeakMap,$h=new WeakMap,Wh=new WeakMap,ls=new WeakMap,Gr=new WeakMap,je=new WeakMap,Xr=new WeakMap,ga=new WeakMap,Gh=new WeakMap,q=new WeakMap,ya=new WeakMap,Ft=new WeakSet,nb=function(){return l(this,Bn).size!==0?l(this,Bn).values():l(this,q).getEditors(this.pageIndex)},pM=function(t){l(this,q).unselectAll();const{target:e}=t;if(e===l(this,je).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&l(this,je).div.contains(e)){const{isMac:i}=He.platform;if(t.button!==0||t.ctrlKey&&i)return;l(this,q).showAllEditors("highlight",!0,!0),l(this,je).div.classList.add("free"),this.toggleDrawing(),wy.startHighlighting(this,l(this,q).direction==="ltr",{target:l(this,je).div,x:t.x,y:t.y}),l(this,je).div.addEventListener("pointerup",()=>{l(this,je).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,q)._signal}),t.preventDefault()}},Ss=function(){return l(qi,ya).get(l(this,q).getMode())},ib=function(t){const e=l(this,Ft,Ss);return e?new e.prototype.constructor(t):null},sb=function(){const{x:t,y:e,width:i,height:s}=this.boundingClientRect,r=Math.max(0,t),o=Math.max(0,e),a=Math.min(window.innerWidth,t+i),c=Math.min(window.innerHeight,e+s),u=(r+a)/2-t,h=(o+c)/2-e,[d,f]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:d,offsetY:f}},_0=function(){for(const t of l(this,Bn).values())t.isEmpty()&&t.remove()},I(qi,"_initialized",!1),b(qi,ya,new Map([Ox,Xx,tb,wy,Jx].map(t=>[t._editorType,t])));let by=qi;var cs,bn,mc,_m,zy,mM,sr,rb,gM,ob;const Ce=class Ce{constructor({pageIndex:t}){b(this,sr);b(this,cs,null);b(this,bn,new Map);b(this,mc,new Map);this.pageIndex=t}setParent(t){if(!l(this,cs)){g(this,cs,t);return}if(l(this,cs)!==t){if(l(this,bn).size>0)for(const e of l(this,bn).values())e.remove(),t.append(e);g(this,cs,t)}}static get _svgFactory(){return rt(this,"_svgFactory",new Yf)}draw(t,e=!1,i=!1){const s=Ee(Ce,_m)._++,r=S(this,sr,rb).call(this),o=Ce._svgFactory.createElement("defs");r.append(o);const a=Ce._svgFactory.createElement("path");o.append(a);const c=`path_p${this.pageIndex}_${s}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke"),e&&l(this,mc).set(s,a);const u=i?S(this,sr,gM).call(this,o,c):null,h=Ce._svgFactory.createElement("use");return r.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(r,t),l(this,bn).set(s,r),{id:s,clipPathId:`url(#${u})`}}drawOutline(t,e){const i=Ee(Ce,_m)._++,s=S(this,sr,rb).call(this),r=Ce._svgFactory.createElement("defs");s.append(r);const o=Ce._svgFactory.createElement("path");r.append(o);const a=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(e){const d=Ce._svgFactory.createElement("mask");r.append(d),c=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",c),d.setAttribute("maskUnits","objectBoundingBox");const f=Ce._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Ce._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Ce._svgFactory.createElement("use");s.append(u),u.setAttribute("href",`#${a}`),c&&u.setAttribute("mask",`url(#${c})`);const h=u.cloneNode();return s.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,t),l(this,bn).set(i,s),i}finalizeDraw(t,e){l(this,mc).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var c;if(!e)return;const{root:i,bbox:s,rootClass:r,path:o}=e,a=typeof t=="number"?l(this,bn).get(t):t;if(a){if(i&&S(this,sr,ob).call(this,a,i),s&&S(c=Ce,zy,mM).call(c,a,s),r){const{classList:u}=a;for(const[h,d]of Object.entries(r))u.toggle(h,d)}if(o){const h=a.firstChild.firstChild;S(this,sr,ob).call(this,h,o)}}}updateParent(t,e){if(e===this)return;const i=l(this,bn).get(t);i&&(l(e,cs).append(i),l(this,bn).delete(t),l(e,bn).set(t,i))}remove(t){l(this,mc).delete(t),l(this,cs)!==null&&(l(this,bn).get(t).remove(),l(this,bn).delete(t))}destroy(){g(this,cs,null);for(const t of l(this,bn).values())t.remove();l(this,bn).clear(),l(this,mc).clear()}};cs=new WeakMap,bn=new WeakMap,mc=new WeakMap,_m=new WeakMap,zy=new WeakSet,mM=function(t,[e,i,s,r]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*s}%`,o.height=`${100*r}%`},sr=new WeakSet,rb=function(){const t=Ce._svgFactory.create(1,1,!0);return l(this,cs).append(t),t.setAttribute("aria-hidden",!0),t},gM=function(t,e){const i=Ce._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Ce._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},ob=function(t,e){for(const[i,s]of Object.entries(e))s===null?t.removeAttribute(i):t.setAttribute(i,s)},b(Ce,zy),b(Ce,_m,0);let Ay=Ce;globalThis._pdfjsTestingUtils={HighlightOutliner:jx};globalThis.pdfjsLib={AbortException:ao,AnnotationEditorLayer:by,AnnotationEditorParamsType:ht,AnnotationEditorType:et,AnnotationEditorUIManager:Na,AnnotationLayer:tS,AnnotationMode:Ys,AnnotationType:fe,applyOpacity:fR,build:yL,ColorPicker:Kf,createValidAbsoluteUrl:zA,CSSConstants:dR,DOMSVGFactory:Yf,DrawLayer:Ay,FeatureTest:He,fetchData:dd,findContrastColor:pR,getDocument:qA,getFilenameFromUrl:cR,getPdfFilenameFromUrl:uR,getRGB:fd,getUuid:HA,getXfaPageViewport:hR,GlobalWorkerOptions:mi,ImageKind:wf,InvalidPDFException:hy,isDataScheme:Xm,isPdfFile:yv,isValidExplicitDest:XR,MathClamp:fn,noContextMenu:bi,normalizeUnicode:aR,OPS:nd,OutputScale:ys,PasswordResponses:rR,PDFDataRangeTransport:QA,PDFDateString:Wf,PDFWorker:id,PermissionFlag:sR,PixelsPerInch:lo,RenderingCancelledException:gv,renderRichText:GA,ResponseException:Hf,setLayerDimensions:Da,shadow:rt,SignatureExtractor:qs,stopEvent:Jt,SupportedImageMimeTypes:dy,TextLayer:Xf,TouchManager:Gf,updateUrlHash:UA,Util:W,VerbosityLevel:$m,version:gL,XfaLayer:WA};const ej=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ao,AnnotationEditorLayer:by,AnnotationEditorParamsType:ht,AnnotationEditorType:et,AnnotationEditorUIManager:Na,AnnotationLayer:tS,AnnotationMode:Ys,AnnotationType:fe,CSSConstants:dR,ColorPicker:Kf,DOMSVGFactory:Yf,DrawLayer:Ay,FeatureTest:He,GlobalWorkerOptions:mi,ImageKind:wf,InvalidPDFException:hy,MathClamp:fn,OPS:nd,OutputScale:ys,PDFDataRangeTransport:QA,PDFDateString:Wf,PDFWorker:id,PasswordResponses:rR,PermissionFlag:sR,PixelsPerInch:lo,RenderingCancelledException:gv,ResponseException:Hf,SignatureExtractor:qs,SupportedImageMimeTypes:dy,TextLayer:Xf,TouchManager:Gf,Util:W,VerbosityLevel:$m,XfaLayer:WA,applyOpacity:fR,build:yL,createValidAbsoluteUrl:zA,fetchData:dd,findContrastColor:pR,getDocument:qA,getFilenameFromUrl:cR,getPdfFilenameFromUrl:uR,getRGB:fd,getUuid:HA,getXfaPageViewport:hR,isDataScheme:Xm,isPdfFile:yv,isValidExplicitDest:XR,noContextMenu:bi,normalizeUnicode:aR,renderRichText:GA,setLayerDimensions:Da,shadow:rt,stopEvent:Jt,updateUrlHash:UA,version:gL},Symbol.toStringTag,{value:"Module"}));function yM(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=yM(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function xv(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=yM(n))&&(i&&(i+=" "),i+=t);return i}var _C=Object.prototype.hasOwnProperty;function RC(n,t,e){for(e of n.keys())if(wu(e,t))return e}function wu(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&wu(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=RC(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=RC(t,s),!s)||!wu(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(_C.call(n,e)&&++i&&!_C.call(t,e)||!(e in t)||!wu(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function Qm(n){let t=!1;return{promise:new Promise((i,s)=>{n.then(r=>!t&&i(r)).catch(r=>!t&&s(r))}),cancel(){t=!0}}}const nj=["onCopy","onCut","onPaste"],ij=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],sj=["onFocus","onBlur"],rj=["onInput","onInvalid","onReset","onSubmit"],oj=["onLoad","onError"],aj=["onKeyDown","onKeyPress","onKeyUp"],lj=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],cj=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],uj=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],hj=["onSelect"],dj=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],fj=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],pj=["onScroll"],mj=["onWheel"],gj=["onAnimationStart","onAnimationEnd","onAnimationIteration"],yj=["onTransitionEnd"],vj=["onToggle"],wj=["onChange"],xj=[...nj,...ij,...sj,...rj,...oj,...aj,...lj,...cj,...uj,...hj,...dj,...fj,...pj,...mj,...gj,...yj,...wj,...vj];function vM(n,t){const e={};for(const i of xj){const s=n[i];s&&(t?e[i]=r=>s(r,t(i)):e[i]=s)}return e}var bj="Invariant failed";function It(n,t){if(!n)throw new Error(bj)}var Aj=function(){},Sj=Aj;const mn=VC(Sj),wM=k.createContext(null),Ej="noopener noreferrer nofollow";class Cj{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return It(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){It(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||Ej,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{It(this.pdfDocument),It(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{It(Array.isArray(e));const i=e[0];new Promise(s=>{It(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(r=>{s(r)}).catch(()=>{It(!1)}):typeof i=="number"?s(i):It(!1)}).then(s=>{const r=s+1;It(this.pdfViewer),It(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}goToPage(t){const e=t-1;It(this.pdfViewer),It(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function xu({children:n,type:t}){return P.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const LC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Tj(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function sd(){return k.useReducer(Tj,{value:void 0,error:void 0})}const bv=typeof window<"u",xM=bv&&window.location.protocol==="file:";function kj(n){return typeof n<"u"}function Ha(n){return kj(n)&&n!==null}function Pj(n){return typeof n=="string"}function _j(n){return n instanceof ArrayBuffer}function Rj(n){return It(bv),n instanceof Blob}function ab(n){return Pj(n)&&/^data:/.test(n)}function MC(n){It(ab(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function Lj(){return bv&&window.devicePixelRatio||1}const bM="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function DC(){mn(!xM,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${bM}`)}function Mj(){mn(!xM,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${bM}`)}function Tc(n){n!=null&&n.cancel&&n.cancel()}function lb(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function Dj(n){return n.name==="RenderingCancelledException"}function Nj(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:Ij}=ej,Fj=(n,t)=>{switch(t){case LC.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case LC.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function NC(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const AM=k.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:r,file:o,inputRef:a,imageResourcesPath:c,loading:u="Loading PDF",noData:h="No PDF file specified.",onItemClick:d,onLoadError:f,onLoadProgress:p,onLoadSuccess:y,onPassword:v=Fj,onSourceError:A,onSourceSuccess:m,options:w,renderMode:x,rotate:E,scale:C,...T},_){const[R,M]=sd(),{value:L,error:D}=R,[B,K]=sd(),{value:U,error:Z}=B,V=k.useRef(new Cj),F=k.useRef([]),N=k.useRef(void 0),z=k.useRef(void 0);o&&o!==N.current&&NC(o)&&(mn(!wu(o,N.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),N.current=o),w&&w!==z.current&&(mn(!wu(w,z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),z.current=w);const Y=k.useRef({scrollPageIntoView:vt=>{const{dest:Wt,pageNumber:Se,pageIndex:Me=Se-1}=vt;if(d){d({dest:Wt,pageIndex:Me,pageNumber:Se});return}const Mc=F.current[Me];if(Mc){Mc.scrollIntoView();return}mn(!1,`An internal link leading to page ${Se} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});k.useImperativeHandle(_,()=>({linkService:V,pages:F,viewer:Y}),[]);function dt(){m&&m()}function Q(){D&&(mn(!1,D.toString()),A&&A(D))}function lt(){M({type:"RESET"})}k.useEffect(lt,[o,M]);const Lt=k.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return ab(o)?{data:MC(o)}:(DC(),{url:o});if(o instanceof Ij)return{range:o};if(_j(o))return{data:o};if(bv&&Rj(o))return{data:await Nj(o)};if(It(typeof o=="object"),It(NC(o)),"url"in o&&typeof o.url=="string"){if(ab(o.url)){const{url:vt,...Wt}=o;return{data:MC(vt),...Wt}}DC()}return o},[o]);k.useEffect(()=>{const vt=Qm(Lt());return vt.promise.then(Wt=>{M({type:"RESOLVE",value:Wt})}).catch(Wt=>{M({type:"REJECT",error:Wt})}),()=>{Tc(vt)}},[Lt,M]),k.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){Q();return}dt()}},[L]);function de(){U&&(y&&y(U),F.current=new Array(U.numPages),V.current.setDocument(U))}function $t(){Z&&(mn(!1,Z.toString()),f&&f(Z))}k.useEffect(function(){K({type:"RESET"})},[K,L]),k.useEffect(function(){if(!L)return;const Wt=w?{...L,...w}:L,Se=qA(Wt);p&&(Se.onProgress=p),v&&(Se.onPassword=v);const Me=Se,Mc=Me.promise.then(pd=>{K({type:"RESOLVE",value:pd})}).catch(pd=>{Me.destroyed||K({type:"REJECT",error:pd})});return()=>{Mc.finally(()=>Me.destroy())}},[w,K,L]),k.useEffect(()=>{if(!(typeof U>"u")){if(U===!1){$t();return}de()}},[U]),k.useEffect(function(){V.current.setViewer(Y.current),V.current.setExternalLinkRel(s),V.current.setExternalLinkTarget(r)},[s,r]);const yt=k.useCallback((vt,Wt)=>{F.current[vt]=Wt},[]),fo=k.useCallback(vt=>{delete F.current[vt]},[]),Wn=k.useMemo(()=>({imageResourcesPath:c,linkService:V.current,onItemClick:d,pdf:U,registerPage:yt,renderMode:x,rotate:E,scale:C,unregisterPage:fo}),[c,d,U,yt,x,E,C,fo]),Mt=k.useMemo(()=>vM(T,()=>U),[T,U]);function Gn(){function vt(Se){return!!(Se!=null&&Se.pdf)}if(!vt(Wn))throw new Error("pdf is undefined");const Wt=typeof t=="function"?t(Wn):t;return P.jsx(wM.Provider,{value:Wn,children:Wt})}function or(){return o?U==null?P.jsx(xu,{type:"loading",children:typeof u=="function"?u():u}):U===!1?P.jsx(xu,{type:"error",children:typeof i=="function"?i():i}):Gn():P.jsx(xu,{type:"no-data",children:typeof h=="function"?h():h})}return P.jsx("div",{className:xv("react-pdf__Document",e),ref:a,...Mt,children:or()})});function SM(){return k.useContext(wM)}function EM(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(r){for(var o=0,a=e;o<a.length;o++){var c=a[o];typeof c=="function"?c(r):c&&(c.current=r)}}}const CM=k.createContext(null);function Av(){return k.useContext(CM)}function Oj(){const n=SM(),t=Av();It(t);const e={...n,...t},{imageResourcesPath:i,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:c,page:u,pdf:h,renderForms:d,rotate:f,scale:p=1}=e;It(h),It(u),It(s);const[y,v]=sd(),{value:A,error:m}=y,w=k.useRef(null);mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){A&&o&&o(A)}function E(){m&&(mn(!1,m.toString()),r&&r(m))}k.useEffect(function(){v({type:"RESET"})},[v,u]),k.useEffect(function(){if(!u)return;const M=Qm(u.getAnnotations()),L=M;return M.promise.then(D=>{v({type:"RESOLVE",value:D})}).catch(D=>{v({type:"REJECT",error:D})}),()=>{Tc(L)}},[v,u]),k.useEffect(()=>{if(A!==void 0){if(A===!1){E();return}x()}},[A]);function C(){c&&c()}function T(R){mn(!1,`${R}`),a&&a(R)}const _=k.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return k.useEffect(function(){if(!h||!u||!s||!A)return;const{current:M}=w;if(!M)return;const L=_.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:h.annotationStorage,commentManager:null,div:M,l10n:null,linkService:s,page:u,structTreeLayer:null,viewport:L},B={annotations:A,annotationStorage:h.annotationStorage,div:M,imageResourcesPath:i,linkService:s,page:u,renderForms:d,viewport:L};M.innerHTML="";try{new tS(D).render(B),C()}catch(K){T(K)}return()=>{}},[A,i,s,u,h,d,_]),P.jsx("div",{className:xv("react-pdf__Page__annotations","annotationLayer"),ref:w})}const TM={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Bj=/^H(\d+)$/;function jj(n){return n in TM}function Sv(n){return"children"in n}function kM(n){return Sv(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Vj(n){const t={};if(Sv(n)){const{role:e}=n,i=e.match(Bj);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(jj(e)){const s=TM[e];s&&(t.role=s)}}return t}function PM(n){const t={};if(Sv(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),kM(n)){const[e]=n.children;if(e){const i=PM(e);return{...t,...i}}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function zj(n){return n?{...Vj(n),...PM(n)}:null}function _M({className:n,node:t}){const e=k.useMemo(()=>zj(t),[t]),i=k.useMemo(()=>!Sv(t)||kM(t)?null:t.children.map((s,r)=>P.jsx(_M,{node:s},r)),[t]);return P.jsx("span",{className:n,...e,children:i})}function Uj(){const n=Av();It(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=sd(),{value:r,error:o}=i,{customTextRenderer:a,page:c}=n;function u(){r&&e&&e(r)}function h(){o&&(mn(!1,o.toString()),t&&t(o))}return k.useEffect(function(){s({type:"RESET"})},[s,c]),k.useEffect(function(){if(a||!c)return;const f=Qm(c.getStructTree()),p=f;return f.promise.then(y=>{s({type:"RESOLVE",value:y})}).catch(y=>{s({type:"REJECT",error:y})}),()=>Tc(p)},[a,c,s]),k.useEffect(()=>{if(r!==void 0){if(r===!1){h();return}u()}},[r]),r?P.jsx(_M,{className:"react-pdf__Page__structTree structTree",node:r}):null}const IC=Ys;function Hj(n){const t=Av();It(t);const e={...t,...n},{_className:i,canvasBackground:s,devicePixelRatio:r=Lj(),onRenderError:o,onRenderSuccess:a,page:c,renderForms:u,renderTextLayer:h,rotate:d,scale:f}=e,{canvasRef:p}=n;It(c);const y=k.useRef(null);function v(){c&&a&&a(lb(c,f))}function A(E){Dj(E)||(mn(!1,E.toString()),o&&o(E))}const m=k.useMemo(()=>c.getViewport({scale:f*r,rotation:d}),[r,c,d,f]),w=k.useMemo(()=>c.getViewport({scale:f,rotation:d}),[c,d,f]);k.useEffect(function(){if(!c)return;c.cleanup();const{current:C}=y;if(!C)return;C.width=m.width,C.height=m.height,C.style.width=`${Math.floor(w.width)}px`,C.style.height=`${Math.floor(w.height)}px`,C.style.visibility="hidden";const T={annotationMode:u?IC.ENABLE_FORMS:IC.ENABLE,canvas:C,canvasContext:C.getContext("2d",{alpha:!1}),viewport:m};s&&(T.background=s);const _=c.render(T),R=_;return _.promise.then(()=>{C.style.visibility="",v()}).catch(A),()=>Tc(R)},[s,c,u,m,w]);const x=k.useCallback(()=>{const{current:E}=y;E&&(E.width=0,E.height=0)},[]);return k.useEffect(()=>x,[x]),P.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:EM(p,y),style:{display:"block",userSelect:"none"},children:h?P.jsx(Uj,{}):null})}function $j(n){return"str"in n}function Wj(){const n=Av();It(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:o,pageIndex:a,pageNumber:c,rotate:u,scale:h}=n;It(o);const[d,f]=sd(),{value:p,error:y}=d,v=k.useRef(null);mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){p&&i&&i(p)}function m(){y&&(mn(!1,y.toString()),e&&e(y))}k.useEffect(function(){f({type:"RESET"})},[o,f]),k.useEffect(function(){if(!o)return;const R=Qm(o.getTextContent()),M=R;return R.promise.then(L=>{f({type:"RESOLVE",value:L})}).catch(L=>{f({type:"REJECT",error:L})}),()=>Tc(M)},[o,f]),k.useEffect(()=>{if(p!==void 0){if(p===!1){m();return}A()}},[p]);const w=k.useCallback(()=>{r&&r()},[r]),x=k.useCallback(_=>{mn(!1,_.toString()),s&&s(_)},[s]);function E(){const _=v.current;_&&_.classList.add("selecting")}function C(){const _=v.current;_&&_.classList.remove("selecting")}const T=k.useMemo(()=>o.getViewport({scale:h,rotation:u}),[o,u,h]);return k.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=v;if(!R)return;R.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),L={container:R,textContentSource:M,viewport:T},D=new Xf(L),B=D;return D.render().then(()=>{const K=document.createElement("div");K.className="endOfContent",R.append(K);const U=R.querySelectorAll('[role="presentation"]');if(t){let Z=0;p.items.forEach((V,F)=>{if(!$j(V))return;const N=U[Z];if(!N)return;const z=t({pageIndex:a,pageNumber:c,itemIndex:F,...V});N.innerHTML=z,Z+=V.str&&V.hasEOL?2:1})}w()}).catch(x),()=>Tc(B)},[t,x,w,o,a,c,p,T]),P.jsx("div",{className:xv("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:E,ref:v})}const FC=1;function RM(n){const e={...SM(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:o,children:a,className:c,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:y,loading:v="Loading page",noData:A="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:E,onGetTextError:C,onGetTextSuccess:T,onLoadError:_,onLoadSuccess:R,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:D,onRenderSuccess:B,onRenderTextLayerError:K,onRenderTextLayerSuccess:U,pageIndex:Z,pageNumber:V,pdf:F,registerPage:N,renderAnnotationLayer:z=!0,renderForms:Y=!1,renderMode:dt="canvas",renderTextLayer:Q=!0,rotate:lt,scale:Lt=FC,unregisterPage:de,width:$t,...yt}=e,[fo,Wn]=sd(),{value:Mt,error:Gn}=fo,or=k.useRef(null);It(F);const vt=Ha(V)?V-1:Z??null,Wt=V??(Ha(Z)?Z+1:null),Se=lt??(Mt?Mt.rotate:null),Me=k.useMemo(()=>{if(!Mt)return null;let po=1;const Dc=Lt??FC;if($t||p){const mo=Mt.getViewport({scale:1,rotation:Se});$t?po=$t/mo.width:p&&(po=p/mo.height)}return Dc*po},[p,Mt,Se,Lt,$t]);k.useEffect(function(){return()=>{Ha(vt)&&s&&de&&de(vt)}},[s,F,vt,de]);function Mc(){if(R){if(!Mt||!Me)return;R(lb(Mt,Me))}if(s&&N){if(!Ha(vt)||!or.current)return;N(vt,or.current)}}function pd(){Gn&&(mn(!1,Gn.toString()),_&&_(Gn))}k.useEffect(function(){Wn({type:"RESET"})},[Wn,F,vt]),k.useEffect(function(){if(!F||!Wt)return;const Dc=Qm(F.getPage(Wt)),mo=Dc;return Dc.promise.then(Cv=>{Wn({type:"RESOLVE",value:Cv})}).catch(Cv=>{Wn({type:"REJECT",error:Cv})}),()=>Tc(mo)},[Wn,F,Wt]),k.useEffect(()=>{if(Mt!==void 0){if(Mt===!1){pd();return}Mc()}},[Mt,Me]);const Ev=k.useMemo(()=>Ha(vt)&&Wt&&Ha(Se)&&Ha(Me)?{_className:i,canvasBackground:r,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:m,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:E,onGetTextError:C,onGetTextSuccess:T,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:D,onRenderSuccess:B,onRenderTextLayerError:K,onRenderTextLayerSuccess:U,page:Mt,pageIndex:vt,pageNumber:Wt,renderForms:Y,renderTextLayer:Q,rotate:Se,scale:Me}:null,[i,r,h,d,m,w,x,E,C,T,M,L,D,B,K,U,Mt,vt,Wt,Y,Q,Se,Me]),MM=k.useMemo(()=>vM(yt,()=>Mt&&(Me?lb(Mt,Me):void 0)),[yt,Mt,Me]),Zm=`${vt}@${Me}/${Se}`;function DM(){switch(dt){case"custom":return It(u),P.jsx(u,{},`${Zm}_custom`);case"none":return null;case"canvas":default:return P.jsx(Hj,{canvasRef:o},`${Zm}_canvas`)}}function NM(){return Q?P.jsx(Wj,{},`${Zm}_text`):null}function IM(){return z?P.jsx(Oj,{},`${Zm}_annotations`):null}function FM(){function po(mo){return!!(mo!=null&&mo.page)}if(!po(Ev))throw new Error("page is undefined");const Dc=typeof a=="function"?a(Ev):a;return P.jsxs(CM.Provider,{value:Ev,children:[DM(),NM(),IM(),Dc]})}function OM(){return Wt?F===null||Mt===void 0||Mt===null?P.jsx(xu,{type:"loading",children:typeof v=="function"?v():v}):F===!1||Mt===!1?P.jsx(xu,{type:"error",children:typeof f=="function"?f():f}):FM():P.jsx(xu,{type:"no-data",children:typeof A=="function"?A():A})}return P.jsx("div",{className:xv(i,c),"data-page-number":Wt,ref:EM(y,or),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Me}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...MM,children:OM()})}Mj();mi.workerSrc="pdf.worker.mjs";const Gj="/Adtvnus/assets/smapsic--4GaEp6V.jpg",Xj="/Adtvnus/assets/KSM-Drt7aoGV.jpg",Kj="/Adtvnus/assets/OM_UNRI-lDT4Ezh_.jpg",Yj="/Adtvnus/assets/KNF-05BP_db4.jpg",qj="/Adtvnus/assets/FlashSoft-fexzeSWD.jpg",Qj="/Adtvnus/assets/gemini-CMpQglpv.pdf",Zj="/Adtvnus/assets/dicoding_memulai_pemrograman_dengan_python-BuvRhlKR.pdf",Jj="/Adtvnus/assets/belajar_dasar_AI-Byctvg7o.pdf";mi.workerSrc=new URL("/Adtvnus/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();const tV=[{id:1,title:"Learning Foundations of AI",issuer:"Dicoding Indonesia",date:"Oct 2025",description:"Acquired fundamental knowledge of Artificial Intelligence, including its history, basic concepts, and real-world applications across various industries. Credential ID: 07Z6J7W82XQR. Valid until Oct 2028.",link:"https://www.dicoding.com/certificates/07Z6J7W82XQR",category:"AI",pdf:Jj},{id:2,title:"Starting Programming with Python",issuer:"Dicoding Indonesia",date:"Aug 2025",description:"Learned Python fundamentals, from basic syntax to popular libraries that form the foundation for data science, machine learning, and back-end development. Credential ID: 6RPNG8R89Z2M. Valid until Aug 2028.",link:"https://www.dicoding.com/certificates/6RPNG8R89Z2M",category:"Python",pdf:Zj},{id:3,title:"Gemini Certified University Student",issuer:"Google for Education",date:"Oct 2025",description:"Certified university student proficiency in Google Gemini. Credential ID: 163322461. Valid until Oct 2028.",link:"https://edu.google.accredible.com/8d7c68ec-9c1f-4ebf-90a0-c69b474531cf#acc.CQWsiSmv",category:"AI",pdf:Qj},{id:4,title:"Python Programming Certification  Flashsoft Indonesia",issuer:"Flashsoft Indonesia",date:"Nov 2023",description:"Bootcamp Flashsoft Indonesia Batch 5 | PYTHON. Comprehensive training in Python programming fundamentals and advanced concepts.",link:"#",category:"Python",image:qj},{id:5,title:"Participant  SMANSA Padang Science Competition XVII + Jr XIII",issuer:"Ganesha Operation",date:"2022",description:"Pre-Olympiad of Sumatra. Credential ID: 422/0860/SMA.01/2022.",link:"#",category:"Mathematics",image:Gj},{id:6,title:"1st Runner-up  Integrated Mathematics  Madrasah Science Competition 2021",issuer:"Kementerian Agama Republik Indonesia",date:"Aug 2021",description:"District/City Level competition for Integrated Mathematics.",link:"#",category:"Mathematics",image:Xj},{id:7,title:"2nd Runner-up Individual Math Competition (IMC)  National Level Mathematics Olympiad 22",issuer:"Universitas Riau",date:"Mar 2022",description:"National Level Mathematics Olympiad (OM 22). Credential ID: 10/SRTF/Panpel_OM_22/HP7/FV/KE/III/2022.",link:"#",category:"Mathematics",image:Kj},{id:8,title:"Automation Device Project  Karya Nyata Festival Vol. 6",issuer:"Rumah BUMN Riau",date:"Apr 2024",description:"Developed an automation-based device showcased at Karya Nyata Festival Vol. 6 Pekanbaru, as part of the research division in collaboration with Rumah BUMN.",link:"#",category:"IoT",image:Yj}];function OC({cert:n,isModal:t=!1}){const e=k.useRef(null),[i,s]=k.useState(t?500:300);return k.useEffect(()=>{const r=()=>{e.current&&s(e.current.offsetWidth)},o=setTimeout(r,100);return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),clearTimeout(o)}},[t]),n.pdf?P.jsx("div",{ref:e,className:`flex items-center justify-center bg-gray-100 dark:bg-black overflow-hidden w-full ${t?"p-4":""}`,children:P.jsx(AM,{file:n.pdf,loading:P.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-800 w-full h-[300px] md:h-[500px]"}),children:P.jsx(RM,{pageNumber:1,width:i>40?i-(t?32:0):300,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-xl"})})}):n.image?P.jsx("img",{src:n.image,alt:n.title,className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${t?"rounded-lg shadow-lg":""}`}):P.jsx("div",{className:"w-full h-full min-h-[200px] flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-400",children:P.jsx(tR,{className:t?"text-8xl":"text-5xl"})})}function eV(){const[n,t]=k.useState(null);return P.jsxs("section",{id:"certificates",className:"py-24 bg-white dark:bg-black relative overflow-hidden scroll-mt-20 transition-colors duration-300",children:[P.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-blue-50/50 to-transparent dark:from-blue-900/10 pointer-events-none"}),P.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[P.jsxs(Et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[P.jsx("h2",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400 tracking-wide uppercase mb-2",children:"Notable Achievements"}),P.jsx("h3",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Certificates"})]}),P.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-8",children:tV.map((e,i)=>P.jsxs(Et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:i*.1},viewport:{once:!0},onClick:()=>t(e),className:"group bg-white dark:bg-gray-900 rounded-lg md:rounded-[20px] overflow-hidden border border-gray-100 dark:border-gray-800/50 hover:border-blue-500/30 dark:hover:border-blue-400/30 transition-all duration-300 shadow-sm hover:shadow-xl hover:-translate-y-2 flex flex-col h-full cursor-pointer",children:[P.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden bg-gray-100 dark:bg-gray-800",children:[P.jsx(OC,{cert:e}),P.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:P.jsx("span",{className:"bg-white/90 dark:bg-black/80 px-4 py-2 rounded-full text-xs font-bold text-gray-900 dark:text-white backdrop-blur-sm transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:"View Certificate"})})]}),P.jsxs("div",{className:"p-2 md:p-6 flex-grow flex flex-col",children:[P.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-4",children:[P.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-blue-600 dark:text-blue-400 px-1.5 md:px-2.5 py-0.5 md:py-1 bg-blue-50/50 dark:bg-blue-900/10 rounded-full uppercase tracking-wider",children:e.category}),P.jsx("div",{className:"text-gray-400 dark:text-gray-600",children:P.jsx(tR,{className:"text-sm md:text-lg"})})]}),P.jsxs("div",{className:"flex-grow space-y-1.5 md:space-y-3",children:[P.jsx("h4",{className:"text-[10px] md:text-lg font-bold text-gray-900 dark:text-white leading-tight group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2 min-h-[1.5rem] md:min-h-[3.5rem]",children:e.title}),P.jsxs("div",{className:"space-y-1 md:space-y-2",children:[P.jsxs("div",{className:"flex items-center text-[8px] md:text-sm text-gray-600 dark:text-gray-400 gap-1.5 md:gap-2.5",children:[P.jsx(tC,{className:"text-blue-500/60 dark:text-blue-400/60 scale-75 md:scale-100"}),P.jsx("span",{className:"truncate",children:e.issuer})]}),P.jsxs("div",{className:"flex items-center text-[8px] md:text-xs text-gray-500 dark:text-gray-500 gap-1.5 md:gap-2.5",children:[P.jsx(K2,{className:"opacity-60 scale-75 md:scale-100"}),P.jsx("span",{children:e.date})]})]})]})]})]},e.id))})]}),P.jsx(_a,{children:n&&P.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md",onClick:()=>t(null),children:P.jsxs(Et.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[P.jsx("button",{onClick:()=>t(null),className:"absolute top-4 right-4 p-2 rounded-full bg-gray-100/50 dark:bg-gray-800/50 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white transition-colors z-20 backdrop-blur-sm",children:P.jsx(uy,{})}),P.jsxs("div",{className:"flex flex-col md:flex-row",children:[P.jsx("div",{className:"md:w-3/5",children:P.jsx(OC,{cert:n,isModal:!0})}),P.jsxs("div",{className:"md:w-2/5 p-8 flex flex-col justify-center",children:[P.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-2",children:n.category}),P.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4 leading-tight",children:n.title}),P.jsxs("div",{className:"space-y-3 mb-6",children:[P.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 gap-2",children:[P.jsx(tC,{})," ",P.jsx("span",{children:n.issuer})]}),P.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-500 gap-2",children:[P.jsx(K2,{})," ",P.jsx("span",{children:n.date})]})]}),P.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-8",children:n.description}),n.link!=="#"&&P.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"w-full py-4 bg-black dark:bg-white text-white dark:text-black rounded-xl font-bold text-center hover:opacity-90 transition-opacity shadow-lg",children:"Verify Credential"})]})]})]})})})]})}const Ew="/Adtvnus/assets/Adit_Resume-DFHAdPa-.pdf";mi.workerSrc=new URL("/Adtvnus/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();function LM(){const[n,t]=k.useState(null),[e,i]=k.useState(1),[s,r]=k.useState(800),o=k.useRef(null),a=k.useRef(null);function c({numPages:u}){t(u)}return k.useEffect(()=>{function u(){o.current&&r(o.current.clientWidth-48)}return window.addEventListener("resize",u),u(),()=>window.removeEventListener("resize",u)},[]),k.useEffect(()=>{if(!n)return;const u={root:o.current,rootMargin:"0px",threshold:.5},h=f=>{f.forEach(p=>{if(p.isIntersecting){const y=parseInt(p.target.getAttribute("data-page-number")||"1");i(y)}})};return a.current=new IntersectionObserver(h,u),document.querySelectorAll(".pdf-page").forEach(f=>{var p;return(p=a.current)==null?void 0:p.observe(f)}),()=>{var f;(f=a.current)==null||f.disconnect()}},[n,s]),P.jsx("section",{id:"resume",className:"pt-24 min-h-screen bg-gray-50 dark:bg-black transition-colors duration-300 scroll-mt-20",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-24",children:[P.jsxs(Et.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[P.jsx("h2",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400 tracking-wide uppercase mb-2",children:"My Background"}),P.jsx("h3",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Professional Resume"})]}),P.jsx(Et.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-end mb-6",children:P.jsxs(Et.a,{href:Ew,download:"Aditya_Resume.pdf",whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-black dark:bg-white text-white dark:text-black rounded-full font-medium shadow-sm hover:shadow-md transition-all flex items-center gap-2 text-sm",children:[P.jsx(Q5,{}),"Download PDF"]})}),P.jsx("div",{className:"flex justify-center mb-4",children:P.jsxs("span",{className:"px-4 py-2 bg-white dark:bg-gray-900 rounded-full border border-gray-200 dark:border-gray-800 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm",children:["Page ",e," of ",n||"--"]})}),P.jsx(Et.div,{id:"pdf-container",ref:o,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full bg-gray-200 dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 overflow-auto h-[75vh] flex justify-center p-4 no-scrollbar",children:P.jsx(AM,{file:Ew,onLoadSuccess:c,loading:P.jsx("div",{className:"flex items-center justify-center h-full",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-white"})}),error:P.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-red-500",children:[P.jsx("p",{children:"Failed to load PDF."}),P.jsx("a",{href:Ew,download:!0,className:"underline mt-2",children:"Download File"})]}),className:"flex flex-col gap-8",children:n&&Array.from(new Array(n),(u,h)=>P.jsx("div",{className:"pdf-page","data-page-number":h+1,children:P.jsx(RM,{pageNumber:h+1,width:s>800?800:s,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-lg"})},`page_${h+1}`))})})]})})}function nV(){return P.jsxs("main",{children:[P.jsx(rB,{}),P.jsx(mB,{}),P.jsx(eV,{}),P.jsx(LM,{})]})}function iV(){return P.jsx("div",{className:"pt-20",children:P.jsx(LM,{})})}function sV(){return P.jsxs("div",{className:"bg-white dark:bg-black text-black dark:text-white min-h-screen font-sans transition-colors duration-300 flex flex-col",children:[P.jsx(nB,{}),P.jsx("div",{className:"flex-grow",children:P.jsx(sN,{})}),P.jsx(iB,{})]})}function rV(){return P.jsx(tB,{children:P.jsx(_N,{basename:"/Adtvnus/",children:P.jsx(oN,{children:P.jsxs($g,{element:P.jsx(sV,{}),children:[P.jsx($g,{path:"/",element:P.jsx(nV,{})}),P.jsx($g,{path:"/resume",element:P.jsx(iV,{})})]})})})})}Cw.createRoot(document.getElementById("root")).render(P.jsx(xa.StrictMode,{children:P.jsx(rV,{})}));
